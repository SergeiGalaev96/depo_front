{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\depo\\\\src\\\\pages\\\\Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport ComponentManager from \"../components/ComponentManager/ComponentManager.jsx\";\nimport Box from \"@material-ui/core/Box\";\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button'; // PIN components\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'; // Icons\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToAppOutlined\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircleOutlineOutlined\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport Notification from \"@material-ui/icons/Notifications\";\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport EmailIcon from '@material-ui/icons/Email';\nimport Badge from '@material-ui/core/Badge';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward'; // Libs\n\nimport { useKeycloak } from \"../lib\";\nimport swal from \"sweetalert\"; // https://sweetalert.js.org/guides/\n\nimport { ToastContainer, toast } from 'react-toastify'; // https://fkhadra.github.io/react-toastify/introduction/\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport * as rutoken from \"rutoken\";\nimport moment from \"moment\";\nvar plugin = null;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nfunction TabPanel(props) {\n  const {\n    children,\n    currentTab,\n    selectedTab,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(Typography, Object.assign({\n    component: \"div\",\n    role: \"tabpanel\",\n    hidden: currentTab !== selectedTab,\n    id: `scrollable-auto-tabpanel-${selectedTab}`,\n    \"aria-labelledby\": `scrollable-auto-tab-${selectedTab}`\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    p: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, children));\n}\n\nfunction a11yProps(id) {\n  return {\n    id: `scrollable-auto-tab-${id}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${id}`\n  };\n}\n\nvar HashMap = require(\"hashmap\");\n\nconst drawerWidth = 250;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  toolbar: {\n    paddingRight: 24,\n    // keep right padding when drawer closed\n    backgroundColor: \"#0F6038\" // height: \"200px\"\n\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: 36\n  },\n  menuButtonHidden: {\n    display: \"none\"\n  },\n  title: {\n    flexGrow: 1\n  },\n  drawerPaper: {\n    // backgroundColor: \"#E6F3ED\",\n    position: \"fixed\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9)\n    }\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: \"86vh\",\n    marginTop: \"110px\",\n    // height: \"100vh\",\n    overflow: \"auto\" // paddingTop: \"190px\",\n    // border: \"1px solid red\"\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  modal: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  },\n  hrefStyleTop: {\n    position: 'absolute',\n    backgroundColor: \"white\",\n    border: '1px solid grey',\n    height: \"35px\",\n    width: \"35px\"\n  },\n  hrefStyleBottom: {\n    position: 'absolute',\n    backgroundColor: \"white\",\n    border: '1px solid grey',\n    height: \"35px\",\n    width: \"35px\"\n  }\n}));\nconst useStylesnav = makeStyles(theme => ({\n  root: {\n    overflow: \"hidden\",\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  },\n  listItemText: {\n    fontSize: 13,\n    paddingLeft: \"2px\" // \"display\": \"flex\", \n    // \"flex-wrap\": \"wrap\",\n\n  },\n  level1: {\n    paddingLeft: theme.spacing(0),\n    maxHeight: 20\n  },\n  level2: {\n    paddingLeft: theme.spacing(0),\n    maxHeight: 20\n  },\n  level3: {\n    paddingLeft: theme.spacing(1),\n    maxHeight: 20\n  },\n  tabs: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  }\n}));\n\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nfunction getHrefStyleTop() {\n  const bottom = 7;\n  const right = 2;\n  return {\n    bottom: `${bottom}%`,\n    right: `${right}%`,\n    transform: `translate(-${bottom}%, -${right}%)`\n  };\n}\n\nfunction getHrefStyleBottom() {\n  const bottom = 2;\n  const right = 2;\n  return {\n    bottom: `${bottom}%`,\n    right: `${right}%`,\n    transform: `translate(-${bottom}%, -${right}%)`\n  };\n}\n\nrutoken.ready // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n.then(function () {\n  if (window.chrome || typeof InstallTrigger !== 'undefined') {\n    return rutoken.isExtensionInstalled();\n  } else {\n    return Promise.resolve(true);\n  }\n}) // Проверка установки Рутокен Плагина\n.then(function (result) {\n  if (result) {\n    return rutoken.isPluginInstalled();\n  } else {// alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n  }\n}) // Загрузка плагина\n.then(function (result) {\n  if (result) {\n    return rutoken.loadPlugin();\n  } else {// alert(\"Не удаётся найти Плагин\");\n  }\n}) //Можно начинать работать с плагином\n.then(function (result) {\n  if (!result) {\n    return; // alert(\"Не удаётся загрузить Плагин\")\n  } else {\n    plugin = result;\n    return Promise.resolve();\n  }\n});\nexport default (() => {\n  const {\n    keycloak\n  } = useKeycloak(); // This.state\n\n  const [selectedTab, setSelectedTab] = useState(null);\n  const [tabs, setTabs] = useState([]);\n  const [endpoint] = useState(\"ws://192.168.2.109:3220\"); //Local\n\n  const [api] = useState(\"/api\"); //Local api\n  // const [endpoint] = useState(\"wss://depo.cds.kg:3120\") //Rented Server UBUNTU\n  // const [api] = useState(\"/back/api\") //Server api\n  // const [endpoint] = useState(\"wss://depo-test.cds.kg:3120\") //OLD Server\n\n  const [routes, setRoutes] = useState([]);\n  const [session_id, setSession_id] = useState(null);\n  const [webSocketMessage, setWebSocketMessage] = useState(null); // const [currTaskId, setCurrTaskId] = useState(null)\n\n  const [opennav, setOpennav] = useState(false);\n  const [openDrawer, setOpenDrawer] = useState(true);\n  const [tabCounter, setTabCounter] = useState(1);\n  const [menuItemStates, setMenuItemStates] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const [tabData, setTabData] = useState(null); // User\n\n  const [userProfile, setUserProfile] = useState({});\n  const [userRoleLabel, setUserRoleLabel] = useState(\"\");\n  const [unreadInstructions, setUnreadInstructions] = useState(0);\n  const [urgentUnreadInstructions, setUrgentUnreadInstructions] = useState(false);\n  const [unreadDistributions, setUnreadDistributions] = useState(0);\n  const [operDayIsOpened, setOperDayIsOpened] = useState(null);\n  const [lastClosedDate, setLastClosedDate] = useState(moment(new Date()).format(\"DD.MM.YYYY\"));\n  const [restore, setRestore] = useState(false); // Rutoken\n\n  const [rutokenRequired, setRutokenRequired] = useState(true);\n  const [modalStyle] = useState(getModalStyle);\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false);\n  const [rutokenPin, setRutokenPin] = useState(\"\");\n  const [showPin, setShowPin] = useState(false);\n  const [wrongPin, setWrongPin] = useState(false);\n  const [esUserFullName, setEsUserFullName] = useState(null);\n  const [esInn, setEsInn] = useState(null);\n  const [esExpiredDate, setEsExpiredDate] = useState(null);\n  const classes = useStyles();\n  const classesnav = useStylesnav();\n  const [hrefStyleTop] = useState(getHrefStyleTop);\n  const [hrefStyleBottom] = useState(getHrefStyleBottom);\n\n  const handleDrawerOpen = () => {\n    setOpenDrawer(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpenDrawer(false);\n  }; // console.log(\"INN\", esInn)\n\n\n  useEffect(() => {\n    if (tabData === null) {\n      setTabData(new HashMap());\n    }\n\n    keycloak.loadUserProfile().success(function (profile) {\n      let curUserProfile = {\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        email: profile.email,\n        username: profile.username\n      };\n\n      try {\n        if (profile.attributes[\"rutokenRequired\"][0] === \"true\") {\n          setRutokenRequired(true);\n        } else {\n          setRutokenRequired(false);\n          setRestore(true);\n        }\n      } catch (er) {\n        setRutokenRequired(false);\n        setRestore(true);\n      }\n\n      for (let i in profile.attributes) {\n        let value = profile.attributes[i][0] === \"true\" ? true : profile.attributes[i][0] === \"false\" ? false : profile.attributes[i][0];\n        curUserProfile[i] = value;\n      }\n\n      if (curUserProfile.rutokenRequired === true) {\n        setShowModalEnterPin(true);\n      }\n\n      setUserProfile(curUserProfile);\n      console.log(\"PROFILE\", curUserProfile);\n    }).error(function () {\n      console.log(\"Failed to load user profile\");\n    });\n  }, []); // RuToken functions\n  // Sign with rutoken\n\n  function sign(data) {\n    var textToSign = data;\n\n    if (textToSign.length == 0) {\n      console.log(\"Не хватает текста для подписи\");\n      return;\n    }\n\n    if (plugin !== null) {\n      // Перебор подключенных Рутокенов\n      plugin.enumerateDevices().then(function (devices) {\n        if (devices.length > 0) {\n          return Promise.resolve(devices[0]);\n        } else {\n          swAllert(\"Рутокен не обнаружен\", \"warning\");\n        }\n      }) // Проверка залогиненности\n      .then(function (firstDevice) {\n        rutokenHandle = firstDevice;\n        return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n      }) // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n      .then(function (isLoggedIn) {\n        // console.log(\"PIN\", rutokenPin)\n        if (isLoggedIn) {\n          return Promise.resolve();\n        } else {\n          return plugin.login(rutokenHandle, rutokenPin);\n        }\n      }) // Перебор пользовательских сертификатов на токене\n      .then(function () {\n        return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n      }).then(function (certs) {\n        if (certs.length > 0) {\n          certHandle = certs[0];\n          return plugin.parseCertificate(rutokenHandle, certs[0]);\n        } else {\n          alert(\"Сертификат на Рутокен не обнаружен\");\n        }\n      }) // Подписание данных из текстового поля на первом найденом сертификате\n      .then(function (certs) {\n        certData = certs;\n        console.log(\"RUTDATA\", certData); // var r = plugin.getCertificateInfo(0, certs).then(function (res){console.log(res)})\n        // console.log(\"res\", r)\n\n        if (certHandle.length > 0) {\n          var options = {};\n          let inn = \"\";\n          let fullName = \"\";\n\n          for (let i = 0; i < certData.subject.length; i++) {\n            if (certData.subject[i].rdn === \"serialNumber\") {\n              inn = certData.subject[i].value;\n            }\n\n            if (certData.subject[i].rdn === \"commonName\") {\n              fullName = certData.subject[i].value;\n            }\n          }\n\n          console.log(\"ESDATA\", inn, fullName);\n          setEsInn(inn);\n          setEsUserFullName(fullName);\n          setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1));\n          restoreUserTabs();\n          handleCloseModalEnterPin();\n          return plugin.sign(rutokenHandle, certHandle, textToSign, plugin.DATA_FORMAT_PLAIN, options);\n        } else {\n          alert(\"Сертификат на Рутокен не обнаружен\");\n        }\n      }) // Закрытие сессии\n      .then(function () {\n        plugin.logout(rutokenHandle);\n      }, handleError);\n    } else {\n      swAllert(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\");\n    }\n  } // catch errors while signing docs\n\n\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true);\n          break;\n\n        default:\n          alert(\"Неизвестная ошибка\");\n      }\n    }\n  }\n\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false);\n  };\n\n  function handlePinChange(event) {\n    console.log(\"PIN EV\", event.target.value);\n    setRutokenPin(event.target.value);\n    setWrongPin(false); // console.log(\"PIN\", event.target.value)\n  }\n\n  function handleClickShowPin() {\n    setShowPin(!showPin);\n  }\n\n  function onKeyPressModalEnterPin(event) {\n    console.log(\"KP EV\", event.target.value);\n    let code = event.charCode;\n\n    if (code === 13) {\n      buttonClick(\"SignButton\");\n    }\n  }\n\n  function swAllert(text, icon) {\n    return swal({\n      text: text,\n      icon: icon,\n      buttons: {\n        ok: \"Ок\"\n      }\n    });\n  } // Main socket connection and data receiving\n\n\n  if (socket === null && userProfile.userRole !== undefined) {\n    setSocket(new WebSocket(endpoint));\n    console.log(\"CONNECTING...\", endpoint);\n  }\n\n  if (socket !== null) {\n    socket.onmessage = async function (message) {\n      var incomingJson = JSON.parse(message.data);\n      console.log(\"Socket message\", incomingJson); // console.log(\"TAB DATA\", tabData)\n\n      if (incomingJson.messageType === \"session_id\") {\n        console.log(\"CONNECTED TO: \", endpoint);\n        console.log(\"NEW SESSION: \", incomingJson.session_id);\n        setSession_id(incomingJson.session_id);\n        socket.send(JSON.stringify({\n          commandType: \"setUserData\",\n          userId: userProfile.userId,\n          session_id: incomingJson.session_id,\n          userRole: userProfile.userRole,\n          partner: userProfile.partner,\n          token: \"Bearer \" + keycloak.token\n        }));\n      } else if (incomingJson.messageType === \"userDataInserted\") {\n        console.log(\"userDataInserted\", incomingJson.session_id);\n        socket.send(JSON.stringify({\n          commandType: \"getMenu\",\n          userProfile: userProfile,\n          session_id: incomingJson.session_id,\n          token: \"Bearer \" + keycloak.token\n        }));\n        socket.send(JSON.stringify({\n          commandType: \"getUserRoleLabel\",\n          userProfile: userProfile,\n          session_id: incomingJson.session_id,\n          token: \"Bearer \" + keycloak.token\n        }));\n\n        if (restore === true) {\n          restoreUserTabs();\n        }\n      } else if (incomingJson.messageType === \"Menu\") {\n        let updatedMenuItemStates = menuItemStates.slice();\n\n        for (let i = 0; i < incomingJson.routes.length; i++) {\n          if (incomingJson.routes[i].level2 !== undefined) {\n            let newMenuItem = {\n              name: incomingJson.routes[i].name,\n              state: incomingJson.routes[i].state\n            };\n            updatedMenuItemStates.push(newMenuItem);\n\n            for (let l = 0; l < incomingJson.routes[i].level2.length; l++) {\n              if (incomingJson.routes[i].level2[l].level3 !== undefined) {\n                let newMenuItem2 = {\n                  name: incomingJson.routes[i].level2[l].name,\n                  state: incomingJson.routes[i].level2[l].state\n                };\n                updatedMenuItemStates.push(newMenuItem2);\n              }\n            }\n          }\n        }\n\n        setRoutes(incomingJson.routes);\n        setMenuItemStates(updatedMenuItemStates); // console.log(\"MENU States\", updatedMenuItemStates)\n      } else if (incomingJson.messageType === \"userTask\") {\n        console.log(\"NEW TASK\", incomingJson.taskType);\n\n        if (tabData.get(incomingJson.process_id) === undefined) {\n          tabData.set(incomingJson.process_id, incomingJson);\n          setWebSocketMessage(incomingJson); // setCurrTaskId(incomingJson.taskID)\n        } else {\n          clearTabData(incomingJson.process_id);\n          tabData.set(incomingJson.process_id, incomingJson);\n          setWebSocketMessage(incomingJson); // setCurrTaskId(incomingJson.taskID)\n        }\n      } else if (incomingJson.messageType === \"restoreTab\") {\n        if (tabData.get(incomingJson.process_id) === undefined) {\n          await tabData.set(incomingJson.process_id, incomingJson);\n          let updatedTabs = tabs.slice();\n          updatedTabs.push({\n            id: incomingJson.process_id,\n            name: incomingJson.process_id,\n            label: incomingJson.tabLabel + \" \" + tabCounter\n          });\n          setTabs(updatedTabs);\n          setSelectedTab(incomingJson.process_id);\n          setTabCounter(tabCounter + 1); // setCurrTaskId(incomingJson.taskID)\n\n          setWebSocketMessage(incomingJson); // console.log(\"restoreTab\", incomingJson)\n        }\n      } else if (incomingJson.messageType === \"error\") {\n        setWebSocketMessage(incomingJson); // console.log(\"webSocket ERROR\", incomingJson)\n\n        tabData.set(incomingJson.process_id, incomingJson); // setCurrTaskId(incomingJson.taskID)\n\n        handleCloseCurrentTab(incomingJson.process_id);\n      } else if (incomingJson.messageType === \"notifications\") {\n        let unreadInstructions = JSON.parse(incomingJson.unreadInstructions); // console.log(\"NOTIFICATIONS\", unreadInstructions)\n\n        setUrgentUnreadInstructions(unreadInstructions.urgent);\n        setUnreadInstructions(parseInt(unreadInstructions.count));\n      } else if (incomingJson.messageType === \"notification\") {\n        swal({\n          text: incomingJson.text,\n          icon: incomingJson.icon\n        });\n      } else if (incomingJson.messageType === \"distributions\") {\n        let unreadDistributions = JSON.parse(incomingJson.unreadDistributions);\n        console.log(\"unreadDistributions\", unreadDistributions);\n\n        if (unreadDistributions.length > 3) {\n          setUnreadDistributions(unreadDistributions.substring(0, 3) + \"+\");\n        } else {\n          setUnreadDistributions(unreadDistributions);\n        }\n      } else if (incomingJson.messageType === \"toast\") {\n        if (incomingJson.toastType === \"success\") {\n          callSuccessToast(incomingJson.toastText); // toast(incomingJson.toastText, {\n          //   position: \"top-right\",\n          //   autoClose: 6000,\n          //   hideProgressBar: false,\n          //   closeOnClick: true,\n          //   pauseOnHover: true,\n          //   draggable: true,\n          //   progress: undefined,\n          // })\n        } else if (incomingJson.toastType === \"error\") {\n          callErrorToast(incomingJson.toastText); // toast.error(incomingJson.toastText, {\n          //   position: \"top-right\",\n          //   autoClose: 9000,\n          //   hideProgressBar: false,\n          //   closeOnClick: true,\n          //   pauseOnHover: true,\n          //   draggable: true,\n          //   progress: undefined,\n          // })\n        }\n      } else if (incomingJson.messageType === \"operDayStatus\") {\n        let opDayStatus = JSON.parse(incomingJson.status);\n        console.log(\"OP DAY\", opDayStatus); // if (opDayStatus.isOpened === true) {\n\n        setOperDayIsOpened(opDayStatus.isOpened);\n        setLastClosedDate(moment(new Date(opDayStatus.lastClosedDate)).format(\"DD.MM.YYYY\")); // }\n        // else {\n        //   setOperDayIsOpened(false)\n        // }\n      } else if (incomingJson.messageType === \"userRoleLabel\") {\n        // console.log(\"ROLE\", incomingJson)\n        setUserRoleLabel(incomingJson.userRoleLabel);\n      } else {// console.log(\"Unknown RESTMessage\", incomingJson)\n      }\n    };\n\n    socket.onclose = function (er) {\n      console.log(\"CONNECTION CLOSED \", endpoint);\n      setSocket(null);\n    };\n  }\n\n  function callSuccessToast(text) {\n    toast(text, {\n      position: \"top-right\",\n      autoClose: 6000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  }\n\n  function callErrorToast(text) {\n    toast.error(text, {\n      position: \"top-right\",\n      autoClose: 9000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  }\n\n  function restoreUserTabs() {\n    console.log(\"RESTORE STARTED\");\n    setRestore(false);\n    socket.send(JSON.stringify({\n      commandType: \"restoreSession\",\n      userId: userProfile.userId,\n      session_id: session_id,\n      userRole: userProfile.userRole,\n      token: \"Bearer \" + keycloak.token\n    }));\n    socket.send(JSON.stringify({\n      commandType: \"getOperDayStatus\",\n      userId: userProfile.userId,\n      session_id: session_id,\n      token: \"Bearer \" + keycloak.token\n    }));\n    socket.send(JSON.stringify({\n      commandType: \"launchProcess\",\n      processKey: \"process_169eccff-4a0c-4b5f-8eda-150965351a91\",\n      session_id: session_id,\n      process_id: \"null\",\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        user_session_id: {\n          value: session_id\n        },\n        userAction: {\n          value: \"getNotificationsCount\"\n        }\n      }\n    }));\n    updateMailDistributions();\n  }\n\n  function updateMailDistributions() {\n    socket.send(JSON.stringify({\n      commandType: \"getUnreadDistributions\",\n      // processKey: \"process_673b1ef0-a228-476c-832a-682b14e5cc93\",\n      session_id: session_id,\n      process_id: \"null\",\n      userId: userProfile.userId,\n      partner: userProfile.partner,\n      token: \"Bearer \" + keycloak.token // variables: {\n      //   user_session_id: { value: session_id },\n      //   userAction: { value: \"getUnreadDistributions\" },\n      //   user_id_recipient: { value: userProfile.partner},\n      //   userId: { value: userProfile.userId },\n      // }\n\n    }));\n  }\n\n  function reduceMailDistributions() {\n    if (unreadDistributions > 0) {\n      setUnreadDistributions(unreadDistributions - 1);\n    }\n  } // Main button click handler\n\n\n  function buttonClick(buttonName) {\n    // console.log(\"Button\", buttonName)\n    if (buttonName === \"SignButton\") {\n      console.log(\"button Sign: \");\n\n      if (rutokenPin === \"\") {\n        setWrongPin(true);\n      } else {\n        sign(\"WriteESDatatoLocalState\");\n      }\n    } else {\n      console.log(\"button: \", buttonName);\n    }\n  }\n\n  function sendFieldValues(commandJson) {\n    if (socket.readyState === socket.OPEN) {\n      commandJson[\"token\"] = \"Bearer \" + keycloak.token;\n      commandJson[\"session_id\"] = session_id;\n      console.log(\"CUR SESSION: \", session_id);\n\n      if (commandJson.commandType !== \"deleteSavedDoc\") {\n        clearTabData(commandJson.process_id);\n      }\n\n      if (commandJson.variables !== undefined) {\n        if (commandJson.variables[\"userAction\"][\"value\"] === \"cancel\") {\n          closeTab(selectedTab);\n          socket.send(JSON.stringify(commandJson));\n        } else {\n          commandJson.variables[\"authorization\"] = {\n            value: \"Bearer \" + keycloak.token\n          };\n          socket.send(JSON.stringify(commandJson));\n          console.log(\"HOME SEND\", commandJson.session_id);\n        }\n      } else {\n        socket.send(JSON.stringify(commandJson)); // console.log(\"HOME SEND\", commandJson)\n      }\n    } else {\n      setSession_id(null);\n      setSocket(null);\n      clearTabData(commandJson.process_id);\n    } // setCurrTaskId(getUUID())\n\n  }\n\n  function handleCloseCurrentTab(tabId) {\n    var selectedTabData = tabData.get(tabId);\n\n    if (selectedTabData !== undefined) {\n      var commandJson = {\n        commandType: \"completeTask\",\n        session_id: selectedTabData.session_id,\n        process_id: selectedTabData.process_id,\n        taskID: selectedTabData.taskID,\n        token: \"Bearer \" + keycloak.token,\n        variables: {\n          userAction: {\n            value: \"cancel\"\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          }\n        }\n      };\n\n      if (userProfile.userRole === \"1\") {\n        sendFieldValues(commandJson);\n        closeTab(tabId);\n      } else {\n        if (selectedTabData.taskType === \"showSearchUser\" || selectedTabData.taskType === \"showAccountsSearchForm\" || selectedTabData.taskType === \"showSecuritiesSearchForm\" || selectedTabData.taskType === \"showIssuersSearchForm\" || selectedTabData.taskType === \"showDepositorsSearchForm\" || selectedTabData.taskType === \"showDepositoriesSearchForm\" || selectedTabData.taskType === \"showIssuersSearchForm\" || selectedTabData.taskType === \"showPartnersSearchForm\" || selectedTabData.taskType === \"showTransactionsSearchForm\" || selectedTabData.taskType === \"showReferenceListSearchForm\" || selectedTabData.taskType === \"showInstructionsSearchForm\" || selectedTabData.taskType === \"showInstructionsRegistrarsSearchForm\" || selectedTabData.taskType === \"showChargeForCDServicesSearchForm\" || selectedTabData.taskType === \"showTransitChargeForCDServicesSearchForm\" || selectedTabData.taskType === \"showPaymentsForCDServicesSearchForm\" || selectedTabData.taskType === \"showTransitPaymentsForCDServicesSearchForm\" || selectedTabData.taskType === \"showAccountingReportsSelectingForm\" || selectedTabData.taskType === \"showCurrencyRatesSearchForm\" || selectedTabData.taskType === \"showServiceTypesSearchForm\" || selectedTabData.taskType === \"showServiceGroupsSearchForm\" || selectedTabData.taskType === \"showImportFileGIKForm\" || selectedTabData.taskType === \"showQuestinariesGIKSearchForm\" || selectedTabData.taskType === \"showAccountsGIKSearchForm\" || selectedTabData.taskType === \"showReportsSelectingForm\" || selectedTabData.taskType === \"showTariffsRegistrarsSearchForm\" || selectedTabData.taskType === \"showTradesSearchForm\" || selectedTabData.taskType === \"showContractsSearchForm\" || selectedTabData.taskType === \"CorporativeActionsForm\" || selectedTabData.taskType === \"showStockSecuritySearchForm\" || selectedTabData.taskType === \"showStockCurrencySearchForm\" || selectedTabData.taskType === \"showUploadDataToTSForm\" || selectedTabData.taskType === \"showLoadDataFromTSForm\" || selectedTabData.taskType === \"showFormsEditForm\" || selectedTabData.taskType === \"showTariffsCDSearchForm\" || selectedTabData.taskType === \"showFormsSearchForm\" || selectedTabData.taskType === \"showAccountingEntrySearchForm\" || selectedTabData.taskType === \"showSecuritiesOrdersHistorySearchForm\" || selectedTabData.taskType === \"showCurrenciesOrdersHistorySearchForm\" || selectedTabData.taskType === \"showSecuritiesTradesHistorySearchForm\" || selectedTabData.taskType === \"showCurrenciesTradesHistorySearchForm\" || selectedTabData.taskType === \"showLoadDataFromTSSecuritiesForm\" || selectedTabData.taskType === \"showUploadDataToTSSecuritiesForm\" || selectedTabData.taskType === \"showLoadDataFromTSCurrenciesForm\" || selectedTabData.taskType === \"showUploadDataToTSCurrenciesForm\" || selectedTabData.taskType === \"showOperationDayForm\" || selectedTabData.taskType === \"showRegistrarsSearchForm\" || selectedTabData.taskType === \"showTariffsCorrDepositorySearchForm\" || selectedTabData.taskType === \"showCoefficientDepositorsSearchForm\" || selectedTabData.taskType === \"showInstructionsTypeSelectingForm\" || selectedTabData.taskType === \"showReportsCreatingForm\" || selectedTabData.taskType === \"showTransferOrdersSearchForm\" || selectedTabData.taskType === \"corporativeActionsMainForm\" || selectedTabData.taskType === \"showCorrDepositoriesSearchForm\" || selectedTabData.taskType === \"showNewSecurityApplicationsSearchForm\" || selectedTabData.taskType === \"showMortgageSecuritiesSearchForm\" || selectedTabData.taskType === \"showExchangeTSFilesSearchForm\" || selectedTabData.taskType === \"showExchangeTSFilesListForm\" || selectedTabData.taskType === \"error\") {\n          sendFieldValues(commandJson);\n          closeTab(tabId);\n        } else handleOpenSwal(\"Вы действительно хотите закрыть вкладку?\", {\n          yes: \"Да\",\n          no: \"Нет\"\n        }, tabId);\n      }\n    }\n  } // Custom allert component\n\n\n  function handleOpenSwal(text, swalButtons, tabId) {\n    return swal({\n      text: text,\n      icon: \"warning\",\n      buttons: swalButtons\n    }).then(click => {\n      if (click === \"yes\") {\n        handleCloseCurrentTabModal(tabId);\n      }\n    });\n  } // Close current tab from opened alert component\n\n\n  function handleCloseCurrentTabModal(tabId) {\n    var selectedTabData = tabData.get(tabId);\n    var commandJson = {\n      commandType: \"completeTask\",\n      session_id: selectedTabData.session_id,\n      process_id: selectedTabData.process_id,\n      taskID: selectedTabData.taskID,\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        userAction: {\n          value: \"cancel\"\n        },\n        userId: {\n          value: userProfile.userId\n        },\n        userRole: {\n          value: userProfile.userRole\n        }\n      }\n    };\n    sendFieldValues(commandJson);\n    closeTab(tabId);\n  } // wrap up menu items\n\n\n  function handleOpenMenuClick(name) {\n    // console.log(\"Event\", name)\n    for (var i = 0; i < menuItemStates.length; i++) {\n      if (menuItemStates[i].name === name) {\n        if (menuItemStates[i].state === true) {\n          menuItemStates[i].state = false;\n        } else {\n          menuItemStates[i].state = true;\n        }\n      }\n    }\n\n    setOpennav(!opennav);\n  } // launch process related to menu button\n\n\n  function handleMenuButtonClick(button) {\n    // console.log(\"Menu button clicked\", button)\n    if (button.name !== \"insertForm\" && button.name !== \"redeploy\") {\n      var process_id = getUUID();\n      let updatedTabs = tabs.slice();\n      updatedTabs.push({\n        id: process_id,\n        name: process_id,\n        label: button.parentLabel + \" \" + tabCounter\n      });\n      setTabs(updatedTabs);\n      setSelectedTab(process_id);\n      setTabCounter(tabCounter + 1);\n    }\n\n    const commandJson = {\n      commandType: button.commandType,\n      processKey: button.processKey,\n      process_id: process_id,\n      session_id: session_id,\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        user_session_id: {\n          value: session_id\n        },\n        process_id: {\n          value: process_id\n        },\n        userAction: {\n          value: \"filter\"\n        },\n        userId: {\n          value: userProfile.userId\n        },\n        userRole: {\n          value: userProfile.userRole\n        },\n        tabLabel: {\n          value: button.parentLabel\n        },\n        authorization: {\n          value: \"Bearer \" + keycloak.token\n        }\n      }\n    };\n    sendFieldValues(commandJson); // console.log(\"Menu Button \", commandJson)\n  }\n\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\");\n\n    return uuidv1();\n  }\n\n  async function handleTabChange(tabId) {\n    setSelectedTab(tabId);\n    console.log(\"TAB CHANGE\", tabId);\n  }\n\n  function clearTabData(process_id) {\n    tabData.remove(process_id); // setCurrTaskId(null)\n    // console.log(\"Clearing TabData\", tabData, \"ID\", process_id)\n  } // close selected tab clear it\"s data from cache & change tab counter\n\n\n  function closeTab(process_id) {\n    if (process_id !== undefined) {\n      // console.log(\"Closing TAB\", process_id)\n      let copyTabs = [...tabs];\n      let newTabs = [];\n\n      for (var i = 0; i < copyTabs.length; i++) {\n        if (copyTabs[i].id !== process_id) {\n          newTabs.push(copyTabs[i]);\n        } else {\n          // console.log(\"TAB TO CLOSE\", copyTabs[i].id, i)\n          if (i > 0 && newTabs.length > 0) {\n            setSelectedTab(newTabs[i - 1].id);\n          } else {\n            if (copyTabs.length > 1) {\n              setSelectedTab(copyTabs[1].id);\n            } else {\n              setSelectedTab(null);\n            }\n          }\n        }\n      } // console.log(\"TABS\", newTabs, newTabs.length)\n\n\n      if (newTabs.length === 0) {\n        setTabCounter(1);\n      }\n\n      setTabs(newTabs);\n    } // // console.log(\"Closing TAB\", process_id)\n    // let updatedTabs = tabs.slice()\n    // for (i = 0; i < updatedTabs.length; i++) {\n    //   if (updatedTabs[i].id === process_id) {\n    //     // console.log(\"INDEX\", i)\n    //     updatedTabs.splice(i, 1)\n    //   }\n    // }\n    // if (Object.keys(updatedTabs).length === 0) {\n    //   setSelectedTab(null)\n    //   setTabCounter(1)\n    // }\n    // else {\n    //   setSelectedTab(updatedTabs[0].id)\n    //   setTabs(updatedTabs)\n    // }\n\n  } // Creating Menu Levels 1-3\n\n\n  function getLevel1Items(level1, index) {\n    // console.log(\"Creating Menu menuItemStates\", menuItemStates)\n    if (level1.level2 === undefined) {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        key: index,\n        className: classesnav.level1,\n        onClick: () => handleMenuButtonClick(level1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classesnav.listItemText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 11\n        }\n      }, openDrawer === true ? level1.label : \"\"));\n    } else {\n      for (var i = 0; i < menuItemStates.length; i++) {\n        if (menuItemStates[i].name === level1.name) {\n          return /*#__PURE__*/React.createElement(List, {\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1028,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(ListItem, {\n            button: true,\n            key: index,\n            className: classesnav.level1,\n            onClick: () => handleOpenMenuClick(level1.name),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1029,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(AddCircleIcon, {\n            style: {\n              height: 20\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1035,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: classesnav.listItemText,\n            style: {\n              \"fontWeight\": \"bold\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 17\n            }\n          }, openDrawer === true ? level1.label : \"\"), menuItemStates[i].state === true ? /*#__PURE__*/React.createElement(ExpandLess, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1037,\n              columnNumber: 55\n            }\n          }) : /*#__PURE__*/React.createElement(ExpandMore, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1037,\n              columnNumber: 72\n            }\n          })), /*#__PURE__*/React.createElement(Collapse, {\n            in: menuItemStates[i].state,\n            timeout: \"auto\",\n            unmountOnExit: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 15\n            }\n          }, level1.level2.map((level2Item, index) => getLevel2Items(level2Item, index))));\n        }\n      }\n    }\n  }\n\n  function getLevel2Items(level2, index) {\n    // console.log(\"Level2\", level2)\n    if (level2.level3 === undefined) {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        className: classesnav.level2,\n        key: index,\n        onClick: () => handleMenuButtonClick(level2),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1054,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n        style: {\n          height: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classesnav.listItemText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 11\n        }\n      }, openDrawer === true ? level2.label : \"\"));\n    } else {\n      for (var i = 0; i < menuItemStates.length; i++) {\n        if (menuItemStates[i].name === level2.name) {\n          return /*#__PURE__*/React.createElement(List, {\n            component: \"div\",\n            disablePadding: true,\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1068,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(ListItem, {\n            button: true,\n            className: classesnav.level2,\n            key: index,\n            onClick: () => handleOpenMenuClick(level2.name),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1069,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(AddCircleIcon, {\n            style: {\n              height: 20\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1074,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: classesnav.listItemText,\n            style: {\n              \"fontWeight\": \"bold\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1075,\n              columnNumber: 17\n            }\n          }, openDrawer === true ? level2.label : \"\"), menuItemStates[i].state === true ? /*#__PURE__*/React.createElement(ExpandLess, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1076,\n              columnNumber: 55\n            }\n          }) : /*#__PURE__*/React.createElement(ExpandMore, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1076,\n              columnNumber: 72\n            }\n          })), /*#__PURE__*/React.createElement(Collapse, {\n            in: menuItemStates[i].state,\n            timeout: \"auto\",\n            unmountOnExit: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 15\n            }\n          }, level2.level3.map((level3Item, index) => getLevel3Items(level3Item, index))));\n        }\n      }\n    }\n  }\n\n  function getLevel3Items(level3, index) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      button: true,\n      className: classesnav.level3,\n      key: index,\n      onClick: () => handleMenuButtonClick(level3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n      style: {\n        height: 20,\n        color: \"grey\",\n        marginLeft: \"4px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1096,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classesnav.listItemText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1097,\n        columnNumber: 9\n      }\n    }, openDrawer === true ? level3.label : \"\"));\n  }\n\n  if (menuItemStates.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      style: {\n        paddingTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1103,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1104,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1105,\n        columnNumber: 9\n      }\n    }, \"Loading...\"));\n  }\n\n  function handleOperDayClick() {\n    if (userProfile.userRole === \"1\" || userProfile.userRole === \"7\") {\n      handleMenuButtonClick({\n        commandType: \"launchProcess\",\n        processKey: \"process_e79e1386-4473-4d35-8106-acd3fafaa129\",\n        parentLabel: \"Операц-й день\"\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1117,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AppBar, {\n    style: {\n      position: \"fixed\"\n    },\n    className: clsx(classes.appBar, openDrawer && classes.appBarShift),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    onClick: handleDrawerOpen,\n    className: clsx(classes.menuButton, openDrawer && classes.menuButtonHidden),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1127,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h6\",\n    color: \"inherit\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1130,\n      columnNumber: 13\n    }\n  }, \"\\u0426\\u0414\"), userProfile.userId !== undefined && /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1134,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1136,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1137,\n      columnNumber: 21\n    }\n  }, moment(new Date()).format(\"DD.MM.YYYY\")), operDayIsOpened !== null && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingRight: 15,\n      cursor: \"pointer\"\n    },\n    onClick: () => handleOperDayClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1141,\n      columnNumber: 23\n    }\n  }, \"\\u041E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0439 \\u0434\\u0435\\u043D\\u044C: \", operDayIsOpened === true ? \"Открыт\" : \"Закрыт\"), operDayIsOpened !== null && operDayIsOpened === false && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1149,\n      columnNumber: 23\n    }\n  }, lastClosedDate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1154,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    badgeContent: unreadDistributions,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1155,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(EmailIcon, {\n    style: {\n      cursor: \"pointer\"\n    },\n    fontSize: \"large\",\n    color: \"white\",\n    onClick: () => handleMenuButtonClick({\n      commandType: \"launchProcess\",\n      processKey: \"process_998ca68e-ee45-4b5b-ba23-5b9af4a34d38\",\n      parentLabel: \"КД\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1156,\n      columnNumber: 25\n    }\n  }))), (userProfile.userRole === \"1\" || userProfile.userRole === \"7\") && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1165,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    badgeContent: unreadInstructions,\n    color: unreadInstructions > 0 ? \"secondary\" : \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1166,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Notification, {\n    style: {\n      cursor: \"pointer\"\n    },\n    fontSize: \"large\",\n    color: urgentUnreadInstructions === true ? \"secondary\" : \"white\",\n    onClick: () => handleMenuButtonClick({\n      commandType: \"launchProcess\",\n      processKey: \"process_892bad05-cc0e-46b2-8e76-6aa1fed7cde0\",\n      parentLabel: \"Поручения\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1167,\n      columnNumber: 27\n    }\n  })))))), /*#__PURE__*/React.createElement(AccountCircleIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1180,\n      columnNumber: 13\n    }\n  }), !!keycloak.authenticated && /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1182,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1183,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1184,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1185,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1186,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1187,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1188,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1189,\n      columnNumber: 29\n    }\n  }, \"\\u0424\\u0418\\u041E:\"), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1190,\n      columnNumber: 29\n    }\n  }, userProfile.firstName + \" \" + userProfile.lastName.substring(0, 1) + \".\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1192,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1193,\n      columnNumber: 29\n    }\n  }, \"\\u0420\\u043E\\u043B\\u044C:\"), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1194,\n      columnNumber: 29\n    }\n  }, userRoleLabel))))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1199,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1200,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"inherit\",\n    style: {\n      fontSize: 14\n    },\n    onClick: () => keycloak.logout(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1201,\n      columnNumber: 25\n    }\n  }, \"\\u0412\\u044B\\u0439\\u0442\\u0438\")))))))), /*#__PURE__*/React.createElement(Drawer, {\n    variant: \"permanent\",\n    classes: {\n      paper: clsx(classes.drawerPaper, !openDrawer && classes.drawerPaperClose)\n    },\n    open: openDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1212,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbarIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1219,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"favicon.ico\",\n    height: \"65px\",\n    width: \"65px\",\n    style: {\n      marginRight: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1220,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleDrawerClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1221,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ChevronLeftIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1225,\n      columnNumber: 11\n    }\n  }), routes.map((level1, index) => getLevel1Items(level1, index))), /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1231,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    name: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1232,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      paddingLeft: openDrawer === true ? drawerWidth : 65\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1234,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    color: \"default\",\n    style: {\n      paddingLeft: openDrawer === true ? drawerWidth : 65\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1235,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tabs // key={currTaskId}\n  , {\n    style: {\n      height: \"110px\",\n      paddingTop: \"60px\"\n    },\n    position: \"fixed\",\n    value: selectedTab // onChange={(event, newValue)=> handleTabChange(event, newValue)}\n    ,\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    variant: \"scrollable\",\n    scrollButtons: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1236,\n      columnNumber: 15\n    }\n  }, tabs.map((tab, index) => /*#__PURE__*/React.createElement(Tab, Object.assign({\n    key: tab.id,\n    index: index,\n    onMouseDown: () => handleTabChange(tab.id),\n    label: /*#__PURE__*/React.createElement(Grid, {\n      style: {\n        fontSize: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1253,\n        columnNumber: 23\n      }\n    }, tab.label, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => handleCloseCurrentTab(tab.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1255,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      style: {\n        fontSize: \"medium\",\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1256,\n        columnNumber: 27\n      }\n    }))),\n    value: tab.id\n  }, a11yProps(tab.id), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1248,\n      columnNumber: 19\n    }\n  }))))), webSocketMessage !== null && tabs.map(tab => /*#__PURE__*/React.createElement(TabPanel // position=\"fixed\"\n  , {\n    currentTab: tab.id,\n    selectedTab: selectedTab,\n    key: tab.id,\n    style: {\n      paddingLeft: 10,\n      fontSize: \"0.9rem\"\n    },\n    value: tab.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1269,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ComponentManager // VARS\n  , {\n    api: api,\n    userProfile: userProfile,\n    selectedTab: selectedTab,\n    id: tab.id,\n    key: tab.id,\n    esInn: esInn,\n    esUserFullName: esUserFullName,\n    esExpiredDate: esExpiredDate // closeTab={closeTab}\n    // mailRest={mailRest}\n    ,\n    operDayIsOpened: operDayIsOpened,\n    userTask: tabData.get(tab.id) // FUNCS\n    ,\n    callSuccessToast: callSuccessToast,\n    callErrorToast: callErrorToast,\n    sendFieldValues: sendFieldValues,\n    handleCloseCurrentTab: handleCloseCurrentTab,\n    clearTabData: clearTabData,\n    updateMailDistributions: updateMailDistributions,\n    reduceMailDistributions: reduceMailDistributions,\n    setEsUserFullName: setEsUserFullName,\n    setEsInn: setEsInn,\n    setEsExpiredDate: setEsExpiredDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1277,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(Modal, {\n    open: showModalEnterPin // onClose={handleCloseModalEnterPin}\n    ,\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1307,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: modalStyle,\n    className: classes.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1313,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"simple-modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1314,\n      columnNumber: 15\n    }\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041F\\u0418\\u041D \\u043A\\u043E\\u0434 \\u0420\\u0443\\u0442\\u043E\\u043A\\u0435\\u043D\\u0430\"), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    style: {\n      width: \"100%\"\n    },\n    error: wrongPin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1315,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"outlined-adornment-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1316,\n      columnNumber: 17\n    }\n  }, \"PIN\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n    type: showPin ? 'text' : 'password',\n    defaultValue: rutokenPin,\n    onChange: handlePinChange,\n    onKeyPress: onKeyPressModalEnterPin,\n    autoFocus: true,\n    endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1324,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"toggle password visibility\",\n      onClick: handleClickShowPin,\n      edge: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1325,\n        columnNumber: 23\n      }\n    }, showPin ? /*#__PURE__*/React.createElement(Visibility, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1330,\n        columnNumber: 36\n      }\n    }) : /*#__PURE__*/React.createElement(VisibilityOff, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1330,\n        columnNumber: 53\n      }\n    }))),\n    labelWidth: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1317,\n      columnNumber: 17\n    }\n  })), wrongPin === true && /*#__PURE__*/React.createElement(\"p\", {\n    color: \"red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1337,\n      columnNumber: 37\n    }\n  }, \"\\u041D\\u0435 \\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 PIN\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => buttonClick(\"SignButton\"),\n    style: {\n      margin: 3,\n      height: 32,\n      fontSize: 12,\n      color: \"white\",\n      backgroundColor: \"#2862F4\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1338,\n      columnNumber: 15\n    }\n  }, \"\\u041E\\u043A\"))), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1352,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    style: {\n      paddingLeft: openDrawer === true ? drawerWidth : 65,\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1353,\n      columnNumber: 11\n    }\n  }, \"Copyright © \" + new Date().getFullYear() + \" Intersoft Ltd. All rights reserved. \"), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      paddingLeft: openDrawer === true ? drawerWidth : 65\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1356,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1359,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    width: \"20%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1360,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    name: \"USAID_logo\",\n    height: \"80px\",\n    width: \"auto\",\n    src: \"./USAID_logo.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1361,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    width: \"80%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1363,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      align: \"center\",\n      fontSize: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1364,\n      columnNumber: 17\n    }\n  }, \"Данная автоматизированная информационная система стала возможной благодаря помощи американского народа, оказанной через Агентство США по международному развитию (USAID). Закрытое Акционерное Общество (ЗАО) «Центральный депозитарий» Кыргызской Республики несет ответственность за содержание системы, которое не обязательно отражает позицию USAID или Правительства США.\")))), /*#__PURE__*/React.createElement(IconButton, {\n    href: \"#top\",\n    style: hrefStyleTop,\n    className: classes.hrefStyleTop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1370,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ArrowUpwardRoundedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1371,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    href: \"#bottom\",\n    style: hrefStyleBottom,\n    className: classes.hrefStyleBottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1373,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ArrowDownwardIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1374,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    name: \"bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1376,\n      columnNumber: 11\n    }\n  }))));\n});","map":{"version":3,"names":["React","useState","useEffect","clsx","makeStyles","CssBaseline","Drawer","AppBar","Toolbar","List","Typography","Divider","IconButton","Grid","ListItem","CircularProgress","Collapse","Tabs","Tab","ComponentManager","Box","Modal","Button","FormControl","FormControlLabel","OutlinedInput","InputLabel","InputAdornment","Visibility","VisibilityOff","MenuIcon","ChevronLeftIcon","ExitToAppIcon","ExpandLess","ExpandMore","AddCircleIcon","CloseIcon","AccountCircleIcon","Notification","NotificationsActiveIcon","EmailIcon","Badge","ArrowUpwardRoundedIcon","ArrowDownwardIcon","useKeycloak","swal","ToastContainer","toast","rutoken","moment","plugin","rutokenHandle","certHandle","certData","cmsData","TabPanel","props","children","currentTab","selectedTab","other","a11yProps","id","HashMap","require","drawerWidth","useStyles","theme","root","display","toolbar","paddingRight","backgroundColor","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","appBarSpacer","content","height","marginTop","overflow","paper","flexDirection","modal","palette","background","border","boxShadow","shadows","hrefStyleTop","hrefStyleBottom","useStylesnav","maxWidth","listItemText","fontSize","paddingLeft","level1","maxHeight","level2","level3","tabs","getModalStyle","top","left","transform","getHrefStyleTop","bottom","right","getHrefStyleBottom","ready","then","window","chrome","InstallTrigger","isExtensionInstalled","Promise","resolve","result","isPluginInstalled","loadPlugin","keycloak","setSelectedTab","setTabs","endpoint","api","routes","setRoutes","session_id","setSession_id","webSocketMessage","setWebSocketMessage","opennav","setOpennav","openDrawer","setOpenDrawer","tabCounter","setTabCounter","menuItemStates","setMenuItemStates","socket","setSocket","tabData","setTabData","userProfile","setUserProfile","userRoleLabel","setUserRoleLabel","unreadInstructions","setUnreadInstructions","urgentUnreadInstructions","setUrgentUnreadInstructions","unreadDistributions","setUnreadDistributions","operDayIsOpened","setOperDayIsOpened","lastClosedDate","setLastClosedDate","Date","format","restore","setRestore","rutokenRequired","setRutokenRequired","modalStyle","showModalEnterPin","setShowModalEnterPin","rutokenPin","setRutokenPin","showPin","setShowPin","wrongPin","setWrongPin","esUserFullName","setEsUserFullName","esInn","setEsInn","esExpiredDate","setEsExpiredDate","classes","classesnav","handleDrawerOpen","handleDrawerClose","loadUserProfile","success","profile","curUserProfile","firstName","lastName","email","username","attributes","er","i","value","console","log","error","sign","data","textToSign","length","enumerateDevices","devices","swAllert","firstDevice","getDeviceInfo","TOKEN_INFO_IS_LOGGED_IN","isLoggedIn","login","enumerateCertificates","CERT_CATEGORY_UNSPEC","certs","parseCertificate","alert","options","inn","fullName","subject","rdn","validNotAfter","substring","restoreUserTabs","handleCloseModalEnterPin","DATA_FORMAT_PLAIN","logout","handleError","reason","isNaN","message","errorCodes","parseInt","PIN_INCORRECT","handlePinChange","event","target","handleClickShowPin","onKeyPressModalEnterPin","code","charCode","buttonClick","text","icon","buttons","ok","userRole","undefined","WebSocket","onmessage","incomingJson","JSON","parse","messageType","send","stringify","commandType","userId","partner","token","updatedMenuItemStates","slice","newMenuItem","name","state","push","l","newMenuItem2","taskType","get","process_id","set","clearTabData","updatedTabs","label","tabLabel","handleCloseCurrentTab","urgent","count","toastType","callSuccessToast","toastText","callErrorToast","opDayStatus","status","isOpened","onclose","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","processKey","variables","user_session_id","userAction","updateMailDistributions","reduceMailDistributions","buttonName","sendFieldValues","commandJson","readyState","OPEN","closeTab","tabId","selectedTabData","taskID","handleOpenSwal","yes","no","swalButtons","click","handleCloseCurrentTabModal","handleOpenMenuClick","handleMenuButtonClick","button","getUUID","parentLabel","authorization","uuidv1","handleTabChange","remove","copyTabs","newTabs","getLevel1Items","index","map","level2Item","getLevel2Items","level3Item","getLevel3Items","color","paddingTop","handleOperDayClick","cursor","authenticated","tab","margin","getFullYear","align"],"sources":["C:/Users/SERGO/Desktop/depo/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport ComponentManager from \"../components/ComponentManager/ComponentManager.jsx\";\nimport Box from \"@material-ui/core/Box\";\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\n// PIN components\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n// Icons\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToAppOutlined\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircleOutlineOutlined\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport Notification from \"@material-ui/icons/Notifications\";\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport EmailIcon from '@material-ui/icons/Email';\nimport Badge from '@material-ui/core/Badge';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\n// Libs\nimport { useKeycloak } from \"../lib\";\nimport swal from \"sweetalert\" // https://sweetalert.js.org/guides/\nimport { ToastContainer, toast } from 'react-toastify'; // https://fkhadra.github.io/react-toastify/introduction/\nimport 'react-toastify/dist/ReactToastify.css';\nimport * as rutoken from \"rutoken\";\nimport moment from \"moment\";\nvar plugin = null;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nfunction TabPanel(props) {\n  const { children, currentTab, selectedTab, ...other } = props;\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={currentTab !== selectedTab}\n      id={`scrollable-auto-tabpanel-${selectedTab}`}\n      aria-labelledby={`scrollable-auto-tab-${selectedTab}`}\n      {...other}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  )\n}\nfunction a11yProps(id) {\n  return {\n    id: `scrollable-auto-tab-${id}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${id}`\n  }\n}\nvar HashMap = require(\"hashmap\")\nconst drawerWidth = 250;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n    backgroundColor: \"#0F6038\",\n    // height: \"200px\"\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: 36\n  },\n  menuButtonHidden: {\n    display: \"none\"\n  },\n  title: {\n    flexGrow: 1\n  },\n  drawerPaper: {\n    // backgroundColor: \"#E6F3ED\",\n    position: \"fixed\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9)\n    }\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: \"86vh\",\n    marginTop: \"110px\",\n    // height: \"100vh\",\n    overflow: \"auto\",\n    // paddingTop: \"190px\",\n    // border: \"1px solid red\"\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  modal: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  hrefStyleTop: {\n    position: 'absolute',\n    backgroundColor: \"white\",\n    border: '1px solid grey',\n    height: \"35px\",\n    width: \"35px\"\n  },\n  hrefStyleBottom: {\n    position: 'absolute',\n    backgroundColor: \"white\",\n    border: '1px solid grey',\n    height: \"35px\",\n    width: \"35px\"\n  }\n}))\nconst useStylesnav = makeStyles(theme => ({\n  root: {\n    overflow: \"hidden\",\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  },\n  listItemText: {\n    fontSize: 13,\n    paddingLeft: \"2px\",\n    // \"display\": \"flex\", \n    // \"flex-wrap\": \"wrap\",\n  },\n  level1: {\n    paddingLeft: theme.spacing(0),\n    maxHeight: 20\n  },\n  level2: {\n    paddingLeft: theme.spacing(0),\n    maxHeight: 20\n  },\n  level3: {\n    paddingLeft: theme.spacing(1),\n    maxHeight: 20\n  },\n  tabs: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  }\n}))\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\nfunction getHrefStyleTop() {\n  const bottom = 7;\n  const right = 2;\n  return {\n    bottom: `${bottom}%`,\n    right: `${right}%`,\n    transform: `translate(-${bottom}%, -${right}%)`,\n  };\n}\nfunction getHrefStyleBottom() {\n  const bottom = 2;\n  const right = 2;\n  return {\n    bottom: `${bottom}%`,\n    right: `${right}%`,\n    transform: `translate(-${bottom}%, -${right}%)`,\n  };\n}\n\n\nrutoken.ready\n  // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n  .then(function () {\n    if (window.chrome || typeof InstallTrigger !== 'undefined') {\n      return rutoken.isExtensionInstalled()\n    } else {\n      return Promise.resolve(true)\n    }\n  })\n  // Проверка установки Рутокен Плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.isPluginInstalled()\n    } else {\n      // alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n    }\n  })\n  // Загрузка плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.loadPlugin()\n    } else {\n      // alert(\"Не удаётся найти Плагин\");\n    }\n  })\n  //Можно начинать работать с плагином\n  .then(function (result) {\n    if (!result) {\n      return // alert(\"Не удаётся загрузить Плагин\")\n    } else {\n      plugin = result\n      return Promise.resolve()\n    }\n  })\nexport default () => {\n  const { keycloak } = useKeycloak()\n  // This.state\n  const [selectedTab, setSelectedTab] = useState(null)\n  const [tabs, setTabs] = useState([])\n  const [endpoint] = useState(\"ws://192.168.2.109:3220\") //Local\n  const [api] = useState(\"/api\") //Local api\n  // const [endpoint] = useState(\"wss://depo.cds.kg:3120\") //Rented Server UBUNTU\n  // const [api] = useState(\"/back/api\") //Server api\n  // const [endpoint] = useState(\"wss://depo-test.cds.kg:3120\") //OLD Server\n\n  const [routes, setRoutes] = useState([])\n  const [session_id, setSession_id] = useState(null)\n  const [webSocketMessage, setWebSocketMessage] = useState(null)\n  // const [currTaskId, setCurrTaskId] = useState(null)\n  const [opennav, setOpennav] = useState(false)\n  const [openDrawer, setOpenDrawer] = useState(true)\n  const [tabCounter, setTabCounter] = useState(1)\n  const [menuItemStates, setMenuItemStates] = useState([])\n  const [socket, setSocket] = useState(null)\n  const [tabData, setTabData] = useState(null)\n  // User\n  const [userProfile, setUserProfile] = useState({})\n  const [userRoleLabel, setUserRoleLabel] = useState(\"\")\n\n  const [unreadInstructions, setUnreadInstructions] = useState(0)\n  const [urgentUnreadInstructions, setUrgentUnreadInstructions] = useState(false)\n  const [unreadDistributions, setUnreadDistributions] = useState(0)\n  const [operDayIsOpened, setOperDayIsOpened] = useState(null)\n  const [lastClosedDate, setLastClosedDate] = useState(moment(new Date()).format(\"DD.MM.YYYY\"))\n  const [restore, setRestore] = useState(false)\n  // Rutoken\n  const [rutokenRequired, setRutokenRequired] = useState(true)\n  const [modalStyle] = useState(getModalStyle)\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false)\n  const [rutokenPin, setRutokenPin] = useState(\"\")\n  const [showPin, setShowPin] = useState(false)\n  const [wrongPin, setWrongPin] = useState(false)\n  const [esUserFullName, setEsUserFullName] = useState(null)\n  const [esInn, setEsInn] = useState(null)\n  const [esExpiredDate, setEsExpiredDate] = useState(null)\n\n  const classes = useStyles()\n  const classesnav = useStylesnav()\n  const [hrefStyleTop] = useState(getHrefStyleTop)\n  const [hrefStyleBottom] = useState(getHrefStyleBottom)\n  const handleDrawerOpen = () => {\n    setOpenDrawer(true)\n  }\n  const handleDrawerClose = () => {\n    setOpenDrawer(false)\n  }\n  // console.log(\"INN\", esInn)\n  useEffect(() => {\n    if (tabData === null) {\n      setTabData(new HashMap())\n    }\n    keycloak.loadUserProfile().success(function (profile) {\n      let curUserProfile = {\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        email: profile.email,\n        username: profile.username\n      }\n      try {\n        if (profile.attributes[\"rutokenRequired\"][0] === \"true\") {\n          setRutokenRequired(true)\n        }\n        else {\n          setRutokenRequired(false)\n          setRestore(true)\n        }\n      }\n      catch (er) {\n        setRutokenRequired(false)\n        setRestore(true)\n      }\n\n      for (let i in profile.attributes) {\n        let value = profile.attributes[i][0] === \"true\" ? true : profile.attributes[i][0] === \"false\" ? false : profile.attributes[i][0]\n        curUserProfile[i] = value\n      }\n      if (curUserProfile.rutokenRequired === true) {\n        setShowModalEnterPin(true)\n      }\n      setUserProfile(curUserProfile)\n      console.log(\"PROFILE\", curUserProfile)\n    }).error(function () {\n      console.log(\"Failed to load user profile\")\n    })\n  }, [])\n  // RuToken functions\n  // Sign with rutoken\n  function sign(data) {\n    var textToSign = data;\n    if (textToSign.length == 0) {\n      console.log(\"Не хватает текста для подписи\");\n      return;\n    }\n    if (plugin !== null) {\n      // Перебор подключенных Рутокенов\n      plugin.enumerateDevices()\n        .then(function (devices) {\n          if (devices.length > 0) {\n            return Promise.resolve(devices[0]);\n          } else {\n            swAllert(\"Рутокен не обнаружен\", \"warning\");\n          }\n        })\n        // Проверка залогиненности\n        .then(function (firstDevice) {\n          rutokenHandle = firstDevice;\n          return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n        })\n        // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n        .then(function (isLoggedIn) {\n          // console.log(\"PIN\", rutokenPin)\n          if (isLoggedIn) {\n            return Promise.resolve();\n          } else {\n            return plugin.login(rutokenHandle, rutokenPin);\n          }\n        })\n        // Перебор пользовательских сертификатов на токене\n        .then(function () {\n          return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n        })\n        .then(function (certs) {\n          if (certs.length > 0) {\n            certHandle = certs[0];\n            return plugin.parseCertificate(rutokenHandle, certs[0]);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        })\n        // Подписание данных из текстового поля на первом найденом сертификате\n        .then(function (certs) {\n          certData = certs\n          console.log(\"RUTDATA\", certData)\n          // var r = plugin.getCertificateInfo(0, certs).then(function (res){console.log(res)})\n          // console.log(\"res\", r)\n          if (certHandle.length > 0) {\n            var options = {};\n\n            let inn = \"\"\n            let fullName = \"\"\n            for (let i = 0; i < certData.subject.length; i++) {\n              if (certData.subject[i].rdn === \"serialNumber\") {\n                inn = certData.subject[i].value\n              }\n              if (certData.subject[i].rdn === \"commonName\") {\n                fullName = certData.subject[i].value\n              }\n            }\n            console.log(\"ESDATA\", inn, fullName)\n            setEsInn(inn)\n            setEsUserFullName(fullName)\n            setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1))\n            restoreUserTabs()\n            handleCloseModalEnterPin()\n            return plugin.sign(rutokenHandle, certHandle, textToSign, plugin.DATA_FORMAT_PLAIN, options);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\")\n          }\n        })\n        // Закрытие сессии\n        .then(function () {\n          plugin.logout(rutokenHandle)\n        }, handleError)\n    }\n    else { swAllert(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\") }\n  }\n  // catch errors while signing docs\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true)\n          break;\n        default:\n          alert(\"Неизвестная ошибка\");\n      }\n    }\n  }\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false)\n  }\n  function handlePinChange(event) {\n    console.log(\"PIN EV\", event.target.value)\n    setRutokenPin(event.target.value)\n    setWrongPin(false)\n    // console.log(\"PIN\", event.target.value)\n  }\n  function handleClickShowPin() {\n    setShowPin(!showPin)\n  }\n  function onKeyPressModalEnterPin(event) {\n    console.log(\"KP EV\", event.target.value)\n    let code = event.charCode\n    if (code === 13) {\n      buttonClick(\"SignButton\")\n    }\n  }\n  function swAllert(text, icon) {\n    return (\n      swal({\n        text: text,\n        icon: icon,\n        buttons: { ok: \"Ок\" },\n      })\n    )\n  }\n  // Main socket connection and data receiving\n  if (socket === null && userProfile.userRole !== undefined) {\n    setSocket(new WebSocket(endpoint))\n    console.log(\"CONNECTING...\", endpoint)\n  }\n  if (socket !== null) {\n    socket.onmessage = async function (message) {\n      var incomingJson = JSON.parse(message.data)\n      console.log(\"Socket message\", incomingJson)\n      // console.log(\"TAB DATA\", tabData)\n      if (incomingJson.messageType === \"session_id\") {\n        console.log(\"CONNECTED TO: \", endpoint)\n        console.log(\"NEW SESSION: \", incomingJson.session_id)\n        setSession_id(incomingJson.session_id)\n        socket.send(JSON.stringify({\n          commandType: \"setUserData\",\n          userId: userProfile.userId,\n          session_id: incomingJson.session_id,\n          userRole: userProfile.userRole,\n          partner: userProfile.partner,\n          token: \"Bearer \" + keycloak.token\n        }))\n      }\n      else if (incomingJson.messageType === \"userDataInserted\") {\n        console.log(\"userDataInserted\", incomingJson.session_id)\n        socket.send(JSON.stringify({\n          commandType: \"getMenu\",\n          userProfile: userProfile,\n          session_id: incomingJson.session_id,\n          token: \"Bearer \" + keycloak.token\n        }))\n        socket.send(JSON.stringify({\n          commandType: \"getUserRoleLabel\",\n          userProfile: userProfile,\n          session_id: incomingJson.session_id,\n          token: \"Bearer \" + keycloak.token\n        }))\n        if (restore === true) {\n          restoreUserTabs()\n        }\n      }\n      else if (incomingJson.messageType === \"Menu\") {\n        let updatedMenuItemStates = menuItemStates.slice()\n        for (let i = 0; i < incomingJson.routes.length; i++) {\n          if (incomingJson.routes[i].level2 !== undefined) {\n            let newMenuItem = {\n              name: incomingJson.routes[i].name,\n              state: incomingJson.routes[i].state\n            }\n            updatedMenuItemStates.push(newMenuItem)\n            for (let l = 0; l < incomingJson.routes[i].level2.length; l++) {\n              if (incomingJson.routes[i].level2[l].level3 !== undefined) {\n                let newMenuItem2 = {\n                  name: incomingJson.routes[i].level2[l].name,\n                  state: incomingJson.routes[i].level2[l].state\n                }\n                updatedMenuItemStates.push(newMenuItem2)\n              }\n            }\n          }\n        }\n        setRoutes(incomingJson.routes)\n        setMenuItemStates(updatedMenuItemStates)\n        // console.log(\"MENU States\", updatedMenuItemStates)\n      }\n      else if (incomingJson.messageType === \"userTask\") {\n        console.log(\"NEW TASK\", incomingJson.taskType)\n        if (tabData.get(incomingJson.process_id) === undefined) {\n          tabData.set(incomingJson.process_id, incomingJson)\n          setWebSocketMessage(incomingJson)\n          // setCurrTaskId(incomingJson.taskID)\n        }\n        else {\n          clearTabData(incomingJson.process_id)\n          tabData.set(incomingJson.process_id, incomingJson)\n          setWebSocketMessage(incomingJson)\n          // setCurrTaskId(incomingJson.taskID)\n        }\n      }\n      else if (incomingJson.messageType === \"restoreTab\") {\n        if (tabData.get(incomingJson.process_id) === undefined) {\n          await tabData.set(incomingJson.process_id, incomingJson)\n          let updatedTabs = tabs.slice()\n          updatedTabs.push({ id: incomingJson.process_id, name: incomingJson.process_id, label: incomingJson.tabLabel + \" \" + tabCounter })\n          setTabs(updatedTabs)\n          setSelectedTab(incomingJson.process_id)\n          setTabCounter(tabCounter + 1)\n          // setCurrTaskId(incomingJson.taskID)\n          setWebSocketMessage(incomingJson)\n          // console.log(\"restoreTab\", incomingJson)\n        }\n      }\n      else if (incomingJson.messageType === \"error\") {\n        setWebSocketMessage(incomingJson)\n        // console.log(\"webSocket ERROR\", incomingJson)\n        tabData.set(incomingJson.process_id, incomingJson)\n        // setCurrTaskId(incomingJson.taskID)\n        handleCloseCurrentTab(incomingJson.process_id)\n      }\n      else if (incomingJson.messageType === \"notifications\") {\n        let unreadInstructions = JSON.parse(incomingJson.unreadInstructions)\n        // console.log(\"NOTIFICATIONS\", unreadInstructions)\n        setUrgentUnreadInstructions(unreadInstructions.urgent)\n        setUnreadInstructions(parseInt(unreadInstructions.count))\n      }\n      else if (incomingJson.messageType === \"notification\") {\n        swal({\n          text: incomingJson.text,\n          icon: incomingJson.icon\n        })\n      }\n      else if (incomingJson.messageType === \"distributions\") {\n        let unreadDistributions = JSON.parse(incomingJson.unreadDistributions)\n        console.log(\"unreadDistributions\", unreadDistributions)\n        if (unreadDistributions.length > 3) {\n          setUnreadDistributions(unreadDistributions.substring(0, 3) + \"+\")\n        }\n        else {\n          setUnreadDistributions(unreadDistributions)\n        }\n      }\n      else if (incomingJson.messageType === \"toast\") {\n        if (incomingJson.toastType === \"success\") {\n          callSuccessToast(incomingJson.toastText)\n          // toast(incomingJson.toastText, {\n          //   position: \"top-right\",\n          //   autoClose: 6000,\n          //   hideProgressBar: false,\n          //   closeOnClick: true,\n          //   pauseOnHover: true,\n          //   draggable: true,\n          //   progress: undefined,\n          // })\n        }\n        else if (incomingJson.toastType === \"error\") {\n          callErrorToast(incomingJson.toastText)\n          // toast.error(incomingJson.toastText, {\n          //   position: \"top-right\",\n          //   autoClose: 9000,\n          //   hideProgressBar: false,\n          //   closeOnClick: true,\n          //   pauseOnHover: true,\n          //   draggable: true,\n          //   progress: undefined,\n          // })\n        }\n      }\n      else if (incomingJson.messageType === \"operDayStatus\") {\n        let opDayStatus = JSON.parse(incomingJson.status)\n        console.log(\"OP DAY\", opDayStatus)\n        // if (opDayStatus.isOpened === true) {\n        setOperDayIsOpened(opDayStatus.isOpened)\n        setLastClosedDate(moment(new Date(opDayStatus.lastClosedDate)).format(\"DD.MM.YYYY\"))\n\n        // }\n        // else {\n        //   setOperDayIsOpened(false)\n        // }\n      }\n      else if (incomingJson.messageType === \"userRoleLabel\") {\n        // console.log(\"ROLE\", incomingJson)\n        setUserRoleLabel(incomingJson.userRoleLabel)\n      }\n      else {\n        // console.log(\"Unknown RESTMessage\", incomingJson)\n      }\n    }\n    socket.onclose = function (er) {\n      console.log(\"CONNECTION CLOSED \", endpoint)\n      setSocket(null)\n    }\n  }\n  function callSuccessToast(text) {\n    toast(text, {\n      position: \"top-right\",\n      autoClose: 6000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    })\n  }\n  function callErrorToast(text) {\n    toast.error(text, {\n      position: \"top-right\",\n      autoClose: 9000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    })\n  }\n  function restoreUserTabs() {\n    console.log(\"RESTORE STARTED\")\n    setRestore(false)\n    socket.send(JSON.stringify({\n      commandType: \"restoreSession\",\n      userId: userProfile.userId,\n      session_id: session_id,\n      userRole: userProfile.userRole,\n      token: \"Bearer \" + keycloak.token\n    }))\n    socket.send(JSON.stringify({\n      commandType: \"getOperDayStatus\",\n      userId: userProfile.userId,\n      session_id: session_id,\n      token: \"Bearer \" + keycloak.token\n    }))\n    socket.send(JSON.stringify({\n      commandType: \"launchProcess\",\n      processKey: \"process_169eccff-4a0c-4b5f-8eda-150965351a91\",\n      session_id: session_id,\n      process_id: \"null\",\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        user_session_id: { value: session_id },\n        userAction: { value: \"getNotificationsCount\" }\n      }\n    }))\n    updateMailDistributions()\n  }\n  function updateMailDistributions() {\n    socket.send(JSON.stringify({\n      commandType: \"getUnreadDistributions\",\n      // processKey: \"process_673b1ef0-a228-476c-832a-682b14e5cc93\",\n      session_id: session_id,\n      process_id: \"null\",\n      userId: userProfile.userId,\n      partner: userProfile.partner,\n      token: \"Bearer \" + keycloak.token,\n      // variables: {\n      //   user_session_id: { value: session_id },\n      //   userAction: { value: \"getUnreadDistributions\" },\n      //   user_id_recipient: { value: userProfile.partner},\n      //   userId: { value: userProfile.userId },\n      // }\n    }))\n  }\n  function reduceMailDistributions() {\n    if (unreadDistributions > 0) {\n      setUnreadDistributions(unreadDistributions - 1)\n    }\n  }\n\n  // Main button click handler\n  function buttonClick(buttonName) {\n    // console.log(\"Button\", buttonName)\n    if (buttonName === \"SignButton\") {\n      console.log(\"button Sign: \")\n      if (rutokenPin === \"\") {\n        setWrongPin(true)\n      }\n      else {\n        sign(\"WriteESDatatoLocalState\")\n      }\n    }\n    else {\n      console.log(\"button: \", buttonName)\n    }\n  }\n  function sendFieldValues(commandJson) {\n    if (socket.readyState === socket.OPEN) {\n      commandJson[\"token\"] = \"Bearer \" + keycloak.token\n      commandJson[\"session_id\"] = session_id\n      console.log(\"CUR SESSION: \", session_id)\n      if (commandJson.commandType !== \"deleteSavedDoc\") {\n        clearTabData(commandJson.process_id)\n      }\n      if (commandJson.variables !== undefined) {\n        if (commandJson.variables[\"userAction\"][\"value\"] === \"cancel\") {\n          closeTab(selectedTab)\n          socket.send(JSON.stringify(commandJson))\n        }\n        else {\n          commandJson.variables[\"authorization\"] = { value: \"Bearer \" + keycloak.token }\n          socket.send(JSON.stringify(commandJson))\n          console.log(\"HOME SEND\", commandJson.session_id)\n        }\n      }\n      else {\n        socket.send(JSON.stringify(commandJson))\n        // console.log(\"HOME SEND\", commandJson)\n      }\n    }\n    else {\n      setSession_id(null)\n      setSocket(null)\n      clearTabData(commandJson.process_id)\n    }\n    // setCurrTaskId(getUUID())\n  }\n  function handleCloseCurrentTab(tabId) {\n    var selectedTabData = tabData.get(tabId)\n    if (selectedTabData !== undefined) {\n      var commandJson = {\n        commandType: \"completeTask\",\n        session_id: selectedTabData.session_id,\n        process_id: selectedTabData.process_id,\n        taskID: selectedTabData.taskID,\n        token: \"Bearer \" + keycloak.token,\n        variables: {\n          userAction: { value: \"cancel\" },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole }\n        }\n      }\n      if (userProfile.userRole === \"1\") {\n        sendFieldValues(commandJson)\n        closeTab(tabId)\n      }\n      else {\n        if (selectedTabData.taskType === \"showSearchUser\" ||\n          selectedTabData.taskType === \"showAccountsSearchForm\" ||\n          selectedTabData.taskType === \"showSecuritiesSearchForm\" ||\n          selectedTabData.taskType === \"showIssuersSearchForm\" ||\n          selectedTabData.taskType === \"showDepositorsSearchForm\" ||\n          selectedTabData.taskType === \"showDepositoriesSearchForm\" ||\n          selectedTabData.taskType === \"showIssuersSearchForm\" ||\n          selectedTabData.taskType === \"showPartnersSearchForm\" ||\n          selectedTabData.taskType === \"showTransactionsSearchForm\" ||\n          selectedTabData.taskType === \"showReferenceListSearchForm\" ||\n          selectedTabData.taskType === \"showInstructionsSearchForm\" ||\n          selectedTabData.taskType === \"showInstructionsRegistrarsSearchForm\" ||\n          selectedTabData.taskType === \"showChargeForCDServicesSearchForm\" ||\n          selectedTabData.taskType === \"showTransitChargeForCDServicesSearchForm\" ||\n          selectedTabData.taskType === \"showPaymentsForCDServicesSearchForm\" ||\n          selectedTabData.taskType === \"showTransitPaymentsForCDServicesSearchForm\" ||\n          selectedTabData.taskType === \"showAccountingReportsSelectingForm\" ||\n          selectedTabData.taskType === \"showCurrencyRatesSearchForm\" ||\n          selectedTabData.taskType === \"showServiceTypesSearchForm\" ||\n          selectedTabData.taskType === \"showServiceGroupsSearchForm\" ||\n          selectedTabData.taskType === \"showImportFileGIKForm\" ||\n          selectedTabData.taskType === \"showQuestinariesGIKSearchForm\" ||\n          selectedTabData.taskType === \"showAccountsGIKSearchForm\" ||\n          selectedTabData.taskType === \"showReportsSelectingForm\" ||\n          selectedTabData.taskType === \"showTariffsRegistrarsSearchForm\" ||\n          selectedTabData.taskType === \"showTradesSearchForm\" ||\n          selectedTabData.taskType === \"showContractsSearchForm\" ||\n          selectedTabData.taskType === \"CorporativeActionsForm\" ||\n          selectedTabData.taskType === \"showStockSecuritySearchForm\" ||\n          selectedTabData.taskType === \"showStockCurrencySearchForm\" ||\n          selectedTabData.taskType === \"showUploadDataToTSForm\" ||\n          selectedTabData.taskType === \"showLoadDataFromTSForm\" ||\n          selectedTabData.taskType === \"showFormsEditForm\" ||\n          selectedTabData.taskType === \"showTariffsCDSearchForm\" ||\n          selectedTabData.taskType === \"showFormsSearchForm\" ||\n          selectedTabData.taskType === \"showAccountingEntrySearchForm\" ||\n          selectedTabData.taskType === \"showSecuritiesOrdersHistorySearchForm\" ||\n          selectedTabData.taskType === \"showCurrenciesOrdersHistorySearchForm\" ||\n          selectedTabData.taskType === \"showSecuritiesTradesHistorySearchForm\" ||\n          selectedTabData.taskType === \"showCurrenciesTradesHistorySearchForm\" ||\n          selectedTabData.taskType === \"showLoadDataFromTSSecuritiesForm\" ||\n          selectedTabData.taskType === \"showUploadDataToTSSecuritiesForm\" ||\n          selectedTabData.taskType === \"showLoadDataFromTSCurrenciesForm\" ||\n          selectedTabData.taskType === \"showUploadDataToTSCurrenciesForm\" ||\n          selectedTabData.taskType === \"showOperationDayForm\" ||\n          selectedTabData.taskType === \"showRegistrarsSearchForm\" ||\n          selectedTabData.taskType === \"showTariffsCorrDepositorySearchForm\" ||\n          selectedTabData.taskType === \"showCoefficientDepositorsSearchForm\" ||\n          selectedTabData.taskType === \"showInstructionsTypeSelectingForm\" ||\n          selectedTabData.taskType === \"showReportsCreatingForm\" ||\n          selectedTabData.taskType === \"showTransferOrdersSearchForm\" ||\n          selectedTabData.taskType === \"corporativeActionsMainForm\" ||\n          selectedTabData.taskType === \"showCorrDepositoriesSearchForm\" ||\n          selectedTabData.taskType === \"showNewSecurityApplicationsSearchForm\" ||\n          selectedTabData.taskType === \"showMortgageSecuritiesSearchForm\" ||\n          selectedTabData.taskType === \"showExchangeTSFilesSearchForm\" ||\n          selectedTabData.taskType === \"showExchangeTSFilesListForm\" ||\n          selectedTabData.taskType === \"error\") {\n          sendFieldValues(commandJson)\n          closeTab(tabId)\n        }\n        else handleOpenSwal(\"Вы действительно хотите закрыть вкладку?\", { yes: \"Да\", no: \"Нет\" }, tabId)\n      }\n    }\n  }\n  // Custom allert component\n  function handleOpenSwal(text, swalButtons, tabId) {\n    return (\n      swal({\n        text: text,\n        icon: \"warning\",\n        buttons: swalButtons\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            handleCloseCurrentTabModal(tabId)\n          }\n        })\n    )\n  }\n  // Close current tab from opened alert component\n  function handleCloseCurrentTabModal(tabId) {\n    var selectedTabData = tabData.get(tabId)\n    var commandJson =\n    {\n      commandType: \"completeTask\",\n      session_id: selectedTabData.session_id,\n      process_id: selectedTabData.process_id,\n      taskID: selectedTabData.taskID,\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        userAction: { value: \"cancel\" },\n        userId: { value: userProfile.userId },\n        userRole: { value: userProfile.userRole }\n      }\n    }\n    sendFieldValues(commandJson)\n    closeTab(tabId)\n  }\n\n  // wrap up menu items\n  function handleOpenMenuClick(name) {\n    // console.log(\"Event\", name)\n    for (var i = 0; i < menuItemStates.length; i++) {\n      if (menuItemStates[i].name === name) {\n        if (menuItemStates[i].state === true) {\n          menuItemStates[i].state = false\n        }\n        else {\n          menuItemStates[i].state = true\n        }\n      }\n    }\n    setOpennav(!opennav)\n  }\n  // launch process related to menu button\n  function handleMenuButtonClick(button) {\n    // console.log(\"Menu button clicked\", button)\n    if (button.name !== \"insertForm\" && button.name !== \"redeploy\") {\n      var process_id = getUUID()\n      let updatedTabs = tabs.slice()\n      updatedTabs.push({ id: process_id, name: process_id, label: button.parentLabel + \" \" + tabCounter })\n      setTabs(updatedTabs)\n      setSelectedTab(process_id)\n      setTabCounter(tabCounter + 1)\n    }\n    const commandJson =\n    {\n      commandType: button.commandType,\n      processKey: button.processKey,\n      process_id: process_id,\n      session_id: session_id,\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        user_session_id: { value: session_id },\n        process_id: { value: process_id },\n        userAction: { value: \"filter\" },\n        userId: { value: userProfile.userId },\n        userRole: { value: userProfile.userRole },\n        tabLabel: { value: button.parentLabel },\n        authorization: { value: \"Bearer \" + keycloak.token }\n      }\n    }\n    sendFieldValues(commandJson)\n    // console.log(\"Menu Button \", commandJson)\n  }\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\")\n    return uuidv1()\n  }\n  async function handleTabChange(tabId) {\n    setSelectedTab(tabId)\n    console.log(\"TAB CHANGE\", tabId)\n  }\n  function clearTabData(process_id) {\n    tabData.remove(process_id)\n    // setCurrTaskId(null)\n    // console.log(\"Clearing TabData\", tabData, \"ID\", process_id)\n  }\n  // close selected tab clear it\"s data from cache & change tab counter\n  function closeTab(process_id) {\n    if (process_id !== undefined) {\n      // console.log(\"Closing TAB\", process_id)\n      let copyTabs = [...tabs]\n      let newTabs = []\n      for (var i = 0; i < copyTabs.length; i++) {\n        if (copyTabs[i].id !== process_id) {\n          newTabs.push(copyTabs[i])\n        }\n        else {\n          // console.log(\"TAB TO CLOSE\", copyTabs[i].id, i)\n          if (i > 0 && newTabs.length > 0) {\n            setSelectedTab(newTabs[i - 1].id)\n          }\n          else {\n            if (copyTabs.length > 1) {\n              setSelectedTab(copyTabs[1].id)\n            }\n            else{setSelectedTab(null)}\n          }\n        }\n      }\n      // console.log(\"TABS\", newTabs, newTabs.length)\n      if(newTabs.length === 0){\n        setTabCounter(1)\n      }\n      setTabs(newTabs)\n    }\n    // // console.log(\"Closing TAB\", process_id)\n    // let updatedTabs = tabs.slice()\n    // for (i = 0; i < updatedTabs.length; i++) {\n    //   if (updatedTabs[i].id === process_id) {\n    //     // console.log(\"INDEX\", i)\n    //     updatedTabs.splice(i, 1)\n    //   }\n    // }\n    // if (Object.keys(updatedTabs).length === 0) {\n    //   setSelectedTab(null)\n    //   setTabCounter(1)\n    // }\n    // else {\n    //   setSelectedTab(updatedTabs[0].id)\n    //   setTabs(updatedTabs)\n    // }\n  }\n  // Creating Menu Levels 1-3\n  function getLevel1Items(level1, index) {\n    // console.log(\"Creating Menu menuItemStates\", menuItemStates)\n    if (level1.level2 === undefined) {\n      return (\n        <ListItem button\n          key={index}\n          className={classesnav.level1}\n          onClick={() => handleMenuButtonClick(level1)}\n        >\n          <ExitToAppIcon />\n          <div className={classesnav.listItemText}>{openDrawer === true ? level1.label : \"\"}</div>\n        </ListItem>\n      )\n    }\n    else {\n      for (var i = 0; i < menuItemStates.length; i++) {\n        if (menuItemStates[i].name === level1.name) {\n          return (\n            <List key={index}>\n              <ListItem\n                button\n                key={index}\n                className={classesnav.level1}\n                onClick={() => handleOpenMenuClick(level1.name)}\n              >\n                <AddCircleIcon style={{ height: 20 }} />\n                <div className={classesnav.listItemText} style={{ \"fontWeight\": \"bold\" }}>{openDrawer === true ? level1.label : \"\"}</div>\n                {(menuItemStates[i].state === true) ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={menuItemStates[i].state} timeout=\"auto\" unmountOnExit>\n                {level1.level2.map((level2Item, index) =>\n                  getLevel2Items(level2Item, index)\n                )}\n              </Collapse>\n            </List>\n          )\n        }\n      }\n    }\n  }\n  function getLevel2Items(level2, index) {\n    // console.log(\"Level2\", level2)\n    if (level2.level3 === undefined) {\n      return (\n        <ListItem button\n          className={classesnav.level2}\n          key={index}\n          onClick={() => handleMenuButtonClick(level2)}\n        >\n          <ExitToAppIcon style={{ height: 20 }} />\n          <div className={classesnav.listItemText}>{openDrawer === true ? level2.label : \"\"}</div>\n        </ListItem>\n      )\n    }\n    else {\n      for (var i = 0; i < menuItemStates.length; i++) {\n        if (menuItemStates[i].name === level2.name) {\n          return (\n            <List component=\"div\" disablePadding key={index}>\n              <ListItem button\n                className={classesnav.level2}\n                key={index}\n                onClick={() => handleOpenMenuClick(level2.name)}\n              >\n                <AddCircleIcon style={{ height: 20 }} />\n                <div className={classesnav.listItemText} style={{ \"fontWeight\": \"bold\" }}>{openDrawer === true ? level2.label : \"\"}</div>\n                {(menuItemStates[i].state === true) ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={menuItemStates[i].state} timeout=\"auto\" unmountOnExit>\n                {level2.level3.map((level3Item, index) =>\n                  getLevel3Items(level3Item, index)\n                )}\n              </Collapse>\n            </List>\n          )\n        }\n      }\n    }\n  }\n  function getLevel3Items(level3, index) {\n    return (\n      <ListItem button\n        className={classesnav.level3}\n        key={index}\n        onClick={() => handleMenuButtonClick(level3)}\n      >\n        <ExitToAppIcon style={{ height: 20, color: \"grey\", marginLeft: \"4px\" }} />\n        <div className={classesnav.listItemText}>{openDrawer === true ? level3.label : \"\"}</div>\n      </ListItem>\n    )\n  }\n  if (menuItemStates.length === 0) {\n    return (\n      <div align=\"center\" style={{ paddingTop: 20 }}>\n        <CircularProgress />\n        <div>Loading...</div>\n      </div>\n    )\n  }\n  function handleOperDayClick() {\n    if (userProfile.userRole === \"1\" || userProfile.userRole === \"7\") {\n      handleMenuButtonClick({ commandType: \"launchProcess\", processKey: \"process_e79e1386-4473-4d35-8106-acd3fafaa129\", parentLabel: \"Операц-й день\" })\n    }\n  }\n  return (\n    <Grid>\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar style={{ position: \"fixed\" }} className={clsx(classes.appBar, openDrawer && classes.appBarShift)}>\n          <Toolbar className={classes.toolbar}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              onClick={handleDrawerOpen}\n              className={clsx(classes.menuButton, openDrawer && classes.menuButtonHidden)}\n            >\n              <MenuIcon />\n            </IconButton>\n\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" className={classes.title}>\n              ЦД\n            </Typography>\n            {userProfile.userId !== undefined &&\n              <table>\n                <tbody>\n                  <tr>\n                    <td style={{ paddingRight: 15 }}>\n                      {moment(new Date()).format(\"DD.MM.YYYY\")}\n                    </td>\n                    {operDayIsOpened !== null &&\n                      <td\n                        style={{ paddingRight: 15, cursor: \"pointer\" }}\n                        onClick={() => handleOperDayClick()}\n                      >\n                        Операционный день: {operDayIsOpened === true ? \"Открыт\" : \"Закрыт\"}\n                      </td>\n                    }\n                    {operDayIsOpened !== null && operDayIsOpened === false &&\n                      <td style={{ paddingRight: 15 }}>\n                        {lastClosedDate}\n                      </td>\n                    }\n\n                    <td>\n                      <Badge badgeContent={unreadDistributions} color=\"primary\">\n                        <EmailIcon\n                          style={{ cursor: \"pointer\" }}\n                          fontSize=\"large\"\n                          color=\"white\"\n                          onClick={() => handleMenuButtonClick({ commandType: \"launchProcess\", processKey: \"process_998ca68e-ee45-4b5b-ba23-5b9af4a34d38\", parentLabel: \"КД\" })}\n                        />\n                      </Badge>\n                    </td>\n                    {(userProfile.userRole === \"1\" || userProfile.userRole === \"7\") &&\n                      <td style={{ paddingRight: 15 }}>\n                        <Badge badgeContent={unreadInstructions} color={unreadInstructions > 0 ? \"secondary\" : \"primary\"}>\n                          <Notification\n                            style={{ cursor: \"pointer\" }}\n                            fontSize=\"large\"\n                            color={urgentUnreadInstructions === true ? \"secondary\" : \"white\"}\n                            onClick={() => handleMenuButtonClick({ commandType: \"launchProcess\", processKey: \"process_892bad05-cc0e-46b2-8e76-6aa1fed7cde0\", parentLabel: \"Поручения\" })}\n                          />\n                        </Badge>\n                      </td>\n                    }\n                  </tr>\n                </tbody>\n              </table>\n            }\n            <AccountCircleIcon fontSize=\"large\" />\n            {!!keycloak.authenticated && (\n              <table>\n                <tbody>\n                  <tr>\n                    <td>\n                      <table>\n                        <tbody>\n                          <tr>\n                            <td style={{ fontSize: 12 }}>ФИО:</td>\n                            <td style={{ fontSize: 12 }}>{userProfile.firstName + \" \" + userProfile.lastName.substring(0, 1) + \".\"}</td>\n                          </tr>\n                          <tr>\n                            <td style={{ fontSize: 12 }}>Роль:</td>\n                            <td style={{ fontSize: 12 }}>{userRoleLabel}</td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </td>\n                    <td>\n                      <Typography>\n                        <IconButton color=\"inherit\" style={{ fontSize: 14 }} onClick={() => keycloak.logout()}>\n                          Выйти\n                        </IconButton>\n                      </Typography>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            )}\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          variant=\"permanent\"\n          classes={{\n            paper: clsx(classes.drawerPaper, !openDrawer && classes.drawerPaperClose),\n          }}\n          open={openDrawer}\n        >\n          <div className={classes.toolbarIcon}>\n            <img src=\"favicon.ico\" height=\"65px\" width=\"65px\" style={{ marginRight: \"100px\" }}></img>\n            <IconButton onClick={handleDrawerClose}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </div>\n          <Divider />\n          {routes.map((level1, index) => (\n            getLevel1Items(level1, index)\n          ))}\n        </Drawer>\n\n        <main className={classes.content}>\n          <a name=\"top\" />\n          {/* <div className={classes.appBarSpacer}/> */}\n          <Grid style={{ paddingLeft: (openDrawer === true) ? drawerWidth : 65 }}>\n            <AppBar color=\"default\" style={{ paddingLeft: (openDrawer === true) ? drawerWidth : 65 }}>\n              <Tabs\n                // key={currTaskId}\n                style={{ height: \"110px\", paddingTop: \"60px\" }}\n                position=\"fixed\"\n                value={selectedTab}\n                // onChange={(event, newValue)=> handleTabChange(event, newValue)}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                variant=\"scrollable\"\n                scrollButtons=\"auto\"\n              >\n                {tabs.map((tab, index) => (\n                  <Tab\n                    key={tab.id}\n                    index={index}\n                    onMouseDown={() => handleTabChange(tab.id)}\n                    label={\n                      <Grid style={{ fontSize: 10 }}>\n                        {tab.label}\n                        <IconButton onClick={() => handleCloseCurrentTab(tab.id)}>\n                          <CloseIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                        </IconButton>\n                      </Grid>\n                    }\n                    value={tab.id}\n                    {...a11yProps(tab.id)}\n                  >\n                  </Tab>\n                ))}\n              </Tabs>\n            </AppBar>\n            {webSocketMessage !== null &&\n              tabs.map(tab => (\n                <TabPanel\n                  // position=\"fixed\"\n                  currentTab={tab.id}\n                  selectedTab={selectedTab}\n                  key={tab.id}\n                  style={{ paddingLeft: 10, fontSize: \"0.9rem\" }}\n                  value={tab.id}\n                >\n                  <ComponentManager\n                    // VARS\n                    api={api}\n                    userProfile={userProfile}\n                    selectedTab={selectedTab}\n                    id={tab.id}\n                    key={tab.id}\n                    esInn={esInn}\n                    esUserFullName={esUserFullName}\n                    esExpiredDate={esExpiredDate}\n                    // closeTab={closeTab}\n                    // mailRest={mailRest}\n                    operDayIsOpened={operDayIsOpened}\n                    userTask={tabData.get(tab.id)}\n                    // FUNCS\n                    callSuccessToast={callSuccessToast}\n                    callErrorToast={callErrorToast}\n                    sendFieldValues={sendFieldValues}\n                    handleCloseCurrentTab={handleCloseCurrentTab}\n                    clearTabData={clearTabData}\n                    updateMailDistributions={updateMailDistributions}\n                    reduceMailDistributions={reduceMailDistributions}\n                    setEsUserFullName={setEsUserFullName}\n                    setEsInn={setEsInn}\n                    setEsExpiredDate={setEsExpiredDate}\n                  />\n                </TabPanel>\n              ))\n            }\n          </Grid>\n          <Modal\n            open={showModalEnterPin}\n            // onClose={handleCloseModalEnterPin}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n          >\n            <div style={modalStyle} className={classes.modal}>\n              <h3 id=\"simple-modal-title\">Введите ПИН код Рутокена</h3>\n              <FormControl variant=\"outlined\" style={{ width: \"100%\" }} error={wrongPin}>\n                <InputLabel htmlFor=\"outlined-adornment-password\">PIN</InputLabel>\n                <OutlinedInput\n                  type={showPin ? 'text' : 'password'}\n                  defaultValue={rutokenPin}\n                  onChange={handlePinChange}\n                  onKeyPress={onKeyPressModalEnterPin}\n                  autoFocus\n                  endAdornment={\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        aria-label=\"toggle password visibility\"\n                        onClick={handleClickShowPin}\n                        edge=\"end\"\n                      >\n                        {showPin ? <Visibility /> : <VisibilityOff />}\n                      </IconButton>\n                    </InputAdornment>\n                  }\n                  labelWidth={25}\n                />\n              </FormControl>\n              {wrongPin === true && <p color=\"red\">Не верный PIN</p>}\n              <Button\n                variant=\"contained\"\n                onClick={() => buttonClick(\"SignButton\")}\n                style={{\n                  margin: 3,\n                  height: 32,\n                  fontSize: 12,\n                  color: \"white\",\n                  backgroundColor: \"#2862F4\"\n                }}\n              >Ок\n              </Button>\n            </div>\n          </Modal>\n          <ToastContainer />\n          <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" style={{ paddingLeft: openDrawer === true ? drawerWidth : 65, paddingTop: 10 }}>\n            {\"Copyright © \" + new Date().getFullYear() + \" Intersoft Ltd. All rights reserved. \"}\n          </Typography>\n          <table\n            style={{ paddingLeft: openDrawer === true ? drawerWidth : 65 }}\n          >\n            <tr>\n              <td width=\"20%\">\n                <img name=\"USAID_logo\" height={\"80px\"} width=\"auto\" src={\"./USAID_logo.png\"} />\n              </td>\n              <td width=\"80%\">\n                <p style={{ align: \"center\", fontSize: 10 }}>\n                  {\"Данная автоматизированная информационная система стала возможной благодаря помощи американского народа, оказанной через Агентство США по международному развитию (USAID). Закрытое Акционерное Общество (ЗАО) «Центральный депозитарий» Кыргызской Республики несет ответственность за содержание системы, которое не обязательно отражает позицию USAID или Правительства США.\"}\n                </p>\n              </td>\n            </tr>\n          </table>\n          <IconButton href=\"#top\" style={hrefStyleTop} className={classes.hrefStyleTop}>\n            <ArrowUpwardRoundedIcon />\n          </IconButton>\n          <IconButton href=\"#bottom\" style={hrefStyleBottom} className={classes.hrefStyleBottom}>\n            <ArrowDownwardIcon />\n          </IconButton>\n          <a name=\"bottom\" />\n        </main>\n      </div>\n    </Grid>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}