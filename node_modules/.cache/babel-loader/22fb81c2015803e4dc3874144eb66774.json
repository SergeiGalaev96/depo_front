{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\depo\\\\src\\\\components\\\\MainForm\\\\MainForm.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\"; // Material ui table for usual form\n\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from '@material-ui/core/Button';\nimport { Grid } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport GridSelect from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Menu from '@mui/material/Menu'; // Accordion\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'; // Icons\n\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded'; // Form components\n\nimport TextField from '@material-ui/core/TextField';\nimport Select from 'react-select'; // https://react-select.com/home\n\nimport Checkbox from '@material-ui/core/Checkbox'; // Libraries\n\nimport swal from 'sweetalert'; // https://sweetalert.js.org/guides/\n\nimport hotkeys from 'hotkeys-js'; // https://github.com/jaywcjlove/hotkeys\n\nimport tableToExcel from \"@linways/table-to-excel\"; // https://github.com/linways/table-to-excel\n// Custom components\n\nimport \"../../components/GridForm/GridFormCSS.css\";\n\nvar moment = require('moment');\n\nvar generator = require('generate-password');\n\nfunction FloatFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          name: props.name,\n          value: values.value\n        }\n      });\n    },\n    decimalSeparator: \".\",\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }));\n}\n\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction IntegerFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          name: props.name,\n          value: values.value\n        }\n      });\n    },\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }));\n}\n\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nconst useStyles = makeStyles(theme => ({}));\nexport default (props => {\n  // This.state\n  const [userProfile] = useState(props.userProfile);\n  const [session_id] = useState(props.userTask.session_id);\n  const [process_id] = useState(props.userTask.process_id);\n  const [taskID] = useState(props.userTask.taskID);\n  const [Form, setForm] = useState(props.userTask.Form);\n  const [selectedDoc, setSelectedDoc] = useState(null);\n  const [docId, setDocId] = useState(props.userTask.docId);\n  const [formType] = useState(props.userTask.formType);\n  const [docList, setDocList] = useState(null);\n  const [filteredDocList, setFilteredDocList] = useState(null);\n  const [initialDocList, setInitialDocList] = useState(null);\n  const [gridForm, setGridForm] = useState(props.userTask.gridForm);\n  const [gridFormButtons] = useState(props.userTask.gridFormButtons);\n  const [enumData] = useState(props.userTask.enumData);\n  const [enumOptions, setEnumOptions] = useState({});\n  const [gridFormEnumData] = useState(props.userTask.gridFormEnumData);\n  const [fieldValue, setFieldValue] = useState({});\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const [buttons] = useState(props.userTask.buttons);\n  const [page, setPage] = useState(1);\n  const [size, setSize] = useState(10);\n  const [showSnackBar, setShowSnackBar] = useState(false);\n  const [snackBarMessage, setSnackBarMessage] = useState(\"\");\n  const [sectionColor] = useState(\"#B2E0C9\");\n  const [updateState, setUpdateState] = useState(false);\n  const [taskType] = useState(props.userTask.taskType);\n  const [isSearchForm, setIsSearchForm] = useState(null);\n  const [accordionExpanded, setAccordionExpanded] = useState(false);\n  const [sortedColumn, setSortedColumn] = useState(\"null\");\n  const [sortedColumnOrder, setSortedColumnOrder] = useState(1);\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const openMenu = Boolean(anchorEl);\n  const [gridTableId] = useState(getUUID());\n  const [gridFieldValue, setGridFieldValue] = useState({}); // Set data from props to state of component\n\n  useEffect(() => {\n    console.log(\"MAINFORM PROPS\", props.userTask, props.userProfile);\n\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList);\n        console.log(\"DOCL\", parsedData);\n        let s = parseInt(props.userTask.size);\n        let p = parseInt(props.userTask.page);\n        setSize(s);\n        setPage(p);\n        setFilteredDocList(parsedData);\n        setIsSearchForm(true);\n        setInitialDocList(parsedData);\n        let sortedDocList = parsedData.sort(dynamicSort(\"id\", -1, \"Int\"));\n        let newSortedDocList = [];\n\n        if (props.userTask.taskType === \"showStockSecuritySearchForm\" || props.userTask.taskType === \"showStockCurrencySearchForm\") {\n          if (userProfile.userRole !== \"1\") {\n            for (let sd = 0; sd < sortedDocList.length; sd++) {\n              if (parseInt(userProfile.partner) === sortedDocList[sd].partner) {\n                newSortedDocList.push(sortedDocList[sd]);\n              }\n            }\n\n            sortedDocList = newSortedDocList;\n          }\n        } else if (props.userTask.taskType === \"showSecuritiesEditForm\") {\n          setIsSearchForm(false);\n        }\n\n        if (props.userTask.selectedDoc !== \"null\" && props.userTask.taskType !== \"showSecuritiesEditForm\") {\n          let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc);\n          console.log(\"SHDOC\", parsedSelectedDoc);\n          filterDocList(0, s - 1, sortedDocList, parsedSelectedDoc);\n        } else {\n          fetchBySize(0, s - 1, sortedDocList);\n        }\n      } catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType);\n        setFilteredDocList([]);\n        setIsSearchForm(true);\n        setInitialDocList([]);\n        setDocList([]);\n      }\n    } else {\n      setIsSearchForm(false);\n    }\n\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc);\n      let fields = {}; // let Form = props.userTask.Form\n\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          let fieldName = Form.sections[s].contents[c].name;\n          fields[fieldName] = parsedSelectedDoc[fieldName];\n        }\n      }\n\n      console.log(\"SDOC\", parsedSelectedDoc);\n      console.log(\"FIELDVAL\", fields);\n      setSelectedDoc(parsedSelectedDoc);\n      setFieldValue(fields);\n    }\n\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      let newEnumOptions = {};\n\n      for (let i = 0; i < props.userTask.enumData.length; i++) {\n        if (props.userTask.enumData[i] !== null) {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Пусто\",\n            \"name\": props.userTask.enumData[i].name\n          }];\n\n          for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n            options.push({\n              \"value\": props.userTask.enumData[i].data[d].id,\n              \"label\": props.userTask.enumData[i].data[d].label,\n              \"name\": props.userTask.enumData[i].name\n            });\n          }\n\n          newEnumOptions[props.userTask.enumData[i].name] = options;\n        } else {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Ошибка...\",\n            \"name\": getLostEnumName(i)\n          }];\n          newEnumOptions[getLostEnumName(i)] = options;\n          props.callErrorToast(\"Ошибка сбора справочной информации \" + getLostEnumName(i));\n        }\n      }\n\n      setEnumOptions(newEnumOptions);\n    }\n\n    if (gridForm !== null) {\n      let newFields = {};\n\n      for (let s = 0; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n          newFields[gridForm.sections[s].contents[c].name] = gridForm.sections[s].contents[c].show;\n        }\n      }\n\n      setGridFieldValue(newFields);\n    }\n\n    setUpdateState(getUUID());\n  }, []);\n\n  function getLostEnumName(i) {\n    let enumI = 0;\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (Form.sections[s].contents[c].type === \"Enum\") {\n          if (enumI === i) {\n            return Form.sections[s].contents[c].name;\n          } else {\n            enumI += 1;\n          }\n        }\n      }\n    }\n  }\n\n  hotkeys('ctrl+b, enter', function (event, handler) {\n    if (handler.key === \"ctrl+b\") {\n      setAccordionExpanded(!accordionExpanded);\n    }\n  });\n\n  const handleCheckboxChange = event => {\n    console.log(\"CHBX\", event.target.name, event.target.checked);\n\n    if (event.target.name === \"is_resident\") {\n      console.log(\"IS_RES\");\n\n      if (taskType === \"showPartnersCreatingForm\" || taskType === \"showPartnersEditForm\" || taskType === \"showIssuersCreatingForm\" || taskType === \"showIssuersEditForm\") {\n        // let newFields = fieldValue\n        fieldValue[\"country\"] = 1;\n        fieldValue[\"is_resident\"] = event.target.checked;\n        var updateSelectedOptions = selectedOptions.slice();\n        let noSuchOption = true;\n        let countryOption = {\n          name: \"country\",\n          value: 1,\n          label: \"Кыргызская Республика\"\n        };\n\n        for (let l = 0; l < updateSelectedOptions.length; l++) {\n          if (updateSelectedOptions[l].name === \"country\") {\n            updateSelectedOptions[l] = countryOption;\n            setSelectedOptions(updateSelectedOptions);\n            break;\n          } else {\n            noSuchOption = true;\n          }\n        }\n\n        if (noSuchOption === true) {\n          updateSelectedOptions.push(countryOption);\n          setSelectedOptions(updateSelectedOptions);\n        }\n\n        if (taskType === \"showIssuersCreatingForm\" || taskType === \"showIssuersEditForm\") {\n          fieldValue[\"is_not_resident\"] = false;\n        }\n\n        console.log(\"FVAL\", fieldValue);\n        setFieldValue(fieldValue);\n      }\n    }\n\n    if (event.target.name === \"is_not_resident\") {\n      console.log(\"NOT_RES\");\n      fieldValue[\"is_resident\"] = false;\n      fieldValue[\"is_not_resident\"] = event.target.checked;\n      fieldValue[\"country\"] = null;\n      setFieldValue(fieldValue);\n      console.log(\"FVAL\", fieldValue);\n    } else {\n      setFieldValue({ ...fieldValue,\n        [event.target.name]: event.target.checked\n      });\n    }\n\n    setUpdateState(getUUID());\n  };\n\n  const handleBoolCustomChange = event => {\n    console.log(\"BoolCustom\", fieldValue);\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: event.target.checked\n    });\n  }; // Integer input handler\n\n\n  const handleIntChange = event => {\n    console.log(\"INT\", event.target.name, event.target.value);\n    let stringNum = event.target.value.toString().replace(/ /g, '');\n    let int = parseInt(stringNum);\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: int\n    });\n  }; // Float input handler\n\n\n  const handleFloatChange = event => {\n    // console.log(\"FLOAT CHANGE\", event.target.name, event.target.value)\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: event.target.value\n    });\n  }; // Text input handler\n\n\n  function handleTextChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value;\n    setFieldValue(fieldValue);\n    console.log(\"FIELDVALUE\", fieldValue);\n  }\n\n  function handleSelectChange(option) {\n    fieldValue[option.name] = option.value;\n    console.log(\"OPT\", option.name, option.value);\n    var updateSelectedOptions = selectedOptions.slice();\n    let noSuchOption = true;\n\n    for (let i = 0; i < updateSelectedOptions.length; i++) {\n      if (option.name === updateSelectedOptions[i].name) {\n        updateSelectedOptions[i] = option;\n        noSuchOption = false;\n        setSelectedOptions(updateSelectedOptions);\n        break;\n      } else {\n        noSuchOption = true;\n      }\n    }\n\n    if (noSuchOption === true) {\n      updateSelectedOptions.push(option);\n      setSelectedOptions(updateSelectedOptions);\n    } // if (option.name === \"issuer\" && (taskType === \"showSecuritiesCreatingForm\" || taskType === \"showSecuritiesEditForm\")) {\n    //   // выбран Эмитент нужно найти ргистратора и отобразить\n    //   for (let j = 0; j < enumData.length; j++) {\n    //     if (enumData[j] !== null) {\n    //       if (enumData[j].name === \"issuer\") {\n    //         for (let h = 0; h < enumData[j].data.length; h++) {\n    //           if (enumData[j].data[h].id === option.value) {\n    //             // Find registrar of issuer\n    //             let registrarId = enumData[j].data[h].registrar\n    //             for (let e = 0; e < enumData.length; e++) {\n    //               if (enumData[e] !== null) {\n    //                 if (enumData[e].name === \"registrar\") {\n    //                   for (let r = 0; r < enumData[e].data.length; r++) {\n    //                     if (enumData[e].data[r].id === registrarId) {\n    //                       // Set registrar option \n    //                       fieldValue[\"registrar\"] = registrarId\n    //                       // console.log(\"ISSUER SEC\", fieldValue)\n    //                       let registrarOption = {\n    //                         value: enumData[e].data[r].id,\n    //                         name: \"registrar\",\n    //                         label: enumData[e].data[r].label\n    //                       }\n    //                       let noRegistrarOption = true\n    //                       for (let y = 0; y < updateSelectedOptions.length; y++) {\n    //                         if (updateSelectedOptions[y].name === \"registrar\") {\n    //                           updateSelectedOptions[y] = registrarOption\n    //                           noRegistrarOption = false\n    //                           setSelectedOptions(updateSelectedOptions)\n    //                           break\n    //                         }\n    //                         else {\n    //                           noRegistrarOption = true\n    //                         }\n    //                       }\n    //                       if (noRegistrarOption === true) {\n    //                         updateSelectedOptions.push(registrarOption)\n    //                         setSelectedOptions(updateSelectedOptions)\n    //                       }\n    //                     }\n    //                   }\n    //                 }\n    //               }\n    //             }\n    //           }\n    //         }\n    //       }\n    //     }\n    //   }\n    // }\n\n\n    if (option.name === \"payer_type\" && (taskType === \"showPaymentsForCDServicesCreatingForm\" || taskType === \"showPaymentsForCDServicesViewForm\" || taskType === \"showPaymentsForCDServicesSearchForm\")) {\n      // console.log(\"SEL\", option.name, option.value)\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          if (Form.sections[s].contents[c].name === \"depositor\") {\n            if (option.value === 1) {\n              // block registrat and issuer\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"issuer\"] = null;\n              fieldValue[\"registrar\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"issuer\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"issuer\"\n                  };\n                }\n\n                if (updateSelectedOptions[i].name === \"registrar\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"registrar\"\n                  };\n                }\n\n                setSelectedOptions(updateSelectedOptions);\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n\n          if (Form.sections[s].contents[c].name === \"issuer\") {\n            if (option.value === 2) {\n              // block depositor and registrar\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"depositor\"] = null;\n              fieldValue[\"registrar\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"depositor\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"depositor\"\n                  };\n                }\n\n                if (updateSelectedOptions[i].name === \"registrar\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"registrar\"\n                  };\n                }\n\n                setSelectedOptions(updateSelectedOptions);\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n\n          if (Form.sections[s].contents[c].name === \"registrar\") {\n            if (option.value === 3) {\n              // block depositor and issuer\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"depositor\"] = null;\n              fieldValue[\"issuer\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"depositor\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"depositor\"\n                  };\n                  break;\n                }\n\n                if (updateSelectedOptions[i].name === \"issuer\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"issuer\"\n                  };\n                }\n\n                setSelectedOptions(updateSelectedOptions);\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n        }\n      }\n\n      setForm(Form);\n    } else if (option.name === \"recipient_type\" && (taskType === \"showTransitChargeForCDServicesSearchForm\" || taskType === \"showTransitChargeForCDServicesCreatingForm\" || taskType === \"showTransitChargeForCDServicesEditForm\" || taskType === \"showTransitPaymentsForCDServicesSearchForm\" || taskType === \"showTransitPaymentsForCDServicesCreatingForm\" || taskType === \"showTransitPaymentsForCDServicesEditForm\")) {\n      // console.log(\"RECIPIENT\", option.name, option.value, fieldValue)\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          if (Form.sections[s].contents[c].name === \"registrar\") {\n            if (option.value === 1) {\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"corr_depository\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"corr_depository\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"corr_depository\"\n                  };\n                  setSelectedOptions(updateSelectedOptions);\n                  break;\n                }\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n\n          if (Form.sections[s].contents[c].name === \"corr_depository\") {\n            if (option.value === 2) {\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"registrar\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"registrar\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"registrar\"\n                  };\n                  setSelectedOptions(updateSelectedOptions);\n                  break;\n                }\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n        }\n      }\n\n      setForm(Form); // console.log(\"NEW ENUMS\")\n    } // show partner ID & depositor_code when depositor has been changed\n    else if (option.name === \"depositor\") {\n      if (taskType === \"showTradesEditForm\" || taskType === \"showTradesCreatingForm\") {\n        for (let e = 0; e < enumData.length; e++) {\n          if (enumData[e].name === \"depositor\") {\n            for (let d = 0; d < enumData[e].data.length; d++) {\n              if (enumData[e].data[d].id === option.value) {\n                setFieldValue({ ...fieldValue,\n                  [\"partner\"]: enumData[e].data[d].partner,\n                  [\"depositor_code\"]: enumData[e].data[d].partner\n                });\n                break;\n              }\n            }\n          }\n        }\n      } // else if(taskType === \"\"){\n      //   for (let e = 0; e < enumData.length; e++) {\n      //     if (enumData[e].name === \"depositor\") {\n      //       for (let d = 0; d < enumData[e].data.length; d++) {\n      //         if (enumData[e].data[d].id === option.value) {\n      //           console.log(\"DEP CODE\", enumData[e].data[d].partner)\n      //           setFieldValue({ ...fieldValue, [\"depositor_code\"]: enumData[e].data[d].partner })\n      //           break\n      //         }\n      //       }\n      //     }\n      //   }\n      // }\n\n    }\n\n    console.log(\"F VAL\", fieldValue);\n    setFieldValue(fieldValue);\n  }\n\n  function handleDateTimeChange(event) {\n    // // console.log(\"EVENT\", event.target.name, event.target.value)\n    // let fullDate = props.parseDate(event.target.value)\n    // var hours = new Date().getHours()\n    // var minutes = new Date().getMinutes()\n    // var seconds = new Date().getSeconds()\n    // var convertedDate = fullDate + \" \" + hours + \":\" + minutes + \":\" + seconds // + \".123456\"\n    // fieldValue[event.target.name] = convertedDate\n    let fullDateTime = moment(event.target.value).format('YYYY-MM-DDTHH:mm:ss');\n    fieldValue[event.target.name] = fullDateTime;\n    setFieldValue(fieldValue); // console.log(\"DATE CHANGE\", event.target.value)\n  }\n\n  function handleExpandAccordion() {\n    setAccordionExpanded(!accordionExpanded);\n  }\n\n  function getContentType(key) {\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (key === Form.sections[s].contents[c].name) {\n          return Form.sections[s].contents[c].type;\n        }\n      }\n    }\n  } // filter docList by filled parameters\n\n\n  function filterDocList(fetchFrom, fetchTo, Data, fields) {\n    console.log(\"FILTER\", fields);\n    var newDocList = [];\n\n    if (Object.keys(fields).length === 0) {\n      newDocList = Data;\n    } else {\n      for (let i = 0; i < Data.length; i++) {\n        let match = false;\n\n        for (let key in fields) {\n          if (fields[key] === null || fields[key] === \"\" || fields[key] === undefined) {\n            match = true;\n          } else {\n            if (Data[i][key] !== null) {\n              let contentType = getContentType(key);\n\n              if (contentType === \"Text\") {\n                try {\n                  let searchField = fields[key].toLowerCase();\n                  let dataField = Data[i][key].toLowerCase();\n                  let includeSearch = dataField.includes(searchField);\n\n                  if (includeSearch === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                } catch (er) {\n                  console.log(\"ERR TEXT SEARCH\", er, Data[i][key]);\n                  match = true;\n                }\n              } else if (contentType === \"Int\" || contentType === \"Float\") {\n                if (fields[key] >= 0 || fields[key] < 0) {\n                  let searchField = fields[key].toString();\n                  let dataField = Data[i][key].toString();\n                  let includeSearch = dataField.includes(searchField);\n\n                  if (includeSearch === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                } else {\n                  match = true;\n                }\n              } else if (contentType === \"Enum\") {\n                if (fields[key] === Data[i][key]) {\n                  // console.log(\"ENUMS\", key, fields[key], Data[i][key])\n                  match = true;\n                } else {\n                  match = false;\n                  break;\n                }\n              } else if (contentType === \"DateTime\") {\n                let searchField = props.parseDate(fields[key]);\n                let dataField = props.parseDate(Data[i][key]); // console.log(\"DATES\", searchField, dataField, searchField.includes(dataField))\n\n                if (searchField === \"NaN-NaN-NaN\" || searchField === \"Invalid date\") {\n                  match = true;\n                } else {\n                  if (searchField.includes(dataField) === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                }\n              } else if (contentType === \"Bool\") {\n                if (fields[key] === Data[i][key]) {\n                  match = true;\n                } else {\n                  match = false;\n                  break;\n                }\n              }\n            } else {\n              match = false;\n              break;\n            }\n          }\n        }\n\n        if (match === true) {\n          newDocList.push(Data[i]);\n        }\n      }\n    }\n\n    setFilteredDocList(newDocList);\n    fetchBySize(fetchFrom, fetchTo, newDocList);\n  } // get rows amount of filtered docList by size\n\n\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    // console.log(\"fetchFrom\", \"fetchTo\")\n    let newDocList = [];\n\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i]);\n      }\n    }\n\n    setFilteredDocList(Data);\n    setDocList(newDocList);\n  } // Pagination functions\n\n\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1);\n      fetchBySize(0, size - 1, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowLastClick() {\n    if (page !== getPageAmount()) {\n      setPage(getPageAmount());\n      fetchBySize((getPageAmount() - 1) * size, filteredDocList.length, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на последней странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1;\n      setPage(prevPage);\n      let fetchFrom = (prevPage - 1) * size; //10\n\n      let fetchTo = size * prevPage - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\");\n      setShowSnackBar(true);\n    } else {\n      setPage(page + 1);\n      let fetchFrom = size * page;\n      let fetchTo = (page + 1) * size - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    }\n  }\n\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value);\n    setPage(1);\n    fetchBySize(0, event.target.value - 1, filteredDocList);\n  }\n\n  function GoToPage() {\n    let fetchFrom = page * size - 1 - size;\n    let fetchTo = page * size - 1;\n    fetchBySize(fetchFrom, fetchTo, filteredDocList);\n  }\n\n  function handlePageChange(event) {\n    setPage(event.target.value);\n  }\n\n  function handleCloseSnackBar() {\n    setShowSnackBar(false);\n  }\n\n  function getPageAmount() {\n    let pagesFloat = filteredDocList.length / size;\n    let mathRoundOfPages = Math.floor(pagesFloat);\n\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1;\n    } else {\n      return mathRoundOfPages;\n    }\n  } // random UUID generator\n\n\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\");\n\n    return uuidv1();\n  }\n\n  function swAllert(text, icon) {\n    return swal({\n      text: text,\n      icon: icon,\n      buttons: {\n        ok: \"Ок\"\n      }\n    });\n  } // Collect data to save doc\n\n\n  function getFieldValuesSaveDocument() {\n    let docToSave = {};\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name;\n\n        if (Form.sections[s].contents[c].type === \"Bool\" && fieldValue[fieldName] === undefined) {\n          docToSave[fieldName] = false;\n        } else if (Form.sections[s].contents[c].type === \"BoolCustom\") {\n          if (fieldValue[fieldName] === true || fieldValue[fieldName] === Form.sections[s].contents[c].valueTrue) {\n            docToSave[fieldName] = Form.sections[s].contents[c].valueTrue;\n          } else {\n            docToSave[fieldName] = Form.sections[s].contents[c].valueFalse;\n          }\n        } else {\n          docToSave[fieldName] = fieldValue[fieldName];\n        }\n      }\n    }\n\n    return docToSave;\n  } // Collect data to update doc\n\n\n  function getFieldValuesUpdateDocument() {\n    let docToUpdate = selectedDoc; // docToUpdate[\"created_at\"] = selectedDoc.created_at\n    // docToUpdate[\"id\"] = parseInt(docId)\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name;\n\n        if (Form.sections[s].contents[c].type === \"Bool\" && (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null)) {\n          docToUpdate[fieldName] = false;\n        } else if (Form.sections[s].contents[c].type === \"BoolCustom\") {\n          // console.log(\"BOOLCUST\", fieldName, fieldValue[fieldName])\n          if (fieldValue[fieldName] === true || fieldValue[fieldName] === Form.sections[s].contents[c].valueTrue) {\n            docToUpdate[fieldName] = Form.sections[s].contents[c].valueTrue;\n          } else {\n            docToUpdate[fieldName] = Form.sections[s].contents[c].valueFalse;\n          }\n        } else {\n          docToUpdate[fieldName] = fieldValue[fieldName];\n        }\n      }\n    }\n\n    return docToUpdate;\n  }\n\n  function checkForRequieredFields() {\n    let checkedSuccessfuly = null;\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name;\n\n        if (Form.sections[s].contents[c].required === true) {\n          if (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null || fieldValue[fieldName] === \"NaN.NaN.NaN\" || fieldValue[fieldName] === \"\") {\n            checkedSuccessfuly = false;\n            swAllert(\"Внимание заполните поле \\\"\" + Form.sections[s].contents[c].label + \"\\\"\", \"warning\");\n            return checkedSuccessfuly;\n          } else {\n            checkedSuccessfuly = true;\n          }\n        } else {\n          checkedSuccessfuly = true;\n        }\n      }\n    }\n\n    return checkedSuccessfuly;\n  }\n\n  function buttonClick(buttonName, item) {\n    if (buttonName === \"findDocument\") {\n      if (accordionExpanded === false) {\n        setAccordionExpanded(true);\n      } else {\n        filterDocList(0, size - 1, initialDocList, fieldValue);\n      }\n    } else if (buttonName === \"openDocument\") {\n      // console.log(\"ITEM\", item)\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          selectedDoc: {\n            value: JSON.stringify(item)\n          },\n          userAction: {\n            value: \"openDocument\"\n          },\n          docId: {\n            value: item.id\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"button openDocument: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"openStockDocument\") {\n      // console.log(\"ITEM\", item)\n      item.account = item.account_id;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          selectedDoc: {\n            value: JSON.stringify(item)\n          },\n          userAction: {\n            value: \"openDocument\"\n          },\n          docId: {\n            value: item.id\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"button openStockDocument: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"editDocument\") {\n      // console.log(\"ITEM\", item)\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"editDocument\"\n          }\n        }\n      };\n      console.log(\"button editDocument: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"openReferenceDocument\") {\n      // console.log(\"ITEM\", item)\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          apiName: {\n            value: item.controller\n          },\n          userAction: {\n            value: \"openReferenceDocument\"\n          },\n          searchFormDefId: {\n            value: item.search_form\n          },\n          gridFormDefId: {\n            value: item.grid_form\n          },\n          creatingFormDefId: {\n            value: item.creating_form\n          },\n          editFormDefId: {\n            value: item.edit_form\n          },\n          searchDocMain: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"button openReferenceDocument: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"updateDocument\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"updateDocument\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"updateDocument:\", commandJson);\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"createDocument\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"createDocument\"\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"createDocument:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"saveDocument\") {\n      let docToSave = getFieldValuesSaveDocument();\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"saveDocument\"\n          },\n          document: {\n            value: JSON.stringify(docToSave)\n          }\n        }\n      };\n      console.log(\"saveDocument:\", commandJson);\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"saveSecurity\") {\n      let checkForCode = null;\n      let docToSave = getFieldValuesSaveDocument();\n\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === \"securities\") {\n          for (let d = 0; d < enumData[i].data.length; d++) {\n            if (enumData[i].data[d].code === fieldValue[\"code\"]) {\n              checkForCode = false;\n              swAllert(\"ЦБ с таким кодом уже существует\", \"warning\");\n              break;\n            }\n\n            if (d === enumData[i].data.length - 1 && enumData[i].data[d].isin !== fieldValue[\"code\"]) {\n              checkForCode = true;\n            }\n          }\n        }\n      }\n\n      let checkResult = checkForRequieredFields();\n      console.log(\"CODE\", checkForCode);\n\n      if (checkForCode !== null && checkForCode !== false) {\n        let commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: {\n              value: \"saveDocument\"\n            },\n            document: {\n              value: JSON.stringify(docToSave)\n            }\n          }\n        };\n        console.log(\"saveSecurity:\", commandJson);\n\n        if (checkResult === true) {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      }\n    } else if (buttonName === \"blockSecurity\") {\n      if (selectedDoc.blocked !== true) {\n        let commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: {\n              value: \"blockSecurity\"\n            },\n            security_id: {\n              value: selectedDoc.id\n            }\n          }\n        };\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно Заблокировать выпуск ЦБ?\",\n          icon: \"warning\",\n          buttons: {\n            yes: \"Да\",\n            cancel: \"Отмена\"\n          }\n        }).then(click => {\n          if (click === \"yes\") {\n            console.log(\"blockSecurity:\", commandJson);\n            props.sendFieldValues(commandJson);\n            props.clearTabData(process_id);\n          }\n        });\n      } else {\n        swAllert(\"ЦБ уже заблокирована!\", \"warning\");\n      }\n    } else if (buttonName === \"unblockSecurity\") {\n      if (selectedDoc.blocked === true) {\n        let commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: {\n              value: \"unblockSecurity\"\n            },\n            security_id: {\n              value: selectedDoc.id\n            }\n          }\n        };\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно разблокировать выпуск ЦБ?\",\n          icon: \"warning\",\n          buttons: {\n            yes: \"Да\",\n            cancel: \"Отмена\"\n          }\n        }).then(click => {\n          if (click === \"yes\") {\n            console.log(\"unblockSecurity:\", commandJson);\n            props.sendFieldValues(commandJson);\n            props.clearTabData(process_id);\n          }\n        });\n      } else {\n        swAllert(\"ЦБ не была блокирована ранее!\", \"warning\");\n      }\n    } else if (buttonName === \"blockIssuerSecurities\") {\n      if (selectedDoc.blocked !== true) {\n        let commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: {\n              value: \"blockIssuerSecurities\"\n            },\n            issuer_id: {\n              value: selectedDoc.id\n            }\n          }\n        };\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно Заблокировать ЦБ эмитента?\",\n          icon: \"warning\",\n          buttons: {\n            yes: \"Да\",\n            cancel: \"Отмена\"\n          }\n        }).then(click => {\n          if (click === \"yes\") {\n            console.log(\"blockIssuerSecurities:\", commandJson);\n            props.sendFieldValues(commandJson);\n            props.clearTabData(process_id);\n          }\n        });\n      } else {\n        swAllert(\"ЦБ эмитента уже заблокированы!\", \"warning\");\n      }\n    } else if (buttonName === \"unblockIssuerSecurities\") {\n      if (selectedDoc.blocked === true) {\n        let commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: {\n              value: \"unblockIssuerSecurities\"\n            },\n            issuer_id: {\n              value: selectedDoc.id\n            }\n          }\n        };\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно Разблокировать ЦБ эмитента?\",\n          icon: \"warning\",\n          buttons: {\n            yes: \"Да\",\n            cancel: \"Отмена\"\n          }\n        }).then(click => {\n          if (click === \"yes\") {\n            console.log(\"unblockIssuerSecurities:\", commandJson);\n            props.sendFieldValues(commandJson);\n            props.clearTabData(process_id);\n          }\n        });\n      } else {\n        swAllert(\"ЦБ эмитента не были блокированы ранее!\", \"warning\");\n      }\n    } else if (buttonName === \"deleteDocument\") {\n      let docToDelete = selectedDoc.id;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"deleteDocument\"\n          },\n          document: {\n            value: docToDelete.toString()\n          }\n        }\n      };\n      console.log(\"deleteDocument:\", commandJson);\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно удалить данную запись?\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      });\n    } else if (buttonName === \"savePartnerContact\") {\n      let docToSave = getFieldValuesSaveDocument();\n      docToSave[\"partner\"] = docId;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"saveDocument\"\n          },\n          document: {\n            value: JSON.stringify(docToSave)\n          }\n        }\n      };\n      console.log(\"saveDocument:\", commandJson);\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"saveAccount\") {\n      const createDocument = getFieldValuesSaveDocument();\n\n      if (fieldValue[\"account_type\"] === 3001 || fieldValue[\"account_type\"] === 3101 || fieldValue[\"account_type\"] === 3301) {\n        createDocument[\"accnumber\"] = \"1-\" + fieldValue[\"account_type\"] + \"-\" + fieldValue[\"partner\"];\n      } else {\n        for (let i = 0; i < enumData.length; i++) {\n          if (enumData[i].name === \"account_type\") {\n            for (let d = 0; d < enumData[i].data.length; d++) {\n              if (enumData[i].data[d].id === fieldValue[\"account_type\"]) {\n                createDocument[\"accnumber\"] = enumData[i].data[d].status + \"-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"];\n              }\n            }\n          }\n        }\n      } // for(let i=0; i<enumData.length; i++){\n      //   if(enumData[i].name === \"account_type\"){\n      //     for(let d=0; d<enumData[i].data.length; d++){\n      //       if(enumData[i].data[d].id === fieldValue[\"account_type\"]){\n      //         if(fieldValue[\"istrading_account\"] === true){\n      //           createDocument[\"accnumber\"] = \"1-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n      //         }\n      //         else{\n      //           createDocument[\"accnumber\"] = enumData[i].data[d].status + \"-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n      //         }\n      //         // createDocument[\"account_type\"] = enumData[i].data[d].code\n      //       }\n      //     }\n      //   }\n      // }\n\n\n      createDocument[\"isactive\"] = true;\n      createDocument[\"isclosed\"] = false;\n      createDocument[\"dateopen\"] = props.getCurrentFullDateTime();\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"saveAccount\"\n          },\n          document: {\n            value: JSON.stringify(createDocument)\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          }\n        }\n      };\n      console.log(\"button saveAccount: \", commandJson);\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"updateAccount\") {\n      const updateDocument = getFieldValuesUpdateDocument();\n\n      if (fieldValue[\"account_type\"] === 3001 || fieldValue[\"account_type\"] === 3101 || fieldValue[\"account_type\"] === 3301) {\n        updateDocument[\"accnumber\"] = \"1-\" + fieldValue[\"account_type\"] + \"-\" + fieldValue[\"partner\"];\n      } else {\n        for (let i = 0; i < enumData.length; i++) {\n          if (enumData[i].name === \"account_type\") {\n            for (let d = 0; d < enumData[i].data.length; d++) {\n              if (enumData[i].data[d].id === fieldValue[\"account_type\"]) {\n                updateDocument[\"accnumber\"] = enumData[i].data[d].status + \"-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"];\n              }\n            }\n          }\n        }\n      } // for(let i=0; i<enumData.length; i++){\n      //   if(enumData[i].name === \"account_type\"){\n      //     for(let d=0; d<enumData[i].data.length; d++){\n      //       if(enumData[i].data[d].id === fieldValue[\"account_type\"]){\n      //         if(fieldValue[\"istrading_account\"] === true){\n      //           updateDocument[\"accnumber\"] = \"1-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n      //         }\n      //         else{\n      //           updateDocument[\"accnumber\"] = enumData[i].data[d].status + \"-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n      //         }\n      //       }\n      //     }\n      //   }\n      // }\n\n\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"updateAccount\"\n          },\n          document: {\n            value: JSON.stringify(updateDocument)\n          },\n          selectedDoc: {\n            value: JSON.stringify(updateDocument)\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          }\n        }\n      };\n      console.log(\"button updateAccount: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"saveAccountGIK\") {\n      const createDocument = getFieldValuesSaveDocument();\n\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === \"acc_type\") {\n          for (let d = 0; d < enumData[i].data.length; d++) {\n            if (enumData[i].data[d].id === fieldValue[\"acc_type\"]) {\n              createDocument[\"acc_number\"] = enumData[i].data[d].label + \"-\" + fieldValue[\"depositor\"];\n            }\n          }\n        }\n      }\n\n      createDocument[\"is_active\"] = true;\n      createDocument[\"is_closed\"] = false;\n      createDocument[\"open_date\"] = props.getCurrentFullDateTime();\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"saveAccountGIK\"\n          },\n          document: {\n            value: JSON.stringify(createDocument)\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          }\n        }\n      };\n      console.log(\"button saveInstruction: \", commandJson);\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"blockAccount\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody[\"isactive\"] = false;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"blockAccount\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"blockAccount:\", commandJson);\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите заблокировать данный счет?\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id); // swAllert(\"Данные успешно обновлены!\", \"success\")\n        }\n      });\n    } else if (buttonName === \"blockAccountGIK\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody[\"is_active\"] = false;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"blockAccountGIK\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"blockAccountGIK:\", commandJson);\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите заблокировать данный счет?\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id); // swAllert(\"Данные успешно обновлены!\", \"success\")\n        }\n      });\n    } else if (buttonName === \"unblockAccount\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody[\"isactive\"] = true;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"unblockAccount\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"unblockAccount:\", commandJson);\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите разблокировать данный счет?\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      });\n    } else if (buttonName === \"unblockAccountGIK\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody[\"is_active\"] = true;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"unblockAccountGIK\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"unblockAccountGIK:\", commandJson);\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите разблокировать данный счет?\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id); // swAllert(\"Данные успешно обновлены!\", \"success\")\n        }\n      });\n    } else if (buttonName === \"closeAccount\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody[\"isclosed\"] = null; // updateBody[\"isactive\"] = false\n\n      updateBody[\"deleted\"] = true;\n      updateBody[\"dateclosed\"] = props.getCurrentFullDateTime();\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"closeAccount\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"closeAccount:\", commandJson);\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите ЗАКРЫТЬ данный счет? Данную операцию невозможно отменить\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id); // swAllert(\"Данные успешно обновлены!\", \"success\")\n        }\n      });\n    } else if (buttonName === \"closeAccountGIK\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody[\"is_closed\"] = true;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"closeAccountGIK\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"closeAccountGIK:\", commandJson);\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите ЗАКРЫТЬ данный счет? Данную операцию невозможно отменить\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id); // swAllert(\"Данные успешно обновлены!\", \"success\")\n        }\n      });\n    } else if (buttonName === \"contacs\") {\n      // console.log(\"ITEM\", item)\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"contacs\"\n          },\n          partnerId: {\n            value: docId\n          }\n        }\n      };\n      console.log(\"button contacs: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"setAccountManager\") {\n      console.log(\"ITEM\", item);\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"setAccountManager\"\n          },\n          manager_id: {\n            value: selectedDoc.acc_manager\n          }\n        }\n      };\n      console.log(\"button setAccountManager: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"saveAccountManager\") {\n      let doc = null;\n      let userAct = \"updateAccountManager\";\n\n      if (selectedDoc === null) {\n        userAct = \"createAccountManager\";\n        doc = getFieldValuesSaveDocument();\n      } else {\n        doc = getFieldValuesUpdateDocument();\n      }\n\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: userAct\n          },\n          document: {\n            value: JSON.stringify(doc)\n          }\n        }\n      };\n      console.log(\"button createUpdateACCManager: \", commandJson);\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"deleteAccountManager\") {\n      if (selectedDoc !== null) {\n        let commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: {\n              value: \"deleteAccountManager\"\n            },\n            docIdToDelete: {\n              value: selectedDoc.id.toString()\n            }\n          }\n        };\n        console.log(\"deleteAccountManager:\", commandJson);\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно хотите снять управляющего?\",\n          icon: \"warning\",\n          buttons: {\n            yes: \"Да\",\n            cancel: \"Отмена\"\n          }\n        }).then(click => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson);\n            props.clearTabData(process_id); // swAllert(\"Данные успешно обновлены!\", \"success\")\n          }\n        });\n      }\n    } else if (buttonName === \"showInstructionTypeCreatingForm\") {\n      let instructionTypeDoc = getFieldValuesSaveDocument();\n      instructionTypeDoc.create_form = \"\";\n      instructionTypeDoc.edit_form = \"\";\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"showInstructionTypeCreatingForm\"\n          },\n          instructionTypeDoc: {\n            value: JSON.stringify(instructionTypeDoc)\n          },\n          newInstructionLabel: {\n            value: fieldValue[\"name\"]\n          }\n        }\n      };\n      console.log(\"showInstructionTypeCreatingForm:\", commandJson);\n      props.sendFieldValues(commandJson);\n    } else if (buttonName === \"updatePartnerContacts\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody[\"partner\"] = selectedDoc.partner;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"updateDocument\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"updateDocument:\", commandJson);\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"getFiles\") {\n      if (fieldValue[\"date\"] !== undefined && fieldValue[\"date\"] !== \"NaN.NaN.NaN\") {\n        let newDate = new Date(fieldValue[\"date\"]); // \"2020-01-26\"\n\n        let dd = String(newDate.getDate()).padStart(2, '0');\n        let mm = String(newDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n        let yyyy = newDate.getFullYear();\n        let fileDir = dd + mm + yyyy;\n        let commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: {\n              value: \"getFiles\"\n            },\n            selectedDoc: {\n              value: fileDir\n            }\n          }\n        };\n        console.log(\"getFiles:\", commandJson);\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      } else {\n        swAllert(\"Введите дату\", \"warning\");\n      }\n    } else if (buttonName === \"updateInstructionType\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody[\"create_form\"] = selectedDoc.create_form;\n      updateBody[\"edit_form\"] = selectedDoc.edit_form;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"updateDocument\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        console.log(\"updateInstructionType:\", updateBody);\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"history\") {\n      if (selectedDoc !== null) {\n        let commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: {\n              value: \"history\"\n            },\n            docId: {\n              value: selectedDoc.id\n            }\n          }\n        };\n        console.log(\"history:\", commandJson);\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"showSystemChargeReportSelecting\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"showSystemChargeReportSelecting\"\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"button setAccountManager: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"saveDepositor\") {\n      let doc = getFieldValuesSaveDocument();\n      let tradesBody = {\n        depositor: 0,\n        trading_systems: 1,\n        depositor_code: doc.partner\n      };\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"saveDepositor\"\n          },\n          document: {\n            value: JSON.stringify(doc)\n          },\n          createInTrades: {\n            value: false\n          },\n          tradesBody: {\n            value: JSON.stringify(tradesBody)\n          }\n        }\n      };\n      swal({\n        text: \"Добавить депонента в торги??\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Нет\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          commandJson.variables.createInTrades.value = true;\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n          console.log(\"button saveDepositor:\", commandJson);\n        } else {\n          console.log(\"button saveDepositor: \", commandJson);\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      });\n    } else if (buttonName === \"selectLocation\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"selectLocation\"\n          },\n          location: {\n            value: fieldValue.location\n          }\n        }\n      };\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n      console.log(\"button selectLocation:\", commandJson);\n    } else if (buttonName === \"createPayment\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"createPayment\"\n          },\n          selectedDoc: {\n            value: JSON.stringify({\n              security: selectedDoc.id\n            })\n          } // docListPayments: { value: props.userTask.docList }\n\n        }\n      };\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n      console.log(\"button createPayment:\", commandJson);\n    } else if (buttonName === \"viewPayment\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"viewPayment\"\n          },\n          selectedDoc: {\n            value: JSON.stringify(item)\n          }\n        }\n      };\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n      console.log(\"button viewPayment:\", commandJson);\n    } else if (buttonName === \"back\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        // session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"back\"\n          }\n        }\n      };\n      console.log(\"button back:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"cancel\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        userRole: userProfile.userRole,\n        variables: {\n          authorization: {\n            value: \"token\"\n          },\n          userAction: {\n            value: \"cancel\"\n          }\n        }\n      };\n      console.log(\"button cancel: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"updateDocList\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"updateDocList\"\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"button updateDocList: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else {\n      console.log(\"UNKNOWN Button \", buttonName);\n    }\n  } // Create sections with labels and call bodyBuilder function\n\n\n  function sectionBuilder(section) {\n    return /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1983,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1984,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      style: {\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1985,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        color: \"black\",\n        fontSize: 14,\n        backgroundColor: sectionColor,\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1986,\n        columnNumber: 13\n      }\n    }, section.label))), bodyBuilder(section));\n  } // Create body of each section and call contentBuilder function\n\n\n  function bodyBuilder(section) {\n    return /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2005,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2006,\n        columnNumber: 9\n      }\n    }, section.contents.map(contentItem => contentItem.show === true && /*#__PURE__*/React.createElement(TableRow, {\n      style: {\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2009,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      align: \"left\",\n      style: {\n        width: \"40%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2010,\n        columnNumber: 15\n      }\n    }, contentItem.label), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"left\",\n      style: {\n        width: \"60%\",\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2015,\n        columnNumber: 15\n      }\n    }, contentBuilder(contentItem))))));\n  } // Creating components by it's type\n\n\n  function contentBuilder(contentItem) {\n    if (contentItem.type === \"Text\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressText,\n        multiline: !isSearchForm,\n        onBlur: handleTextChange,\n        name: contentItem.name,\n        style: {\n          width: \"100%\"\n        },\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        defaultValue: fieldValue[contentItem.name] ? fieldValue[contentItem.name] : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2030,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Enum\") {\n      let selectedOption = {\n        \"value\": \"\",\n        \"label\": \"Пусто\",\n        \"name\": contentItem.name\n      };\n\n      if (fieldValue[contentItem.name] !== undefined) {\n        for (let i = 0; i < enumOptions[contentItem.name].length; i++) {\n          if (parseInt(fieldValue[contentItem.name]) === enumOptions[contentItem.name][i].value) {\n            selectedOption = enumOptions[contentItem.name][i];\n            break;\n          }\n        }\n      }\n\n      if (selectedOptions.length !== 0) {\n        for (let i = 0; i < selectedOptions.length; i++) {\n          if (contentItem.name === selectedOptions[i].name) {\n            selectedOption = selectedOptions[i];\n          }\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Select, {\n        name: contentItem.name,\n        value: selectedOption,\n        onChange: handleSelectChange,\n        options: enumOptions[contentItem.name],\n        isDisabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        menuPortalTarget: document.body,\n        styles: {\n          menuPortal: base => ({ ...base,\n            zIndex: 9999\n          })\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2063,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Bool\") {\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        style: {\n          maxWidth: 20,\n          height: 15,\n          color: formType === \"view\" || contentItem.edit === false ? \"grey\" : \"green\"\n        },\n        name: contentItem.name,\n        onChange: handleCheckboxChange,\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        checked: fieldValue[contentItem.name] === false || fieldValue[contentItem.name] === null || fieldValue[contentItem.name] === undefined ? false : true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2076,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"BoolCustom\") {\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        style: {\n          maxWidth: 20,\n          height: 15,\n          color: formType === \"view\" || contentItem.edit === false ? \"grey\" : \"green\"\n        },\n        name: contentItem.name,\n        onChange: handleBoolCustomChange,\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        checked: fieldValue[contentItem.name] === false || fieldValue[contentItem.name] === null || fieldValue[contentItem.name] === undefined || fieldValue[contentItem.name] === contentItem.valueFalse ? false : true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2087,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Int\") {\n      // console.log(\"FVAL\", fieldValue)\n      return /*#__PURE__*/React.createElement(TextField, {\n        name: contentItem.name,\n        onKeyPress: onKeyPressInt,\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        style: {\n          width: \"100%\"\n        } // defaultValue={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n        // onBlur={handleIntChange}\n        ,\n        value: fieldValue[contentItem.name] !== undefined ? fieldValue[contentItem.name] : \"\",\n        onChange: handleIntChange,\n        InputProps: {\n          inputComponent: IntegerFormat\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2099,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Float\") {\n      // console.log(\"FLOAT VAL\", fieldValue[contentItem.name])\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressFloat,\n        name: contentItem.name // defaultValue = {(fieldValue[contentItem.name]) ? fieldValue[contentItem.name]: \"\"}\n        // onBlur={handleFloatChange}\n        // value={fieldValue[contentItem.name]}\n        ,\n        value: fieldValue[contentItem.name] !== undefined ? fieldValue[contentItem.name] : \"\",\n        onChange: handleFloatChange,\n        style: {\n          width: \"100%\"\n        },\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputProps: {\n          inputComponent: FloatFormat\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2115,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"DateTime\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressDateTime,\n        type: \"date\",\n        name: contentItem.name,\n        onBlur: handleDateTimeChange,\n        style: {\n          width: \"100%\"\n        },\n        defaultValue: fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null ? props.parseDate(fieldValue[contentItem.name]) : \"\",\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputLabelProps: {\n          shrink: true\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2131,\n          columnNumber: 9\n        }\n      });\n    }\n  } // Key press handlers for some fields\n\n\n  function onKeyPressText(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleTextChange(event);\n          buttonClick(\"findDocument\", null);\n        }\n      }\n    }\n  }\n\n  function onKeyPressDateTime(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleDateTimeChange(event);\n          buttonClick(\"findDocument\", null);\n        }\n      }\n    }\n  }\n\n  function onKeyPressInt(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          let stringNum = event.target.value.toString().replace(/ /g, '');\n          let int = parseInt(stringNum);\n          fieldValue[event.target.name] = int;\n          setFieldValue(fieldValue);\n          filterDocList(0, size - 1, initialDocList, fieldValue);\n        }\n      }\n    }\n  }\n\n  function onKeyPressFloat(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          let stringNum = event.target.value.toString().replace(/ /g, '');\n          let float = parseFloat(stringNum);\n          fieldValue[event.target.name] = float;\n          setFieldValue(fieldValue);\n          filterDocList(0, size - 1, initialDocList, fieldValue);\n        }\n      }\n    }\n  } // Create grid form components\n\n\n  function getGridFormItems(dataItem, contentItem) {\n    let value = dataItem[contentItem.name];\n    let name = contentItem.name;\n    let type = contentItem.type;\n\n    if (type === \"Enum\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        for (let i = 0; i < gridFormEnumData.length; i++) {\n          if (gridFormEnumData[i] !== null) {\n            if (name === gridFormEnumData[i].name) {\n              for (let l = 0; l < gridFormEnumData[i].data.length; l++) {\n                if (gridFormEnumData[i].data[l].id === parseInt(value)) {\n                  return gridFormEnumData[i].data[l].label;\n                }\n\n                if (l === gridFormEnumData[i].data.length - 1 && gridFormEnumData[i].data[l].id !== parseInt(value)) {\n                  return value + \" not found\";\n                }\n              }\n            }\n          }\n        }\n      }\n    } else if (type === \"Bool\") {\n      // console.log(\"ITEM\", name, value, type)\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        style: {\n          maxWidth: 20,\n          height: 15,\n          color: value === false ? \"red\" : \"green\"\n        },\n        checked: value === false || value === null || value === undefined ? false : true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2229,\n          columnNumber: 9\n        }\n      });\n    } else if (type === \"BoolCustom\") {\n      // console.log(\"ITEM\", name, value, type)\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        style: {\n          maxWidth: 20,\n          height: 15,\n          color: \"green\"\n        },\n        checked: value === contentItem.valueTrue ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2238,\n          columnNumber: 9\n        }\n      });\n    } else if (type === \"DateTime\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        // console.log(\"ITEM\", dataItem, value)\n        let Date = value.substring(0, 10);\n        let Time = value.substring(11, 16);\n        return Date + \" \" + Time;\n      }\n    } else if (type === \"Text\") {\n      // console.log(\"ITEM\", name, value, type)\n      if (name === \"instructionStatus\") {\n        let status = \"-\";\n\n        if (dataItem[\"filled\"] === true) {\n          status = \"Введено\";\n        }\n\n        if (dataItem[\"onExecution\"] === true) {\n          status = \"Введено -> На исполнении\";\n        }\n\n        if (dataItem[\"executed\"] === true) {\n          status = \"На исполнении -> Исполнено\";\n        }\n\n        if (dataItem[\"canceled\"] === true) {\n          status = \"На исполнении -> Отменено\";\n        }\n\n        return status;\n      } else {\n        if (value === null || value === \"\" || value === undefined) {\n          return \"-\";\n        } else {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2278,\n              columnNumber: 19\n            }\n          }, value);\n        }\n      }\n    } else if (type === \"Float\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        let newCur = props.currencyBeautifier(value);\n        return newCur;\n      }\n    } else if (type === \"Int\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        let newInt = props.intBeautifier(value);\n        return newInt;\n      }\n    } else {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2305,\n            columnNumber: 17\n          }\n        }, value);\n      }\n    }\n  }\n\n  function checkToShowSection(section) {\n    let showSection = false;\n\n    for (let i = 0; i < section.contents.length; i++) {\n      if (section.contents[i].show === true) {\n        showSection = true;\n        break;\n      }\n    }\n\n    return showSection;\n  }\n\n  function checkSectionOnLastChild(i) {\n    let lastSection = true;\n\n    if (i === gridForm.sections.length - 1) {\n      // The last section\n      return true;\n    } else {\n      let nextS = i + 1; // console.log(\"IT\", i, gridForm.sections[nextS])\n\n      for (let s = nextS; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n          // Check next section\n          if (gridForm.sections[s].contents[c].show === true) {\n            lastSection = false;\n            break;\n          }\n        }\n      }\n    }\n\n    return lastSection;\n  }\n\n  function getForm() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2340,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: isSearchForm === true ? 12 : 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2341,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2342,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      style: {\n        width: \"100%\",\n        \"border-collapse\": \"collapse\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2343,\n        columnNumber: 13\n      }\n    }, isSearchForm === false && /*#__PURE__*/React.createElement(TableRow, {\n      style: {\n        maxHeight: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2345,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        fontSize: 16,\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2346,\n        columnNumber: 19\n      }\n    }, Form.label)), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2349,\n        columnNumber: 15\n      }\n    }, Form.sections.map(section => {\n      return sectionBuilder(section);\n    }))))));\n  }\n\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i].name === name) {\n        for (let d = 0; d < gridFormEnumData[i].data.length; d++) {\n          if (gridFormEnumData[i].data[d].id === id) {\n            return gridFormEnumData[i].data[d].label;\n          }\n        }\n      }\n    }\n  }\n\n  function dynamicSort(property, sortOrder, type) {\n    console.log(\"PP\", property, type);\n\n    if (type === \"DateTime\") {\n      sortOrder = sortOrder * -1;\n      return function (a, b) {\n        if (a[property] !== null && b[property] !== null) {\n          let dateA = new Date(a[property].substring(0, 19));\n          let timeInSecA = dateA.getTime() / 1000; // console.log(\"timeInSecA\", timeInSecA)\n\n          let dateB = new Date(b[property].substring(0, 19));\n          let timeInSecB = dateB.getTime() / 1000; // console.log(\"timeInSecB\", timeInSecB)\n\n          var result = timeInSecA < timeInSecB ? -1 : timeInSecA > timeInSecB ? 1 : 0;\n          return result * sortOrder;\n        } else {\n          if (a[property] === null) {\n            return -1 * sortOrder;\n          }\n\n          return 1 * sortOrder;\n        }\n      };\n    } else if (type === \"Int\" || type === \"Text\" || type === \"Float\") {\n      return function (a, b) {\n        var result = a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n        return result * sortOrder;\n      };\n    } else if (type === \"Bool\" || type === \"BoolCustom\") {\n      sortOrder = sortOrder * -1;\n      return function (a, b) {\n        var result = a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n        return result * sortOrder;\n      };\n    } else if (type === \"Enum\") {\n      return function (a, b) {\n        if (a[property] === null) {\n          return 1 * sortOrder;\n        } else {\n          let labelA = getEnumLabel(property, a[property]); // console.log(\"A\", property, a[property], labelA)\n\n          let labelB = getEnumLabel(property, b[property]); // console.log(\"labelB\", labelB, property, b)\n\n          var result = labelA < labelB ? -1 : labelA > labelB ? 1 : 0;\n          return result * sortOrder;\n        }\n      };\n    }\n  }\n\n  function sortDataByColumn(name, type) {\n    let sortOrder = 1;\n\n    if (sortedColumn === name) {\n      sortOrder = sortedColumnOrder * -1;\n    }\n\n    setSortedColumnOrder(sortOrder);\n    setSortedColumn(name);\n    let sortedDocList = filteredDocList.sort(dynamicSort(name, sortOrder, type));\n    setPage(1);\n    let fetchFrom = 0;\n    let fetchTo = size - 1;\n    setFilteredDocList(sortedDocList);\n    fetchBySize(fetchFrom, fetchTo, sortedDocList);\n  }\n\n  function calculateColSpan(contents) {\n    let num = 0;\n\n    for (let i = 0; i < contents.length; i++) {\n      if (contents[i].show === true) {\n        num += 1;\n      }\n    }\n\n    return num;\n  }\n\n  function createMenuItems() {\n    let columns = [];\n    columns.push( /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2449,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        paddingLeft: 5,\n        cursor: \"pointer\"\n      },\n      name: \"selectAll\",\n      onClick: () => handleTableCheckboxChange(\"selectAll\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2450,\n        columnNumber: 9\n      }\n    }, \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2457,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      style: {\n        maxWidth: 20,\n        height: 15,\n        color: \"green\"\n      },\n      name: \"selectAll\",\n      onChange: handleGridCheckboxChange,\n      checked: gridFieldValue[\"selectAll\"] === false || gridFieldValue[\"selectAll\"] === null || gridFieldValue[\"selectAll\"] === undefined ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2458,\n        columnNumber: 11\n      }\n    }))));\n\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        let name = gridForm.sections[s].contents[c].name;\n        columns.push( /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2471,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          style: {\n            paddingLeft: 5,\n            cursor: \"pointer\",\n            background: gridFieldValue[name] === true ? \"#E2E2E2\" : \"white\"\n          },\n          name: name,\n          onClick: () => handleTableCheckboxChange(name),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2472,\n            columnNumber: 13\n          }\n        }, gridForm.sections[s].contents[c].label), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2479,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          style: {\n            maxWidth: 20,\n            height: 15,\n            color: \"green\"\n          },\n          name: name,\n          onChange: handleGridCheckboxChange,\n          checked: gridFieldValue[name] === false || gridFieldValue[name] === null || gridFieldValue[name] === undefined ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2480,\n            columnNumber: 15\n          }\n        }))));\n      }\n    }\n\n    return columns;\n  }\n\n  function downloadExcel() {\n    tableToExcel.convert(document.getElementById(gridTableId));\n  }\n\n  const handleGridCheckboxChange = event => {\n    // console.log(\"CHBX\", event.target.name, event.target.checked)\n    if (event.target.name === \"selectAll\") {\n      let newFields = {\n        [event.target.name]: event.target.checked\n      };\n\n      for (let key in gridFieldValue) {\n        newFields[key] = !gridFieldValue[event.target.name];\n      } // console.log(\"selectAll\", newFields)\n\n\n      setGridFieldValue(newFields);\n    } else {\n      setGridFieldValue({ ...gridFieldValue,\n        [event.target.name]: event.target.checked\n      });\n    }\n  };\n\n  const handleTableCheckboxChange = name => {\n    // console.log(\"TD CHBX\", name)\n    if (name === \"selectAll\") {\n      let newFields = { ...gridFieldValue\n      };\n\n      for (let key in newFields) {\n        newFields[key] = !gridFieldValue[name];\n      }\n\n      setGridFieldValue(newFields);\n    } else {\n      setGridFieldValue({ ...gridFieldValue,\n        [name]: !gridFieldValue[name]\n      });\n    }\n  };\n\n  const handleContextMenu = event => {\n    if (userProfile.userRole === \"1\") {\n      event.preventDefault();\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null); // console.log(\"CLOSE\", fieldValue)\n\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        gridForm.sections[s].contents[c].show = gridFieldValue[gridForm.sections[s].contents[c].name];\n      }\n    }\n\n    console.log(\"nForm\", gridForm);\n    setGridForm(gridForm);\n    setUpdateState(getUUID());\n  };\n\n  if (updateState !== null) {\n    try {\n      return /*#__PURE__*/React.createElement(Grid, {\n        key: updateState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2544,\n          columnNumber: 9\n        }\n      }, isSearchForm !== null && isSearchForm === true ? /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"flex-start\",\n        spacing: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2548,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 11,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2549,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Accordion, {\n        expanded: accordionExpanded,\n        onChange: () => handleExpandAccordion(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2550,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2552,\n            columnNumber: 33\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2551,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2554,\n          columnNumber: 21\n        }\n      }, Form.label)), /*#__PURE__*/React.createElement(AccordionDetails, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2556,\n          columnNumber: 19\n        }\n      }, getForm())))) : getForm(), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"flex-start\",\n        spacing: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2565,\n          columnNumber: 11\n        }\n      }, buttons.map((button, index) => /*#__PURE__*/React.createElement(Button, {\n        name: button.name,\n        variant: \"outlined\",\n        onClick: () => buttonClick(button.name, null),\n        style: {\n          margin: 3,\n          color: button.fontColor,\n          backgroundColor: button.backgroundColor,\n          height: 32,\n          fontSize: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2567,\n          columnNumber: 15\n        }\n      }, button.label))), isSearchForm === true && /*#__PURE__*/React.createElement(ReplayIcon, {\n        style: {\n          paddingTop: 3,\n          cursor: \"pointer\"\n        },\n        onClick: () => buttonClick(\"updateDocList\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2583,\n          columnNumber: 13\n        }\n      }), docList !== null && /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"flex-start\",\n        spacing: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2587,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: \"auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2588,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2589,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: \"500px\",\n          overflow: \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2590,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        size: \"small\",\n        class: \"main-table-style\",\n        id: gridTableId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2591,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        class: \"thead-style\",\n        style: {\n          position: \"sticky\",\n          top: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2592,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2594,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"td-head-first-child\",\n        colSpan: \"1\",\n        onContextMenu: ev => handleContextMenu(ev),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2595,\n          columnNumber: 27\n        }\n      }), gridForm.sections.map((section, index) => {\n        let showSection = checkToShowSection(section);\n\n        if (showSection === true) {\n          let lastSection = checkSectionOnLastChild(index);\n          return /*#__PURE__*/React.createElement(\"td\", {\n            onContextMenu: ev => handleContextMenu(ev),\n            class: lastSection === true ? \"td-head-last-child\" : \"td-head-style\",\n            colSpan: calculateColSpan(section.contents),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2601,\n              columnNumber: 33\n            }\n          }, section.label);\n        }\n      })), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2611,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"td-head-style-2row\",\n        rowSpan: \"2\",\n        style: {\n          \"minWidth\": \"65px\"\n        },\n        onContextMenu: ev => handleContextMenu(ev),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2612,\n          columnNumber: 27\n        }\n      }, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"), gridForm.sections.map(section => section.contents.map(contentItem => {\n        if (contentItem.show === true) {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            rowSpan: \"2\",\n            onClick: () => sortDataByColumn(contentItem.name, contentItem.type),\n            onContextMenu: ev => handleContextMenu(ev),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2624,\n              columnNumber: 35\n            }\n          }, contentItem.label, sortedColumn === contentItem.name ? sortedColumnOrder === 1 ? /*#__PURE__*/React.createElement(ArrowDropDownIcon, {\n            style: {\n              marginBottom: -8\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2631,\n              columnNumber: 100\n            }\n          }) : /*#__PURE__*/React.createElement(ArrowDropUpIcon, {\n            style: {\n              marginBottom: -8\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2631,\n              columnNumber: 153\n            }\n          }) : \"\");\n        }\n      })))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2639,\n          columnNumber: 23\n        }\n      }, Object.keys(docList).length !== 0 && docList.map(dataItem => /*#__PURE__*/React.createElement(\"tr\", {\n        style: {\n          \"height\": 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2642,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"td-style\",\n        style: {\n          \"maxWidth\": 34\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2643,\n          columnNumber: 31\n        }\n      }, gridFormButtons !== \"null\" && gridFormButtons.map(button => /*#__PURE__*/React.createElement(Button, {\n        key: button.name,\n        name: button.name,\n        variant: \"outlined\",\n        value: button.name,\n        onClick: () => buttonClick(button.name, dataItem),\n        style: {\n          margin: 1,\n          height: 24,\n          fontSize: 10,\n          maxWidth: 32,\n          backgroundColor: button.backgroundColor,\n          borderColor: \"darkgreen\",\n          color: \"darkgreen\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2649,\n          columnNumber: 37\n        }\n      }, button.label))), gridForm.sections.map(section => section.contents.map(contentItem => {\n        if (contentItem.show === true) {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            align: \"left\",\n            style: {\n              color: \"black\",\n              fontSize: 12,\n              \"text-align\": \"center\",\n              \"border-bottom\": \"1px solid grey\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2672,\n              columnNumber: 39\n            }\n          }, getGridFormItems(dataItem, contentItem));\n        }\n      }))))))), /*#__PURE__*/React.createElement(\"tfoot\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2685,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2686,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingLeft: \"3px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2687,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"outlined\",\n        style: {\n          background: \"#047535\",\n          color: \"white\",\n          height: 28\n        },\n        onClick: () => downloadExcel(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2688,\n          columnNumber: 25\n        }\n      }, \"\\u0412 EXCEL\")), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingLeft: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2695,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          minWidth: 90,\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2696,\n          columnNumber: 25\n        }\n      }, \"\\u041A\\u043E\\u043B-\\u0432\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439\")), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingLeft: \"3px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2698,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        style: {\n          minWidth: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2699,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(GridSelect, {\n        onChange: handleChangeRowsPerPage,\n        style: {\n          height: 25,\n          color: \"black\"\n        },\n        value: size,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2703,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        value: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2708,\n          columnNumber: 29\n        }\n      }, \"10\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 20,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2709,\n          columnNumber: 29\n        }\n      }, \"20\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 50,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2710,\n          columnNumber: 29\n        }\n      }, \"50\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2711,\n          columnNumber: 29\n        }\n      }, \"100\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 200,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2712,\n          columnNumber: 29\n        }\n      }, \"200\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 500,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2713,\n          columnNumber: 29\n        }\n      }, \"500\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 1000,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2714,\n          columnNumber: 29\n        }\n      }, \"1000\")))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2719,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041D\\u0430 \\u043F\\u0435\\u0440\\u0432\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2720,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: () => KeyboardArrowFirstClick(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2721,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(FirstPageIcon, {\n        style: {\n          fontSize: \"large\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2722,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2726,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041D\\u0430 \\u043F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2727,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: () => KeyboardArrowLeftClick(page),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2728,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2729,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"black\",\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2733,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        style: {\n          maxWidth: 25\n        },\n        value: page,\n        onChange: handlePageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2734,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingLeft: \"3px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2736,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043D\\u0430 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2737,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: () => GoToPage(),\n        variant: \"outlined\",\n        style: {\n          height: 22,\n          backgroundColor: \"#D1D6D6\",\n          fontSize: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2738,\n          columnNumber: 27\n        }\n      }, \"\\u043F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\"))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2750,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041D\\u0430 \\u0441\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2751,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: () => KeyboardArrowRightClick(page),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2752,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2753,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2757,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041D\\u0430 \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2758,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: () => KeyboardArrowLastClick(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2759,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(LastPageIcon, {\n        style: {\n          fontSize: \"large\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2760,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"pagination-rows-amount-style\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2764,\n          columnNumber: 23\n        }\n      }, \"\\u0421\\u0442\\u0440. \", page, \" \\u0438\\u0437 \", getPageAmount(), \" \\u041E\\u0431\\u0449\\u0435\\u0435 \\u043A\\u043E\\u043B-\\u0432\\u043E \", filteredDocList.length))), /*#__PURE__*/React.createElement(Menu, {\n        anchorEl: anchorEl,\n        open: openMenu,\n        onClose: handleCloseMenu,\n        MenuListProps: {\n          'aria-labelledby': 'basic-button'\n        },\n        style: {\n          paddingLeft: \"100px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2768,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2777,\n          columnNumber: 21\n        }\n      }, createMenuItems()))))), /*#__PURE__*/React.createElement(Snackbar, {\n        open: showSnackBar,\n        onClose: () => handleCloseSnackBar(),\n        autoHideDuration: 1200,\n        message: snackBarMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2785,\n          columnNumber: 11\n        }\n      }));\n    } catch (er) {\n      console.log(\"ERROR\", er);\n      return /*#__PURE__*/React.createElement(LinearProgress, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2796,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","makeStyles","Table","TableHead","TableRow","TableBody","TableCell","Button","Grid","Paper","GridSelect","FormControl","IconButton","MenuItem","LinearProgress","Snackbar","NumberFormat","PropTypes","Tooltip","Menu","Accordion","AccordionDetails","AccordionSummary","Typography","ExpandMoreIcon","FirstPageIcon","LastPageIcon","ArrowForwardIosIcon","ArrowBackIosIcon","ArrowDropDownIcon","ArrowDropUpIcon","ReplayIcon","ArrowUpwardRoundedIcon","TextField","Select","Checkbox","swal","hotkeys","tableToExcel","moment","require","generator","FloatFormat","props","inputRef","onChange","other","values","target","name","value","propTypes","func","isRequired","IntegerFormat","useStyles","theme","userProfile","session_id","userTask","process_id","taskID","Form","setForm","selectedDoc","setSelectedDoc","docId","setDocId","formType","docList","setDocList","filteredDocList","setFilteredDocList","initialDocList","setInitialDocList","gridForm","setGridForm","gridFormButtons","enumData","enumOptions","setEnumOptions","gridFormEnumData","fieldValue","setFieldValue","selectedOptions","setSelectedOptions","buttons","page","setPage","size","setSize","showSnackBar","setShowSnackBar","snackBarMessage","setSnackBarMessage","sectionColor","updateState","setUpdateState","taskType","isSearchForm","setIsSearchForm","accordionExpanded","setAccordionExpanded","sortedColumn","setSortedColumn","sortedColumnOrder","setSortedColumnOrder","classes","anchorEl","setAnchorEl","openMenu","Boolean","gridTableId","getUUID","gridFieldValue","setGridFieldValue","console","log","parsedData","JSON","parse","s","parseInt","p","sortedDocList","sort","dynamicSort","newSortedDocList","userRole","sd","length","partner","push","parsedSelectedDoc","filterDocList","fetchBySize","er","callErrorToast","undefined","fields","sections","c","contents","fieldName","newEnumOptions","i","options","d","data","id","label","getLostEnumName","newFields","show","enumI","type","event","handler","key","handleCheckboxChange","checked","updateSelectedOptions","slice","noSuchOption","countryOption","l","handleBoolCustomChange","handleIntChange","stringNum","toString","replace","int","handleFloatChange","handleTextChange","handleSelectChange","option","edit","e","handleDateTimeChange","fullDateTime","format","handleExpandAccordion","getContentType","fetchFrom","fetchTo","Data","newDocList","Object","keys","match","contentType","searchField","toLowerCase","dataField","includeSearch","includes","parseDate","KeyboardArrowFirstClick","KeyboardArrowLastClick","getPageAmount","KeyboardArrowLeftClick","prevPage","KeyboardArrowRightClick","handleChangeRowsPerPage","GoToPage","handlePageChange","handleCloseSnackBar","pagesFloat","mathRoundOfPages","Math","floor","uuidv1","swAllert","text","icon","ok","getFieldValuesSaveDocument","docToSave","valueTrue","valueFalse","getFieldValuesUpdateDocument","docToUpdate","checkForRequieredFields","checkedSuccessfuly","required","buttonClick","buttonName","item","commandJson","commandType","userId","variables","stringify","userAction","searchDoc","sendFieldValues","clearTabData","account","account_id","apiName","controller","searchFormDefId","search_form","gridFormDefId","grid_form","creatingFormDefId","creating_form","editFormDefId","edit_form","searchDocMain","updateBody","document","checkResult","checkForCode","code","isin","blocked","security_id","yes","cancel","then","click","issuer_id","docToDelete","createDocument","status","getCurrentFullDateTime","updateDocument","partnerId","manager_id","acc_manager","doc","userAct","docIdToDelete","instructionTypeDoc","create_form","newInstructionLabel","newDate","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","fileDir","tradesBody","depositor","trading_systems","depositor_code","createInTrades","location","security","authorization","sectionBuilder","section","height","color","fontSize","backgroundColor","width","bodyBuilder","map","contentItem","contentBuilder","onKeyPressText","selectedOption","body","menuPortal","base","zIndex","maxWidth","onKeyPressInt","inputComponent","onKeyPressFloat","onKeyPressDateTime","shrink","charCode","float","parseFloat","getGridFormItems","dataItem","substring","Time","newCur","currencyBeautifier","newInt","intBeautifier","checkToShowSection","showSection","checkSectionOnLastChild","lastSection","nextS","getForm","maxHeight","getEnumLabel","property","sortOrder","a","b","dateA","timeInSecA","getTime","dateB","timeInSecB","result","labelA","labelB","sortDataByColumn","calculateColSpan","num","createMenuItems","columns","paddingLeft","cursor","handleTableCheckboxChange","handleGridCheckboxChange","background","downloadExcel","convert","getElementById","handleContextMenu","preventDefault","currentTarget","handleCloseMenu","button","index","margin","fontColor","paddingTop","overflow","position","top","ev","marginBottom","borderColor","minWidth"],"sources":["C:/Users/SERGO/Desktop/depo/src/components/MainForm/MainForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\"; // Material ui table for usual form\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from '@material-ui/core/Button';\nimport { Grid } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport GridSelect from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Menu from '@mui/material/Menu';\n// Accordion\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n// Icons\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded';\n// Form components\nimport TextField from '@material-ui/core/TextField';\nimport Select from 'react-select'; // https://react-select.com/home\nimport Checkbox from '@material-ui/core/Checkbox';\n// Libraries\nimport swal from 'sweetalert'; // https://sweetalert.js.org/guides/\nimport hotkeys from 'hotkeys-js'; // https://github.com/jaywcjlove/hotkeys\nimport tableToExcel from \"@linways/table-to-excel\"; // https://github.com/linways/table-to-excel\n// Custom components\nimport \"../../components/GridForm/GridFormCSS.css\"\nvar moment = require('moment');\nvar generator = require('generate-password');\n\nfunction FloatFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        })\n      }}\n      decimalSeparator={\".\"}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nfunction IntegerFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nconst useStyles = makeStyles(theme => ({\n}))\nexport default (props) => {\n  // This.state\n  const [userProfile] = useState(props.userProfile)\n  const [session_id] = useState(props.userTask.session_id)\n  const [process_id] = useState(props.userTask.process_id)\n  const [taskID] = useState(props.userTask.taskID)\n  const [Form, setForm] = useState(props.userTask.Form)\n  const [selectedDoc, setSelectedDoc] = useState(null)\n  const [docId, setDocId] = useState(props.userTask.docId)\n  const [formType] = useState(props.userTask.formType)\n  const [docList, setDocList] = useState(null)\n  const [filteredDocList, setFilteredDocList] = useState(null)\n  const [initialDocList, setInitialDocList] = useState(null)\n  const [gridForm, setGridForm] = useState(props.userTask.gridForm)\n  const [gridFormButtons] = useState(props.userTask.gridFormButtons)\n  const [enumData] = useState(props.userTask.enumData)\n  const [enumOptions, setEnumOptions] = useState({})\n  const [gridFormEnumData] = useState(props.userTask.gridFormEnumData)\n  const [fieldValue, setFieldValue] = useState({})\n  const [selectedOptions, setSelectedOptions] = useState([])\n  const [buttons] = useState(props.userTask.buttons)\n  const [page, setPage] = useState(1)\n  const [size, setSize] = useState(10)\n  const [showSnackBar, setShowSnackBar] = useState(false)\n  const [snackBarMessage, setSnackBarMessage] = useState(\"\")\n  const [sectionColor] = useState(\"#B2E0C9\")\n  const [updateState, setUpdateState] = useState(false)\n  const [taskType] = useState(props.userTask.taskType)\n  const [isSearchForm, setIsSearchForm] = useState(null)\n  const [accordionExpanded, setAccordionExpanded] = useState(false)\n  const [sortedColumn, setSortedColumn] = useState(\"null\")\n  const [sortedColumnOrder, setSortedColumnOrder] = useState(1)\n  const classes = useStyles()\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const openMenu = Boolean(anchorEl)\n  const [gridTableId] = useState(getUUID())\n  const [gridFieldValue, setGridFieldValue] = useState({})\n\n  // Set data from props to state of component\n  useEffect(() => {\n    console.log(\"MAINFORM PROPS\", props.userTask, props.userProfile)\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList)\n        console.log(\"DOCL\", parsedData)\n        let s = parseInt(props.userTask.size)\n        let p = parseInt(props.userTask.page)\n        setSize(s)\n        setPage(p)\n        setFilteredDocList(parsedData)\n        setIsSearchForm(true)\n        setInitialDocList(parsedData)\n        let sortedDocList = parsedData.sort(dynamicSort(\"id\", -1, \"Int\"))\n        let newSortedDocList = []\n        if (props.userTask.taskType === \"showStockSecuritySearchForm\" || props.userTask.taskType === \"showStockCurrencySearchForm\") {\n          if (userProfile.userRole !== \"1\") {\n            for (let sd = 0; sd < sortedDocList.length; sd++) {\n              if (parseInt(userProfile.partner) === sortedDocList[sd].partner) {\n                newSortedDocList.push(sortedDocList[sd])\n              }\n            }\n            sortedDocList = newSortedDocList\n          }\n        }\n        else if (props.userTask.taskType === \"showSecuritiesEditForm\") {\n          setIsSearchForm(false)\n        }\n        if (props.userTask.selectedDoc !== \"null\" && props.userTask.taskType !== \"showSecuritiesEditForm\") {\n          let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc)\n          console.log(\"SHDOC\", parsedSelectedDoc)\n          filterDocList(0, s - 1, sortedDocList, parsedSelectedDoc)\n        }\n        else { fetchBySize(0, s - 1, sortedDocList) }\n      }\n      catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType)\n        setFilteredDocList([])\n        setIsSearchForm(true)\n        setInitialDocList([])\n        setDocList([])\n      }\n    }\n    else { setIsSearchForm(false) }\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc)\n      let fields = {}\n      // let Form = props.userTask.Form\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          let fieldName = Form.sections[s].contents[c].name\n          fields[fieldName] = parsedSelectedDoc[fieldName]\n        }\n      }\n      console.log(\"SDOC\", parsedSelectedDoc)\n      console.log(\"FIELDVAL\", fields)\n      setSelectedDoc(parsedSelectedDoc)\n      setFieldValue(fields)\n    }\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      let newEnumOptions = {}\n      for (let i = 0; i < props.userTask.enumData.length; i++) {\n        if (props.userTask.enumData[i] !== null) {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Пусто\",\n            \"name\": props.userTask.enumData[i].name\n          }]\n          for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n            options.push({\n              \"value\": props.userTask.enumData[i].data[d].id,\n              \"label\": props.userTask.enumData[i].data[d].label,\n              \"name\": props.userTask.enumData[i].name\n            })\n          }\n          newEnumOptions[props.userTask.enumData[i].name] = options\n        }\n        else {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Ошибка...\",\n            \"name\": getLostEnumName(i)\n          }]\n          newEnumOptions[getLostEnumName(i)] = options\n          props.callErrorToast(\"Ошибка сбора справочной информации \" + getLostEnumName(i))\n        }\n      }\n      setEnumOptions(newEnumOptions)\n    }\n    if (gridForm !== null) {\n      let newFields = {}\n      for (let s = 0; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n          newFields[gridForm.sections[s].contents[c].name] = gridForm.sections[s].contents[c].show\n        }\n      }\n      setGridFieldValue(newFields)\n    }\n    setUpdateState(getUUID())\n  }, [])\n  function getLostEnumName(i) {\n    let enumI = 0\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (Form.sections[s].contents[c].type === \"Enum\") {\n          if (enumI === i) {\n            return Form.sections[s].contents[c].name\n          }\n          else { enumI += 1 }\n        }\n      }\n    }\n  }\n  hotkeys('ctrl+b, enter', function (event, handler) {\n    if (handler.key === \"ctrl+b\") {\n      setAccordionExpanded(!accordionExpanded)\n    }\n  })\n  const handleCheckboxChange = (event) => {\n    console.log(\"CHBX\", event.target.name, event.target.checked)\n    if (event.target.name === \"is_resident\") {\n      console.log(\"IS_RES\")\n      if (taskType === \"showPartnersCreatingForm\" || taskType === \"showPartnersEditForm\"\n        || taskType === \"showIssuersCreatingForm\" || taskType === \"showIssuersEditForm\") {\n        // let newFields = fieldValue\n        fieldValue[\"country\"] = 1\n        fieldValue[\"is_resident\"] = event.target.checked\n\n        var updateSelectedOptions = selectedOptions.slice()\n        let noSuchOption = true\n        let countryOption = {\n          name: \"country\",\n          value: 1,\n          label: \"Кыргызская Республика\"\n        }\n        for (let l = 0; l < updateSelectedOptions.length; l++) {\n          if (updateSelectedOptions[l].name === \"country\") {\n            updateSelectedOptions[l] = countryOption\n            setSelectedOptions(updateSelectedOptions)\n            break\n          }\n          else {\n            noSuchOption = true\n          }\n        }\n        if (noSuchOption === true) {\n          updateSelectedOptions.push(countryOption)\n          setSelectedOptions(updateSelectedOptions)\n        }\n        if (taskType === \"showIssuersCreatingForm\" || taskType === \"showIssuersEditForm\") {\n          fieldValue[\"is_not_resident\"] = false\n        }\n        console.log(\"FVAL\", fieldValue)\n        setFieldValue(fieldValue)\n      }\n    }\n    if (event.target.name === \"is_not_resident\") {\n      console.log(\"NOT_RES\")\n      fieldValue[\"is_resident\"] = false\n      fieldValue[\"is_not_resident\"] = event.target.checked\n      fieldValue[\"country\"] = null\n      setFieldValue(fieldValue)\n      console.log(\"FVAL\", fieldValue)\n    }\n    else {\n      setFieldValue({ ...fieldValue, [event.target.name]: event.target.checked })\n    }\n    setUpdateState(getUUID())\n  }\n  const handleBoolCustomChange = (event) => {\n    console.log(\"BoolCustom\", fieldValue)\n    setFieldValue({ ...fieldValue, [event.target.name]: event.target.checked });\n  }\n  // Integer input handler\n  const handleIntChange = (event) => {\n    console.log(\"INT\", event.target.name, event.target.value)\n    let stringNum = event.target.value.toString().replace(/ /g, '')\n    let int = parseInt(stringNum)\n    setFieldValue({ ...fieldValue, [event.target.name]: int })\n  }\n  // Float input handler\n  const handleFloatChange = (event) => {\n    // console.log(\"FLOAT CHANGE\", event.target.name, event.target.value)\n    setFieldValue({ ...fieldValue, [event.target.name]: event.target.value })\n  }\n  // Text input handler\n  function handleTextChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value\n    setFieldValue(fieldValue)\n    console.log(\"FIELDVALUE\", fieldValue)\n  }\n  function handleSelectChange(option) {\n    fieldValue[option.name] = option.value\n    console.log(\"OPT\", option.name, option.value)\n    var updateSelectedOptions = selectedOptions.slice()\n    let noSuchOption = true\n    for (let i = 0; i < updateSelectedOptions.length; i++) {\n      if (option.name === updateSelectedOptions[i].name) {\n        updateSelectedOptions[i] = option\n        noSuchOption = false\n        setSelectedOptions(updateSelectedOptions)\n        break\n      }\n      else {\n        noSuchOption = true\n      }\n    }\n    if (noSuchOption === true) {\n      updateSelectedOptions.push(option)\n      setSelectedOptions(updateSelectedOptions)\n    }\n    // if (option.name === \"issuer\" && (taskType === \"showSecuritiesCreatingForm\" || taskType === \"showSecuritiesEditForm\")) {\n    //   // выбран Эмитент нужно найти ргистратора и отобразить\n    //   for (let j = 0; j < enumData.length; j++) {\n    //     if (enumData[j] !== null) {\n    //       if (enumData[j].name === \"issuer\") {\n    //         for (let h = 0; h < enumData[j].data.length; h++) {\n    //           if (enumData[j].data[h].id === option.value) {\n    //             // Find registrar of issuer\n    //             let registrarId = enumData[j].data[h].registrar\n\n    //             for (let e = 0; e < enumData.length; e++) {\n    //               if (enumData[e] !== null) {\n    //                 if (enumData[e].name === \"registrar\") {\n    //                   for (let r = 0; r < enumData[e].data.length; r++) {\n    //                     if (enumData[e].data[r].id === registrarId) {\n    //                       // Set registrar option \n\n    //                       fieldValue[\"registrar\"] = registrarId\n    //                       // console.log(\"ISSUER SEC\", fieldValue)\n    //                       let registrarOption = {\n    //                         value: enumData[e].data[r].id,\n    //                         name: \"registrar\",\n    //                         label: enumData[e].data[r].label\n    //                       }\n    //                       let noRegistrarOption = true\n    //                       for (let y = 0; y < updateSelectedOptions.length; y++) {\n    //                         if (updateSelectedOptions[y].name === \"registrar\") {\n    //                           updateSelectedOptions[y] = registrarOption\n    //                           noRegistrarOption = false\n    //                           setSelectedOptions(updateSelectedOptions)\n    //                           break\n    //                         }\n    //                         else {\n    //                           noRegistrarOption = true\n    //                         }\n    //                       }\n    //                       if (noRegistrarOption === true) {\n    //                         updateSelectedOptions.push(registrarOption)\n    //                         setSelectedOptions(updateSelectedOptions)\n    //                       }\n    //                     }\n    //                   }\n    //                 }\n    //               }\n    //             }\n    //           }\n    //         }\n    //       }\n    //     }\n\n    //   }\n    // }\n    if (option.name === \"payer_type\" && (taskType === \"showPaymentsForCDServicesCreatingForm\" ||\n      taskType === \"showPaymentsForCDServicesViewForm\" || taskType === \"showPaymentsForCDServicesSearchForm\")) {\n      // console.log(\"SEL\", option.name, option.value)\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          if (Form.sections[s].contents[c].name === \"depositor\") {\n            if (option.value === 1) { // block registrat and issuer\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"issuer\"] = null\n              fieldValue[\"registrar\"] = null\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"issuer\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"issuer\"\n                  }\n                }\n                if (updateSelectedOptions[i].name === \"registrar\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"registrar\"\n                  }\n                }\n                setSelectedOptions(updateSelectedOptions)\n              }\n            }\n            else {\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n          if (Form.sections[s].contents[c].name === \"issuer\") {\n            if (option.value === 2) { // block depositor and registrar\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"depositor\"] = null\n              fieldValue[\"registrar\"] = null\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"depositor\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"depositor\"\n                  }\n                }\n                if (updateSelectedOptions[i].name === \"registrar\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"registrar\"\n                  }\n                 \n                }\n                setSelectedOptions(updateSelectedOptions)\n              }\n            }\n            else {\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n          if (Form.sections[s].contents[c].name === \"registrar\") {\n            if (option.value === 3) { // block depositor and issuer\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"depositor\"] = null\n              fieldValue[\"issuer\"] = null\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"depositor\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"depositor\"\n                  }\n                  break\n                }\n                if (updateSelectedOptions[i].name === \"issuer\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"issuer\"\n                  }\n                }\n                setSelectedOptions(updateSelectedOptions)\n              }\n            }\n            else {\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n        }\n      }\n      setForm(Form)\n\n      \n    }\n    else if (option.name === \"recipient_type\" && (\n      taskType === \"showTransitChargeForCDServicesSearchForm\" ||\n      taskType === \"showTransitChargeForCDServicesCreatingForm\" ||\n      taskType === \"showTransitChargeForCDServicesEditForm\" ||\n      taskType === \"showTransitPaymentsForCDServicesSearchForm\" ||\n      taskType === \"showTransitPaymentsForCDServicesCreatingForm\" ||\n      taskType === \"showTransitPaymentsForCDServicesEditForm\")) {\n      // console.log(\"RECIPIENT\", option.name, option.value, fieldValue)\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          if (Form.sections[s].contents[c].name === \"registrar\") {\n            if (option.value === 1) {\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"corr_depository\"] = null\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"corr_depository\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"corr_depository\"\n                  }\n                  setSelectedOptions(updateSelectedOptions)\n                  break\n                }\n              }\n            }\n            else {\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n          if (Form.sections[s].contents[c].name === \"corr_depository\") {\n            if (option.value === 2) {\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"registrar\"] = null\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"registrar\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"registrar\"\n                  }\n                  setSelectedOptions(updateSelectedOptions)\n                  break\n                }\n              }\n            }\n            else {\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n        }\n      }\n      setForm(Form)\n      // console.log(\"NEW ENUMS\")\n    }\n    // show partner ID & depositor_code when depositor has been changed\n    else if (option.name === \"depositor\") {\n      if (taskType === \"showTradesEditForm\" || taskType === \"showTradesCreatingForm\") {\n        for (let e = 0; e < enumData.length; e++) {\n          if (enumData[e].name === \"depositor\") {\n            for (let d = 0; d < enumData[e].data.length; d++) {\n              if (enumData[e].data[d].id === option.value) {\n                setFieldValue({ ...fieldValue, [\"partner\"]: enumData[e].data[d].partner, [\"depositor_code\"]: enumData[e].data[d].partner })\n                break\n              }\n            }\n          }\n        }\n      }\n      // else if(taskType === \"\"){\n      //   for (let e = 0; e < enumData.length; e++) {\n      //     if (enumData[e].name === \"depositor\") {\n      //       for (let d = 0; d < enumData[e].data.length; d++) {\n      //         if (enumData[e].data[d].id === option.value) {\n      //           console.log(\"DEP CODE\", enumData[e].data[d].partner)\n      //           setFieldValue({ ...fieldValue, [\"depositor_code\"]: enumData[e].data[d].partner })\n      //           break\n      //         }\n      //       }\n      //     }\n      //   }\n      // }\n    }\n    console.log(\"F VAL\", fieldValue)\n    setFieldValue(fieldValue)\n  }\n  function handleDateTimeChange(event) {\n    // // console.log(\"EVENT\", event.target.name, event.target.value)\n    // let fullDate = props.parseDate(event.target.value)\n    // var hours = new Date().getHours()\n    // var minutes = new Date().getMinutes()\n    // var seconds = new Date().getSeconds()\n    // var convertedDate = fullDate + \" \" + hours + \":\" + minutes + \":\" + seconds // + \".123456\"\n    // fieldValue[event.target.name] = convertedDate\n    let fullDateTime = moment(event.target.value).format('YYYY-MM-DDTHH:mm:ss')\n    fieldValue[event.target.name] = fullDateTime\n    setFieldValue(fieldValue)\n    // console.log(\"DATE CHANGE\", event.target.value)\n  }\n  function handleExpandAccordion() {\n    setAccordionExpanded(!accordionExpanded)\n  }\n\n  function getContentType(key) {\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (key === Form.sections[s].contents[c].name) {\n          return Form.sections[s].contents[c].type\n        }\n      }\n    }\n  }\n  // filter docList by filled parameters\n  function filterDocList(fetchFrom, fetchTo, Data, fields) {\n    console.log(\"FILTER\", fields)\n    var newDocList = []\n    if (Object.keys(fields).length === 0) {\n      newDocList = Data\n    }\n    else {\n      for (let i = 0; i < Data.length; i++) {\n        let match = false\n        for (let key in fields) {\n          if (fields[key] === null || fields[key] === \"\" || fields[key] === undefined) {\n            match = true\n          }\n          else {\n            if (Data[i][key] !== null) {\n              let contentType = getContentType(key)\n              if (contentType === \"Text\") {\n                try {\n                  let searchField = fields[key].toLowerCase()\n                  let dataField = Data[i][key].toLowerCase()\n                  let includeSearch = dataField.includes(searchField)\n                  if (includeSearch === true) {\n                    match = true\n                  }\n                  else {\n                    match = false\n                    break\n                  }\n                }\n                catch (er) {\n                  console.log(\"ERR TEXT SEARCH\", er, Data[i][key])\n                  match = true\n                }\n              }\n              else if (contentType === \"Int\" || contentType === \"Float\") {\n                if (fields[key] >= 0 || fields[key] < 0) {\n                  let searchField = fields[key].toString()\n                  let dataField = Data[i][key].toString()\n                  let includeSearch = dataField.includes(searchField)\n                  if (includeSearch === true) {\n                    match = true\n                  }\n                  else {\n                    match = false\n                    break\n                  }\n                }\n                else { match = true }\n              }\n              else if (contentType === \"Enum\") {\n\n                if (fields[key] === Data[i][key]) {\n                  // console.log(\"ENUMS\", key, fields[key], Data[i][key])\n                  match = true\n                }\n                else {\n                  match = false\n                  break\n                }\n              }\n              else if (contentType === \"DateTime\") {\n                let searchField = props.parseDate(fields[key])\n                let dataField = props.parseDate(Data[i][key])\n                // console.log(\"DATES\", searchField, dataField, searchField.includes(dataField))\n                if (searchField === \"NaN-NaN-NaN\" || searchField === \"Invalid date\") {\n                  match = true\n                }\n                else {\n                  if (searchField.includes(dataField) === true) {\n                    match = true\n                  }\n                  else {\n                    match = false\n                    break\n                  }\n                }\n              }\n              else if (contentType === \"Bool\") {\n                if (fields[key] === Data[i][key]) {\n                  match = true\n                }\n                else {\n                  match = false\n                  break\n                }\n              }\n            }\n            else {\n              match = false\n              break\n            }\n          }\n        }\n        if (match === true) {\n          newDocList.push(Data[i])\n        }\n      }\n    }\n    setFilteredDocList(newDocList)\n    fetchBySize(fetchFrom, fetchTo, newDocList)\n  }\n  // get rows amount of filtered docList by size\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    // console.log(\"fetchFrom\", \"fetchTo\")\n    let newDocList = []\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i])\n      }\n    }\n    setFilteredDocList(Data)\n    setDocList(newDocList)\n  }\n  // Pagination functions\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1)\n      fetchBySize(0, size - 1, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowLastClick() {\n    if (page !== getPageAmount()) {\n      setPage(getPageAmount())\n      fetchBySize((getPageAmount() - 1) * size, filteredDocList.length, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на последней странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1\n      setPage(prevPage)\n      let fetchFrom = ((prevPage - 1) * size) //10\n      let fetchTo = (size * prevPage) - 1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\")\n      setShowSnackBar(true)\n    }\n    else {\n      setPage(page + 1)\n      let fetchFrom = (size * page)\n      let fetchTo = ((page + 1) * size) - 1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n\n  }\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value)\n    setPage(1)\n    fetchBySize(0, event.target.value - 1, filteredDocList)\n  }\n  function GoToPage() {\n    let fetchFrom = (page * size - 1) - size\n    let fetchTo = page * size - 1\n    fetchBySize(fetchFrom, fetchTo, filteredDocList)\n  }\n  function handlePageChange(event) {\n    setPage(event.target.value)\n  }\n  function handleCloseSnackBar() {\n    setShowSnackBar(false)\n  }\n  function getPageAmount() {\n    let pagesFloat = (filteredDocList.length) / size\n    let mathRoundOfPages = Math.floor(pagesFloat)\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1\n    }\n    else {\n      return mathRoundOfPages\n    }\n  }\n  // random UUID generator\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\")\n    return uuidv1()\n  }\n  function swAllert(text, icon) {\n    return (\n      swal({\n        text: text,\n        icon: icon,\n        buttons: { ok: \"Ок\" },\n      })\n    )\n  }\n  // Collect data to save doc\n  function getFieldValuesSaveDocument() {\n    let docToSave = {}\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name\n        if (Form.sections[s].contents[c].type === \"Bool\" && fieldValue[fieldName] === undefined) {\n          docToSave[fieldName] = false\n        }\n        else if (Form.sections[s].contents[c].type === \"BoolCustom\") {\n          if (fieldValue[fieldName] === true || fieldValue[fieldName] === Form.sections[s].contents[c].valueTrue) {\n            docToSave[fieldName] = Form.sections[s].contents[c].valueTrue\n          }\n          else {\n            docToSave[fieldName] = Form.sections[s].contents[c].valueFalse\n          }\n        }\n        else {\n          docToSave[fieldName] = fieldValue[fieldName]\n        }\n      }\n    }\n    return docToSave\n  }\n  // Collect data to update doc\n  function getFieldValuesUpdateDocument() {\n    let docToUpdate = selectedDoc\n    // docToUpdate[\"created_at\"] = selectedDoc.created_at\n    // docToUpdate[\"id\"] = parseInt(docId)\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name\n        if (Form.sections[s].contents[c].type === \"Bool\" && (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null)) {\n          docToUpdate[fieldName] = false\n        }\n        else if (Form.sections[s].contents[c].type === \"BoolCustom\") {\n          // console.log(\"BOOLCUST\", fieldName, fieldValue[fieldName])\n          if (fieldValue[fieldName] === true || fieldValue[fieldName] === Form.sections[s].contents[c].valueTrue) {\n            docToUpdate[fieldName] = Form.sections[s].contents[c].valueTrue\n          }\n          else {\n            docToUpdate[fieldName] = Form.sections[s].contents[c].valueFalse\n          }\n        }\n        else {\n          docToUpdate[fieldName] = fieldValue[fieldName]\n        }\n      }\n    }\n    return docToUpdate\n  }\n  function checkForRequieredFields() {\n    let checkedSuccessfuly = null\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name\n        if (Form.sections[s].contents[c].required === true) {\n          if (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null ||\n            fieldValue[fieldName] === \"NaN.NaN.NaN\" || fieldValue[fieldName] === \"\") {\n            checkedSuccessfuly = false\n            swAllert(\"Внимание заполните поле \\\"\" + Form.sections[s].contents[c].label + \"\\\"\", \"warning\")\n            return checkedSuccessfuly\n          }\n          else {\n            checkedSuccessfuly = true\n          }\n        }\n        else {\n          checkedSuccessfuly = true\n        }\n      }\n    }\n    return checkedSuccessfuly\n  }\n  function buttonClick(buttonName, item) {\n    if (buttonName === \"findDocument\") {\n      if (accordionExpanded === false) {\n        setAccordionExpanded(true)\n      }\n      else {\n        filterDocList(0, size - 1, initialDocList, fieldValue)\n      }\n    }\n    else if (buttonName === \"openDocument\") {\n      // console.log(\"ITEM\", item)\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          selectedDoc: { value: JSON.stringify(item) },\n          userAction: { value: \"openDocument\" },\n          docId: { value: item.id },\n          searchDoc: { value: JSON.stringify(fieldValue) }\n        }\n      }\n      console.log(\"button openDocument: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"openStockDocument\") {\n      // console.log(\"ITEM\", item)\n      item.account = item.account_id\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          selectedDoc: { value: JSON.stringify(item) },\n          userAction: { value: \"openDocument\" },\n          docId: { value: item.id },\n          searchDoc: { value: JSON.stringify(fieldValue) }\n        }\n      }\n      console.log(\"button openStockDocument: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n\n    else if (buttonName === \"editDocument\") {\n      // console.log(\"ITEM\", item)\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"editDocument\" }\n        }\n      }\n      console.log(\"button editDocument: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"openReferenceDocument\") {\n      // console.log(\"ITEM\", item)\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          apiName: { value: item.controller },\n          userAction: { value: \"openReferenceDocument\" },\n          searchFormDefId: { value: item.search_form },\n          gridFormDefId: { value: item.grid_form },\n          creatingFormDefId: { value: item.creating_form },\n          editFormDefId: { value: item.edit_form },\n          searchDocMain: { value: JSON.stringify(fieldValue) }\n        }\n      }\n      console.log(\"button openReferenceDocument: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"updateDocument\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"updateDocument\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      console.log(\"updateDocument:\", commandJson)\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"createDocument\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"createDocument\" },\n          searchDoc: { value: JSON.stringify(fieldValue) }\n        }\n      }\n      console.log(\"createDocument:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"saveDocument\") {\n      let docToSave = getFieldValuesSaveDocument()\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"saveDocument\" },\n          document: { value: JSON.stringify(docToSave) }\n        }\n      }\n      console.log(\"saveDocument:\", commandJson)\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"saveSecurity\") {\n      let checkForCode = null\n      let docToSave = getFieldValuesSaveDocument()\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === \"securities\") {\n          for (let d = 0; d < enumData[i].data.length; d++) {\n            if (enumData[i].data[d].code === fieldValue[\"code\"]) {\n              checkForCode = false\n              swAllert(\"ЦБ с таким кодом уже существует\", \"warning\")\n              break\n            }\n            if (d === enumData[i].data.length - 1 && enumData[i].data[d].isin !== fieldValue[\"code\"]) {\n              checkForCode = true\n            }\n          }\n        }\n      }\n      let checkResult = checkForRequieredFields()\n      console.log(\"CODE\", checkForCode)\n      if (checkForCode !== null && checkForCode !== false) {\n        let commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: { value: \"saveDocument\" },\n            document: { value: JSON.stringify(docToSave) }\n          }\n        }\n        console.log(\"saveSecurity:\", commandJson)\n        if (checkResult === true) {\n          props.sendFieldValues(commandJson)\n          props.clearTabData(process_id)\n        }\n      }\n    }\n    else if (buttonName === \"blockSecurity\") {\n      if (selectedDoc.blocked !== true) {\n        let commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: { value: \"blockSecurity\" },\n            security_id: { value: selectedDoc.id }\n          }\n        }\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно Заблокировать выпуск ЦБ?\",\n          icon: \"warning\",\n          buttons: { yes: \"Да\", cancel: \"Отмена\" },\n        })\n          .then((click) => {\n            if (click === \"yes\") {\n              console.log(\"blockSecurity:\", commandJson)\n              props.sendFieldValues(commandJson)\n              props.clearTabData(process_id)\n            }\n          })\n      }\n      else {\n        swAllert(\"ЦБ уже заблокирована!\", \"warning\")\n      }\n    }\n    else if (buttonName === \"unblockSecurity\") {\n      if (selectedDoc.blocked === true) {\n        let commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: { value: \"unblockSecurity\" },\n            security_id: { value: selectedDoc.id }\n          }\n        }\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно разблокировать выпуск ЦБ?\",\n          icon: \"warning\",\n          buttons: { yes: \"Да\", cancel: \"Отмена\" },\n        })\n          .then((click) => {\n            if (click === \"yes\") {\n              console.log(\"unblockSecurity:\", commandJson)\n              props.sendFieldValues(commandJson)\n              props.clearTabData(process_id)\n            }\n          })\n      }\n      else {\n        swAllert(\"ЦБ не была блокирована ранее!\", \"warning\")\n      }\n    }\n    else if (buttonName === \"blockIssuerSecurities\") {\n      if (selectedDoc.blocked !== true) {\n        let commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: { value: \"blockIssuerSecurities\" },\n            issuer_id: { value: selectedDoc.id }\n          }\n        }\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно Заблокировать ЦБ эмитента?\",\n          icon: \"warning\",\n          buttons: { yes: \"Да\", cancel: \"Отмена\" },\n        })\n          .then((click) => {\n            if (click === \"yes\") {\n              console.log(\"blockIssuerSecurities:\", commandJson)\n              props.sendFieldValues(commandJson)\n              props.clearTabData(process_id)\n            }\n          })\n      }\n      else {\n        swAllert(\"ЦБ эмитента уже заблокированы!\", \"warning\")\n      }\n    }\n    else if (buttonName === \"unblockIssuerSecurities\") {\n      if (selectedDoc.blocked === true) {\n        let commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: { value: \"unblockIssuerSecurities\" },\n            issuer_id: { value: selectedDoc.id }\n          }\n        }\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно Разблокировать ЦБ эмитента?\",\n          icon: \"warning\",\n          buttons: { yes: \"Да\", cancel: \"Отмена\" },\n        })\n          .then((click) => {\n            if (click === \"yes\") {\n              console.log(\"unblockIssuerSecurities:\", commandJson)\n              props.sendFieldValues(commandJson)\n              props.clearTabData(process_id)\n            }\n          })\n      }\n      else {\n        swAllert(\"ЦБ эмитента не были блокированы ранее!\", \"warning\")\n      }\n    }\n    else if (buttonName === \"deleteDocument\") {\n      let docToDelete = selectedDoc.id\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"deleteDocument\" },\n          document: { value: docToDelete.toString() }\n        }\n      }\n      console.log(\"deleteDocument:\", commandJson)\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно удалить данную запись?\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n          }\n        })\n    }\n    else if (buttonName === \"savePartnerContact\") {\n      let docToSave = getFieldValuesSaveDocument()\n      docToSave[\"partner\"] = docId\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"saveDocument\" },\n          document: { value: JSON.stringify(docToSave) }\n        }\n      }\n      console.log(\"saveDocument:\", commandJson)\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"saveAccount\") {\n      const createDocument = getFieldValuesSaveDocument()\n      if (fieldValue[\"account_type\"] === 3001 || fieldValue[\"account_type\"] === 3101 || fieldValue[\"account_type\"] === 3301) {\n        createDocument[\"accnumber\"] = \"1-\" + fieldValue[\"account_type\"] + \"-\" + fieldValue[\"partner\"]\n      }\n      else {\n        for (let i = 0; i < enumData.length; i++) {\n          if (enumData[i].name === \"account_type\") {\n            for (let d = 0; d < enumData[i].data.length; d++) {\n              if (enumData[i].data[d].id === fieldValue[\"account_type\"]) {\n                createDocument[\"accnumber\"] = enumData[i].data[d].status + \"-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n              }\n            }\n          }\n        }\n      }\n      // for(let i=0; i<enumData.length; i++){\n      //   if(enumData[i].name === \"account_type\"){\n      //     for(let d=0; d<enumData[i].data.length; d++){\n      //       if(enumData[i].data[d].id === fieldValue[\"account_type\"]){\n      //         if(fieldValue[\"istrading_account\"] === true){\n      //           createDocument[\"accnumber\"] = \"1-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n      //         }\n      //         else{\n      //           createDocument[\"accnumber\"] = enumData[i].data[d].status + \"-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n      //         }\n      //         // createDocument[\"account_type\"] = enumData[i].data[d].code\n      //       }\n      //     }\n      //   }\n      // }\n      createDocument[\"isactive\"] = true\n      createDocument[\"isclosed\"] = false\n      createDocument[\"dateopen\"] = props.getCurrentFullDateTime()\n\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"saveAccount\" },\n          document: { value: JSON.stringify(createDocument) },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole }\n        }\n      }\n      console.log(\"button saveAccount: \", commandJson)\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"updateAccount\") {\n      const updateDocument = getFieldValuesUpdateDocument()\n      if (fieldValue[\"account_type\"] === 3001 || fieldValue[\"account_type\"] === 3101 || fieldValue[\"account_type\"] === 3301) {\n        updateDocument[\"accnumber\"] = \"1-\" + fieldValue[\"account_type\"] + \"-\" + fieldValue[\"partner\"]\n      }\n      else {\n        for (let i = 0; i < enumData.length; i++) {\n          if (enumData[i].name === \"account_type\") {\n            for (let d = 0; d < enumData[i].data.length; d++) {\n              if (enumData[i].data[d].id === fieldValue[\"account_type\"]) {\n                updateDocument[\"accnumber\"] = enumData[i].data[d].status + \"-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n              }\n            }\n          }\n        }\n      }\n      // for(let i=0; i<enumData.length; i++){\n      //   if(enumData[i].name === \"account_type\"){\n      //     for(let d=0; d<enumData[i].data.length; d++){\n      //       if(enumData[i].data[d].id === fieldValue[\"account_type\"]){\n      //         if(fieldValue[\"istrading_account\"] === true){\n      //           updateDocument[\"accnumber\"] = \"1-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n      //         }\n      //         else{\n      //           updateDocument[\"accnumber\"] = enumData[i].data[d].status + \"-\" + enumData[i].data[d].code + \"-\" + fieldValue[\"partner\"]\n      //         }\n      //       }\n      //     }\n      //   }\n      // }\n\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"updateAccount\" },\n          document: { value: JSON.stringify(updateDocument) },\n          selectedDoc: { value: JSON.stringify(updateDocument) },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole }\n        }\n      }\n      console.log(\"button updateAccount: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"saveAccountGIK\") {\n      const createDocument = getFieldValuesSaveDocument()\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === \"acc_type\") {\n          for (let d = 0; d < enumData[i].data.length; d++) {\n            if (enumData[i].data[d].id === fieldValue[\"acc_type\"]) {\n              createDocument[\"acc_number\"] = enumData[i].data[d].label + \"-\" + fieldValue[\"depositor\"]\n            }\n          }\n        }\n      }\n      createDocument[\"is_active\"] = true\n      createDocument[\"is_closed\"] = false\n      createDocument[\"open_date\"] = props.getCurrentFullDateTime()\n\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"saveAccountGIK\" },\n          document: { value: JSON.stringify(createDocument) },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole }\n        }\n      }\n      console.log(\"button saveInstruction: \", commandJson)\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"blockAccount\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody[\"isactive\"] = false\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"blockAccount\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      console.log(\"blockAccount:\", commandJson)\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите заблокировать данный счет?\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n            // swAllert(\"Данные успешно обновлены!\", \"success\")\n          }\n        })\n\n    }\n    else if (buttonName === \"blockAccountGIK\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody[\"is_active\"] = false\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"blockAccountGIK\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      console.log(\"blockAccountGIK:\", commandJson)\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите заблокировать данный счет?\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n            // swAllert(\"Данные успешно обновлены!\", \"success\")\n          }\n        })\n\n    }\n    else if (buttonName === \"unblockAccount\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody[\"isactive\"] = true\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"unblockAccount\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      console.log(\"unblockAccount:\", commandJson)\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите разблокировать данный счет?\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n          }\n        })\n    }\n    else if (buttonName === \"unblockAccountGIK\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody[\"is_active\"] = true\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"unblockAccountGIK\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      console.log(\"unblockAccountGIK:\", commandJson)\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите разблокировать данный счет?\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n            // swAllert(\"Данные успешно обновлены!\", \"success\")\n          }\n        })\n\n    }\n    else if (buttonName === \"closeAccount\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody[\"isclosed\"] = null\n      // updateBody[\"isactive\"] = false\n      updateBody[\"deleted\"] = true\n      updateBody[\"dateclosed\"] = props.getCurrentFullDateTime()\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"closeAccount\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      console.log(\"closeAccount:\", commandJson)\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите ЗАКРЫТЬ данный счет? Данную операцию невозможно отменить\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n            // swAllert(\"Данные успешно обновлены!\", \"success\")\n          }\n        })\n\n    }\n    else if (buttonName === \"closeAccountGIK\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody[\"is_closed\"] = true\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"closeAccountGIK\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      console.log(\"closeAccountGIK:\", commandJson)\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно хотите ЗАКРЫТЬ данный счет? Данную операцию невозможно отменить\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n            // swAllert(\"Данные успешно обновлены!\", \"success\")\n          }\n        })\n\n    }\n    else if (buttonName === \"contacs\") {\n      // console.log(\"ITEM\", item)\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"contacs\" },\n          partnerId: { value: docId }\n        }\n      }\n      console.log(\"button contacs: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"setAccountManager\") {\n      console.log(\"ITEM\", item)\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"setAccountManager\" },\n          manager_id: { value: selectedDoc.acc_manager }\n        }\n      }\n      console.log(\"button setAccountManager: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"saveAccountManager\") {\n      let doc = null\n      let userAct = \"updateAccountManager\"\n      if (selectedDoc === null) {\n        userAct = \"createAccountManager\"\n        doc = getFieldValuesSaveDocument()\n      }\n      else {\n        doc = getFieldValuesUpdateDocument()\n      }\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: userAct },\n          document: { value: JSON.stringify(doc) }\n        }\n      }\n      console.log(\"button createUpdateACCManager: \", commandJson)\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"deleteAccountManager\") {\n      if (selectedDoc !== null) {\n        let commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: { value: \"deleteAccountManager\" },\n            docIdToDelete: { value: selectedDoc.id.toString() }\n          }\n        }\n        console.log(\"deleteAccountManager:\", commandJson)\n        swal({\n          text: \"ВНИМАНИЕ! Вы действительно хотите снять управляющего?\",\n          icon: \"warning\",\n          buttons: { yes: \"Да\", cancel: \"Отмена\" },\n        })\n          .then((click) => {\n            if (click === \"yes\") {\n              props.sendFieldValues(commandJson)\n              props.clearTabData(process_id)\n              // swAllert(\"Данные успешно обновлены!\", \"success\")\n            }\n          })\n      }\n    }\n    else if (buttonName === \"showInstructionTypeCreatingForm\") {\n      let instructionTypeDoc = getFieldValuesSaveDocument()\n      instructionTypeDoc.create_form = \"\"\n      instructionTypeDoc.edit_form = \"\"\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"showInstructionTypeCreatingForm\" },\n          instructionTypeDoc: { value: JSON.stringify(instructionTypeDoc) },\n          newInstructionLabel: { value: fieldValue[\"name\"] }\n        }\n      }\n      console.log(\"showInstructionTypeCreatingForm:\", commandJson)\n      props.sendFieldValues(commandJson)\n    }\n    else if (buttonName === \"updatePartnerContacts\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody[\"partner\"] = selectedDoc.partner\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"updateDocument\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      console.log(\"updateDocument:\", commandJson)\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"getFiles\") {\n      if (fieldValue[\"date\"] !== undefined && fieldValue[\"date\"] !== \"NaN.NaN.NaN\") {\n        let newDate = new Date(fieldValue[\"date\"]) // \"2020-01-26\"\n        let dd = String(newDate.getDate()).padStart(2, '0')\n        let mm = String(newDate.getMonth() + 1).padStart(2, '0') //January is 0!\n        let yyyy = newDate.getFullYear()\n        let fileDir = dd + mm + yyyy\n        let commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: { value: \"getFiles\" },\n            selectedDoc: { value: fileDir }\n          }\n        }\n        console.log(\"getFiles:\", commandJson)\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n      else { swAllert(\"Введите дату\", \"warning\") }\n    }\n    else if (buttonName === \"updateInstructionType\") {\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody[\"create_form\"] = selectedDoc.create_form\n      updateBody[\"edit_form\"] = selectedDoc.edit_form\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"updateDocument\" },\n          document: { value: JSON.stringify(updateBody) }\n        }\n      }\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        console.log(\"updateInstructionType:\", updateBody)\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n\n    }\n    else if (buttonName === \"history\") {\n      if (selectedDoc !== null) {\n        let commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          variables: {\n            userAction: { value: \"history\" },\n            docId: { value: selectedDoc.id }\n          }\n        }\n        console.log(\"history:\", commandJson)\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"showSystemChargeReportSelecting\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"showSystemChargeReportSelecting\" },\n          searchDoc: { value: JSON.stringify(fieldValue) }\n        }\n      }\n      console.log(\"button setAccountManager: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"saveDepositor\") {\n      let doc = getFieldValuesSaveDocument()\n      let tradesBody = {\n        depositor: 0,\n        trading_systems: 1,\n        depositor_code: doc.partner\n      }\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"saveDepositor\" },\n          document: { value: JSON.stringify(doc) },\n          createInTrades: { value: false },\n          tradesBody: { value: JSON.stringify(tradesBody) }\n        }\n      }\n      swal({\n        text: \"Добавить депонента в торги??\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Нет\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            commandJson.variables.createInTrades.value = true\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n            console.log(\"button saveDepositor:\", commandJson)\n          }\n          else {\n            console.log(\"button saveDepositor: \", commandJson)\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n          }\n        })\n    }\n    else if (buttonName === \"selectLocation\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"selectLocation\" },\n          location: { value: fieldValue.location }\n        }\n      }\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n      console.log(\"button selectLocation:\", commandJson)\n    }\n    else if (buttonName === \"createPayment\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"createPayment\" },\n          selectedDoc: { value: JSON.stringify({ security: selectedDoc.id }) }\n          // docListPayments: { value: props.userTask.docList }\n        }\n      }\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n      console.log(\"button createPayment:\", commandJson)\n    }\n    else if (buttonName === \"viewPayment\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"viewPayment\" },\n          selectedDoc: { value: JSON.stringify(item) }\n        }\n      }\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n      console.log(\"button viewPayment:\", commandJson)\n    }\n\n\n\n    else if (buttonName === \"back\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        // session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"back\" },\n        }\n      }\n      console.log(\"button back:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"cancel\") {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        userRole: userProfile.userRole,\n        variables: {\n          authorization: { value: \"token\" },\n          userAction: { value: \"cancel\" },\n        }\n      }\n      console.log(\"button cancel: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"updateDocList\") {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"updateDocList\" },\n          searchDoc: { value: JSON.stringify(fieldValue) }\n        }\n      }\n      console.log(\"button updateDocList: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else {\n      console.log(\"UNKNOWN Button \", buttonName)\n    }\n  }\n  // Create sections with labels and call bodyBuilder function\n  function sectionBuilder(section) {\n    return (\n      <Table size=\"small\">\n        <TableHead>\n          <TableRow style={{ height: 30 }}>\n            <TableCell\n              style={{\n                color: \"black\",\n                fontSize: 14,\n                backgroundColor: sectionColor,\n                width: \"100%\"\n              }}>\n              {section.label}\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        {bodyBuilder(section)}\n      </Table>\n    )\n  }\n  // Create body of each section and call contentBuilder function\n  function bodyBuilder(section) {\n\n    return (\n      <Table size=\"small\">\n        <TableBody>\n          {section.contents.map(contentItem => (\n            contentItem.show === true &&\n            <TableRow style={{ height: 30 }}>\n              <TableCell\n                align=\"left\"\n                style={{ width: \"40%\" }}>\n                {contentItem.label}\n              </TableCell>\n              <TableCell\n                align=\"left\"\n                style={{ width: \"60%\", height: 30 }}\n              >{contentBuilder(contentItem)}\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    )\n  }\n  // Creating components by it's type\n  function contentBuilder(contentItem) {\n    if (contentItem.type === \"Text\") {\n      return (\n        <TextField\n          onKeyPress={onKeyPressText}\n          multiline={!isSearchForm}\n          onBlur={handleTextChange}\n          name={contentItem.name}\n          style={{ width: \"100%\" }}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          defaultValue={(fieldValue[contentItem.name]) ? fieldValue[contentItem.name] : \"\"}\n        />\n      )\n    }\n    else if (contentItem.type === \"Enum\") {\n      let selectedOption = {\n        \"value\": \"\",\n        \"label\": \"Пусто\",\n        \"name\": contentItem.name\n      }\n      if (fieldValue[contentItem.name] !== undefined) {\n        for (let i = 0; i < enumOptions[contentItem.name].length; i++) {\n          if (parseInt(fieldValue[contentItem.name]) === enumOptions[contentItem.name][i].value) {\n            selectedOption = enumOptions[contentItem.name][i]\n            break\n          }\n        }\n      }\n      if (selectedOptions.length !== 0) {\n        for (let i = 0; i < selectedOptions.length; i++) {\n          if (contentItem.name === selectedOptions[i].name) {\n            selectedOption = selectedOptions[i]\n          }\n        }\n      }\n      return (\n        <Select\n          name={contentItem.name}\n          value={selectedOption}\n          onChange={handleSelectChange}\n          options={enumOptions[contentItem.name]}\n          isDisabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          menuPortalTarget={document.body}\n          styles={{ menuPortal: base => ({ ...base, zIndex: 9999 }) }}\n        />\n      )\n    }\n    else if (contentItem.type === \"Bool\") {\n      return (\n        <Checkbox\n          style={{ maxWidth: 20, height: 15, color: (formType === \"view\" || contentItem.edit === false) ? \"grey\" : \"green\" }}\n          name={contentItem.name}\n          onChange={handleCheckboxChange}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          checked={(fieldValue[contentItem.name] === false || fieldValue[contentItem.name] === null || fieldValue[contentItem.name] === undefined) ? false : true}\n        />\n      )\n    }\n    else if (contentItem.type === \"BoolCustom\") {\n      return (\n        <Checkbox\n          style={{ maxWidth: 20, height: 15, color: (formType === \"view\" || contentItem.edit === false) ? \"grey\" : \"green\" }}\n          name={contentItem.name}\n          onChange={handleBoolCustomChange}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          checked={(fieldValue[contentItem.name] === false || fieldValue[contentItem.name] === null || fieldValue[contentItem.name] === undefined || fieldValue[contentItem.name] === contentItem.valueFalse) ? false : true}\n        />\n      )\n    }\n    else if (contentItem.type === \"Int\") {\n      // console.log(\"FVAL\", fieldValue)\n      return (\n        <TextField\n          name={contentItem.name}\n          onKeyPress={onKeyPressInt}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          style={{ width: \"100%\" }}\n          // defaultValue={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n          // onBlur={handleIntChange}\n          value={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n          onChange={handleIntChange}\n          InputProps={{ inputComponent: IntegerFormat }}\n        />\n      )\n    }\n    else if (contentItem.type === \"Float\") {\n      // console.log(\"FLOAT VAL\", fieldValue[contentItem.name])\n      return (\n        <TextField\n          onKeyPress={onKeyPressFloat}\n          name={contentItem.name}\n          // defaultValue = {(fieldValue[contentItem.name]) ? fieldValue[contentItem.name]: \"\"}\n          // onBlur={handleFloatChange}\n          // value={fieldValue[contentItem.name]}\n          value={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n          onChange={handleFloatChange}\n          style={{ width: \"100%\" }}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputProps={{ inputComponent: FloatFormat }}\n        />\n      )\n    }\n    else if (contentItem.type === \"DateTime\") {\n      return (\n        <TextField\n          onKeyPress={onKeyPressDateTime}\n          type=\"date\"\n          name={contentItem.name}\n          onBlur={handleDateTimeChange}\n          style={{ width: \"100%\" }}\n          defaultValue={(fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null) ? props.parseDate(fieldValue[contentItem.name]) : \"\"}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputLabelProps={{\n            shrink: true,\n          }}\n        />\n      )\n    }\n  }\n  // Key press handlers for some fields\n  function onKeyPressText(event) {\n    let code = event.charCode\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleTextChange(event)\n          buttonClick(\"findDocument\", null)\n        }\n      }\n    }\n  }\n  function onKeyPressDateTime(event) {\n    let code = event.charCode\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleDateTimeChange(event)\n          buttonClick(\"findDocument\", null)\n        }\n      }\n    }\n  }\n  function onKeyPressInt(event) {\n    let code = event.charCode\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          let stringNum = event.target.value.toString().replace(/ /g, '')\n          let int = parseInt(stringNum)\n          fieldValue[event.target.name] = int\n          setFieldValue(fieldValue)\n          filterDocList(0, size - 1, initialDocList, fieldValue)\n        }\n      }\n    }\n  }\n  function onKeyPressFloat(event) {\n    let code = event.charCode\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          let stringNum = event.target.value.toString().replace(/ /g, '')\n          let float = parseFloat(stringNum)\n          fieldValue[event.target.name] = float\n          setFieldValue(fieldValue)\n          filterDocList(0, size - 1, initialDocList, fieldValue)\n        }\n      }\n    }\n  }\n  // Create grid form components\n  function getGridFormItems(dataItem, contentItem) {\n    let value = dataItem[contentItem.name]\n    let name = contentItem.name\n    let type = contentItem.type\n    if (type === \"Enum\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        for (let i = 0; i < gridFormEnumData.length; i++) {\n          if (gridFormEnumData[i] !== null) {\n            if (name === gridFormEnumData[i].name) {\n              for (let l = 0; l < gridFormEnumData[i].data.length; l++) {\n                if (gridFormEnumData[i].data[l].id === parseInt(value)) {\n                  return gridFormEnumData[i].data[l].label\n                }\n                if (l === gridFormEnumData[i].data.length - 1 && gridFormEnumData[i].data[l].id !== parseInt(value)) {\n                  return value + \" not found\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    else if (type === \"Bool\") {\n      // console.log(\"ITEM\", name, value, type)\n      return (\n        <Checkbox\n          style={{ maxWidth: 20, height: 15, color: value === false ? \"red\" : \"green\" }}\n          checked={(value === false || value === null || value === undefined) ? false : true}\n        />\n      )\n    }\n    else if (type === \"BoolCustom\") {\n      // console.log(\"ITEM\", name, value, type)\n      return (\n        <Checkbox\n          style={{ maxWidth: 20, height: 15, color: \"green\" }}\n          checked={(value === contentItem.valueTrue) ? true : false}\n        />\n      )\n    }\n    else if (type === \"DateTime\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        // console.log(\"ITEM\", dataItem, value)\n        let Date = value.substring(0, 10)\n        let Time = value.substring(11, 16)\n        return Date + \" \" + Time\n      }\n    }\n    else if (type === \"Text\") {\n      // console.log(\"ITEM\", name, value, type)\n      if (name === \"instructionStatus\") {\n        let status = \"-\"\n        if (dataItem[\"filled\"] === true) {\n          status = \"Введено\"\n        }\n        if (dataItem[\"onExecution\"] === true) {\n          status = \"Введено -> На исполнении\"\n        }\n        if (dataItem[\"executed\"] === true) {\n          status = \"На исполнении -> Исполнено\"\n        }\n        if (dataItem[\"canceled\"] === true) {\n          status = \"На исполнении -> Отменено\"\n        }\n        return status\n      }\n      else {\n        if (value === null || value === \"\" || value === undefined) {\n          return \"-\"\n        }\n        else {\n          return (<td>{value}</td>)\n        }\n      }\n    }\n    else if (type === \"Float\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        let newCur = props.currencyBeautifier(value)\n        return newCur\n      }\n    }\n    else if (type === \"Int\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        let newInt = props.intBeautifier(value)\n        return newInt\n      }\n    }\n    else {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        return (<td>{value}</td>)\n      }\n    }\n  }\n  function checkToShowSection(section) {\n    let showSection = false\n    for (let i = 0; i < section.contents.length; i++) {\n      if (section.contents[i].show === true) {\n        showSection = true\n        break\n      }\n    }\n    return showSection\n  }\n  function checkSectionOnLastChild(i) {\n    let lastSection = true\n    if (i === gridForm.sections.length - 1) { // The last section\n      return true\n    }\n    else {\n      let nextS = i + 1\n      // console.log(\"IT\", i, gridForm.sections[nextS])\n      for (let s = nextS; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) { // Check next section\n          if (gridForm.sections[s].contents[c].show === true) {\n            lastSection = false\n            break\n          }\n        }\n      }\n    }\n    return lastSection\n  }\n  function getForm() {\n    return (\n      <Grid container direction=\"row\" justify=\"flex-start\" spacing={0}>\n        <Grid item xs={isSearchForm === true ? 12 : 8}>\n          <Paper>\n            <Table style={{ width: \"100%\", \"border-collapse\": \"collapse\" }}>\n              {isSearchForm === false &&\n                <TableRow style={{ maxHeight: 25 }}>\n                  <TableCell style={{ fontSize: 16, color: \"black\" }}>{Form.label}</TableCell>\n                </TableRow>\n              }\n              <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                {Form.sections.map(section => {\n                  return sectionBuilder(section)\n                })}\n              </Grid>\n            </Table>\n          </Paper>\n        </Grid>\n      </Grid>\n    )\n  }\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i].name === name) {\n        for (let d = 0; d < gridFormEnumData[i].data.length; d++) {\n          if (gridFormEnumData[i].data[d].id === id) {\n            return gridFormEnumData[i].data[d].label\n          }\n        }\n      }\n    }\n  }\n  function dynamicSort(property, sortOrder, type) {\n    console.log(\"PP\", property, type)\n    if (type === \"DateTime\") {\n      sortOrder = sortOrder * -1\n      return function (a, b) {\n        if (a[property] !== null && b[property] !== null) {\n          let dateA = new Date(a[property].substring(0, 19))\n          let timeInSecA = dateA.getTime() / 1000\n          // console.log(\"timeInSecA\", timeInSecA)\n          let dateB = new Date(b[property].substring(0, 19))\n          let timeInSecB = dateB.getTime() / 1000\n          // console.log(\"timeInSecB\", timeInSecB)\n          var result = (timeInSecA < timeInSecB) ? -1 : (timeInSecA > timeInSecB) ? 1 : 0\n          return result * sortOrder\n        }\n        else {\n          if (a[property] === null) {\n            return -1 * sortOrder\n          }\n          return 1 * sortOrder\n        }\n      }\n    }\n    else if (type === \"Int\" || type === \"Text\" || type === \"Float\") {\n      return function (a, b) {\n        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0\n        return result * sortOrder\n      }\n    }\n    else if (type === \"Bool\" || type === \"BoolCustom\") {\n      sortOrder = sortOrder * -1\n      return function (a, b) {\n        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0\n        return result * sortOrder\n      }\n    }\n    else if (type === \"Enum\") {\n      return function (a, b) {\n        if (a[property] === null) {\n          return 1 * sortOrder\n        }\n        else {\n          let labelA = getEnumLabel(property, a[property])\n          // console.log(\"A\", property, a[property], labelA)\n          let labelB = getEnumLabel(property, b[property])\n          // console.log(\"labelB\", labelB, property, b)\n          var result = (labelA < labelB) ? -1 : (labelA > labelB) ? 1 : 0\n          return result * sortOrder\n        }\n      }\n    }\n  }\n  function sortDataByColumn(name, type) {\n    let sortOrder = 1\n    if (sortedColumn === name) {\n      sortOrder = sortedColumnOrder * -1\n    }\n    setSortedColumnOrder(sortOrder)\n    setSortedColumn(name)\n    let sortedDocList = filteredDocList.sort(dynamicSort(name, sortOrder, type))\n    setPage(1)\n    let fetchFrom = 0\n    let fetchTo = size - 1\n    setFilteredDocList(sortedDocList)\n    fetchBySize(fetchFrom, fetchTo, sortedDocList)\n  }\n  function calculateColSpan(contents) {\n    let num = 0\n    for (let i = 0; i < contents.length; i++) {\n      if (contents[i].show === true) {\n        num += 1\n      }\n    }\n    return num\n  }\n  function createMenuItems() {\n    let columns = []\n    columns.push(\n      <tr>\n        <td\n          style={{ paddingLeft: 5, cursor: \"pointer\" }}\n          name={\"selectAll\"}\n          onClick={() => handleTableCheckboxChange(\"selectAll\")}\n        >\n          Выбрать все\n        </td>\n        <td>\n          <Checkbox\n            style={{ maxWidth: 20, height: 15, color: \"green\" }}\n            name={\"selectAll\"}\n            onChange={handleGridCheckboxChange}\n            checked={(gridFieldValue[\"selectAll\"] === false || gridFieldValue[\"selectAll\"] === null || gridFieldValue[\"selectAll\"] === undefined) ? false : true}\n          />\n        </td>\n      </tr>\n    )\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        let name = gridForm.sections[s].contents[c].name\n        columns.push(\n          <tr>\n            <td\n              style={{ paddingLeft: 5, cursor: \"pointer\", background: gridFieldValue[name] === true ? \"#E2E2E2\" : \"white\" }}\n              name={name}\n              onClick={() => handleTableCheckboxChange(name)}\n            >\n              {gridForm.sections[s].contents[c].label}\n            </td>\n            <td>\n              <Checkbox\n                style={{ maxWidth: 20, height: 15, color: \"green\" }}\n                name={name}\n                onChange={handleGridCheckboxChange}\n                checked={(gridFieldValue[name] === false || gridFieldValue[name] === null || gridFieldValue[name] === undefined) ? false : true}\n              />\n            </td>\n          </tr>\n        )\n      }\n    }\n    return columns\n  }\n  function downloadExcel() {\n    tableToExcel.convert(document.getElementById(gridTableId))\n  }\n  const handleGridCheckboxChange = (event) => {\n    // console.log(\"CHBX\", event.target.name, event.target.checked)\n    if (event.target.name === \"selectAll\") {\n      let newFields = { [event.target.name]: event.target.checked }\n      for (let key in gridFieldValue) {\n        newFields[key] = !gridFieldValue[event.target.name]\n      }\n      // console.log(\"selectAll\", newFields)\n      setGridFieldValue(newFields)\n    }\n    else {\n      setGridFieldValue({ ...gridFieldValue, [event.target.name]: event.target.checked })\n    }\n  }\n  const handleTableCheckboxChange = (name) => {\n    // console.log(\"TD CHBX\", name)\n    if (name === \"selectAll\") {\n      let newFields = { ...gridFieldValue }\n      for (let key in newFields) {\n        newFields[key] = !gridFieldValue[name]\n      }\n      setGridFieldValue(newFields)\n    }\n    else {\n      setGridFieldValue({ ...gridFieldValue, [name]: !gridFieldValue[name] })\n    }\n  }\n  const handleContextMenu = (event) => {\n    if (userProfile.userRole === \"1\") {\n      event.preventDefault()\n      setAnchorEl(event.currentTarget)\n    }\n  }\n  const handleCloseMenu = () => {\n    setAnchorEl(null)\n    // console.log(\"CLOSE\", fieldValue)\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        gridForm.sections[s].contents[c].show = gridFieldValue[gridForm.sections[s].contents[c].name]\n      }\n    }\n    console.log(\"nForm\", gridForm)\n    setGridForm(gridForm)\n    setUpdateState(getUUID())\n  }\n  if (updateState !== null) {\n    try {\n      return (\n        <Grid key={updateState}>\n          {isSearchForm !== null &&\n            isSearchForm === true\n            ?\n            <Grid container direction=\"row\" justify=\"flex-start\" spacing={0}>\n              <Grid item xs={11}>\n                <Accordion expanded={accordionExpanded} onChange={() => handleExpandAccordion()}>\n                  <AccordionSummary\n                    expandIcon={<ExpandMoreIcon />}\n                  >\n                    <Typography>{Form.label}</Typography>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    {getForm()}\n                  </AccordionDetails>\n                </Accordion>\n              </Grid>\n            </Grid>\n            :\n            getForm()\n          }\n          <Grid container direction=\"row\" justify=\"flex-start\" spacing={0}>\n            {buttons.map((button, index) => (\n              <Button\n                name={button.name}\n                variant=\"outlined\"\n                onClick={() => buttonClick(button.name, null)}\n                style={{\n                  margin: 3,\n                  color: button.fontColor,\n                  backgroundColor: button.backgroundColor,\n                  height: 32,\n                  fontSize: 12\n                }}\n              >{button.label}\n              </Button>\n            ))}\n          </Grid>\n          {isSearchForm === true &&\n            <ReplayIcon style={{ paddingTop: 3, cursor: \"pointer\" }} onClick={() => buttonClick(\"updateDocList\")} />\n          }\n          {/* Create grid table with data from doclist */}\n          {docList !== null &&\n            <Grid container direction=\"row\" justify=\"flex-start\" spacing={0}>\n              <Grid item sm={\"auto\"}>\n                <Paper>\n                  <div style={{ height: \"500px\", overflow: \"auto\" }}>\n                    <table size=\"small\" class=\"main-table-style\" id={gridTableId}>\n                      <thead class=\"thead-style\" style={{ position: \"sticky\", top: 0 }}>\n                        {/* 1st Row Sections Labels */}\n                        <tr>\n                          <td class=\"td-head-first-child\" colSpan=\"1\" onContextMenu={(ev) => handleContextMenu(ev)}></td>\n                          {gridForm.sections.map((section, index) => {\n                            let showSection = checkToShowSection(section)\n                            if (showSection === true) {\n                              let lastSection = checkSectionOnLastChild(index)\n                              return (\n                                <td\n                                  onContextMenu={(ev) => handleContextMenu(ev)}\n                                  class={lastSection === true ? \"td-head-last-child\" : \"td-head-style\"}\n                                  colSpan={calculateColSpan(section.contents)}\n                                >{section.label}</td>\n                              )\n                            }\n                          })}\n                        </tr>\n                        {/* 2nd Row Sections Contents labels */}\n                        <tr>\n                          <td\n                            class=\"td-head-style-2row\"\n                            rowSpan=\"2\"\n                            style={{ \"minWidth\": \"65px\" }}\n                            onContextMenu={(ev) => handleContextMenu(ev)}\n                          >\n                            Действие\n                          </td>\n                          {gridForm.sections.map(section =>\n                            section.contents.map(contentItem => {\n                              if (contentItem.show === true) {\n                                return (\n                                  <td\n                                    class=\"td-head-style-2row\"\n                                    rowSpan=\"2\"\n                                    onClick={() => sortDataByColumn(contentItem.name, contentItem.type)}\n                                    onContextMenu={(ev) => handleContextMenu(ev)}\n                                  >\n                                    {contentItem.label}\n                                    {sortedColumn === contentItem.name ? sortedColumnOrder === 1 ? <ArrowDropDownIcon style={{ marginBottom: -8 }} /> : <ArrowDropUpIcon style={{ marginBottom: -8 }} /> : \"\"}\n                                  </td>\n                                )\n                              }\n                            })\n                          )}\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {Object.keys(docList).length !== 0 &&\n                          docList.map(dataItem => (\n                            <tr style={{ \"height\": 30 }}>\n                              <td\n                                class=\"td-style\"\n                                style={{ \"maxWidth\": 34 }}\n                              >\n                                {gridFormButtons !== \"null\" &&\n                                  gridFormButtons.map(button =>\n                                    <Button\n                                      key={button.name}\n                                      name={button.name}\n                                      variant=\"outlined\"\n                                      value={button.name}\n                                      onClick={() => buttonClick(button.name, dataItem)}\n                                      style={{\n                                        margin: 1,\n                                        height: 24,\n                                        fontSize: 10,\n                                        maxWidth: 32,\n                                        backgroundColor: button.backgroundColor,\n                                        borderColor: \"darkgreen\",\n                                        color: \"darkgreen\"\n                                      }}\n                                    >{button.label}\n                                    </Button>\n                                  )}\n                              </td>\n                              {gridForm.sections.map(section => (\n                                section.contents.map(contentItem => {\n                                  if (contentItem.show === true) {\n                                    return (\n                                      <td align=\"left\" style={{ color: \"black\", fontSize: 12, \"text-align\": \"center\", \"border-bottom\": \"1px solid grey\" }}>\n                                        {getGridFormItems(dataItem, contentItem)}\n                                      </td>\n                                    )\n                                  }\n                                })\n                              ))}\n                            </tr>\n                          )\n                          )}\n                      </tbody>\n                    </table>\n                  </div>\n                  <tfoot>\n                    <tr>\n                      <td style={{ paddingLeft: \"3px\" }}>\n                        <Button\n                          variant=\"outlined\"\n                          style={{ background: \"#047535\", color: \"white\", height: 28 }}\n                          onClick={() => downloadExcel()}\n                        >В EXCEL\n                        </Button>\n                      </td>\n                      <td style={{ paddingLeft: \"20px\" }}>\n                        <div style={{ minWidth: 90, color: \"black\" }}>Кол-во записей</div>\n                      </td>\n                      <td style={{ paddingLeft: \"3px\" }}>\n                        <FormControl\n                          variant=\"outlined\"\n                          style={{ minWidth: 30 }}\n                        >\n                          <GridSelect\n                            onChange={handleChangeRowsPerPage}\n                            style={{ height: 25, color: \"black\" }}\n                            value={size}\n                          >\n                            <MenuItem value={10}>10</MenuItem>\n                            <MenuItem value={20}>20</MenuItem>\n                            <MenuItem value={50}>50</MenuItem>\n                            <MenuItem value={100}>100</MenuItem>\n                            <MenuItem value={200}>200</MenuItem>\n                            <MenuItem value={500}>500</MenuItem>\n                            <MenuItem value={1000}>1000</MenuItem>\n                          </GridSelect>\n                        </FormControl>\n                      </td>\n\n                      <td>\n                        <Tooltip title=\"На первую страницу\">\n                          <IconButton onClick={() => KeyboardArrowFirstClick()}>\n                            <FirstPageIcon style={{ fontSize: \"large\", color: \"black\" }} />\n                          </IconButton>\n                        </Tooltip>\n                      </td>\n                      <td>\n                        <Tooltip title=\"На предыдущюю страницу\">\n                          <IconButton onClick={() => KeyboardArrowLeftClick(page)}>\n                            <ArrowBackIosIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                          </IconButton>\n                        </Tooltip>\n                      </td>\n                      <td style={{ color: \"black\", fontSize: 16 }}>\n                        <input style={{ maxWidth: 25 }} value={page} onChange={handlePageChange}></input>\n                      </td>\n                      <td style={{ paddingLeft: \"3px\" }}>\n                        <Tooltip title=\"Перейти на указанную страницу\">\n                          <Button\n                            onClick={() => GoToPage()}\n                            variant=\"outlined\"\n                            style={{\n                              height: 22,\n                              backgroundColor: \"#D1D6D6\",\n                              fontSize: 12\n                            }}\n                          >перейти\n                          </Button>\n                        </Tooltip>\n                      </td>\n                      <td>\n                        <Tooltip title=\"На следующюю страницу\">\n                          <IconButton onClick={() => KeyboardArrowRightClick(page)}>\n                            <ArrowForwardIosIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                          </IconButton>\n                        </Tooltip>\n                      </td>\n                      <td>\n                        <Tooltip title=\"На последнюю страницу\">\n                          <IconButton onClick={() => KeyboardArrowLastClick()}>\n                            <LastPageIcon style={{ fontSize: \"large\", color: \"black\" }} />\n                          </IconButton>\n                        </Tooltip>\n                      </td>\n                      <td class=\"pagination-rows-amount-style\">Стр. {page} из {getPageAmount()} Общее кол-во {filteredDocList.length}\n                      </td>\n                    </tr>\n                  </tfoot>\n                  <Menu\n                    anchorEl={anchorEl}\n                    open={openMenu}\n                    onClose={handleCloseMenu}\n                    MenuListProps={{\n                      'aria-labelledby': 'basic-button',\n                    }}\n                    style={{ paddingLeft: \"100px\" }}\n                  >\n                    <table>\n                      {createMenuItems()}\n                    </table>\n                  </Menu>\n                </Paper>\n              </Grid>\n            </Grid>\n          }\n          <Snackbar\n            open={showSnackBar}\n            onClose={() => handleCloseSnackBar()}\n            autoHideDuration={1200}\n            message={snackBarMessage}\n          />\n        </Grid>\n      )\n    }\n    catch (er) {\n      console.log(\"ERROR\", er)\n      return <LinearProgress />\n    }\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}