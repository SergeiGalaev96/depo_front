{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\depo\\\\src\\\\components\\\\CorporativeActions\\\\CorporativeActions.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card'; // Form components\n\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\";\nimport FormControl from '@material-ui/core/FormControl';\nimport MaterialSelect from '@material-ui/core/Select';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Menu from '@material-ui/core/Menu';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem'; // Icons\n\nimport SendIcon from '@material-ui/icons/Send';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'; // Libraries\n\nimport swal from 'sweetalert'; // https://sweetalert.js.org/guides/\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport axios from 'axios';\nimport * as rutoken from \"rutoken\";\nvar plugin;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nvar moment = require('moment');\n\nvar generator = require('generate-password');\n\nfunction FloatFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          name: props.name,\n          value: values.value\n        }\n      });\n    },\n    decimalSeparator: \".\",\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }));\n}\n\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction IntegerFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          name: props.name,\n          value: values.value\n        }\n      });\n    },\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }));\n}\n\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: 'auto'\n  },\n  paper: {\n    width: 400,\n    height: 300,\n    overflow: 'auto'\n  },\n  button: {\n    margin: theme.spacing(0.5, 0)\n  },\n  importFile: {\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  },\n  inputFile: {\n    display: 'none'\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalRutoken: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nfunction not(a, b) {\n  return a.filter(value => b.indexOf(value) === -1);\n}\n\nfunction intersection(a, b) {\n  return a.filter(value => b.indexOf(value) !== -1);\n}\n\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nexport default (props => {\n  // This.state\n  const classes = useStyles();\n  const [userProfile] = useState(props.userProfile);\n  const [session_id] = useState(props.userTask.session_id);\n  const [process_id] = useState(props.userTask.process_id);\n  const [taskID] = useState(props.userTask.taskID);\n  const [enumData] = useState(props.userTask.enumData);\n  const [enumOptions, setEnumOptions] = useState({});\n  const [fieldValue, setFieldValue] = useState({\n    subject: \"\",\n    body: \"\",\n    esDate: \"\",\n    esFullName: \"\",\n    esInn: \"\"\n  });\n  const [searchFieldValue, setSearchFieldValue] = useState(\"\");\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const [updateState, setUpdateState] = useState(false);\n  const [taskType] = useState(props.userTask.taskType);\n  const [docList, setDocList] = useState(null);\n  const [filteredDocList, setFilteredDocList] = useState(null);\n  const [initialDocList, setInitialDocList] = useState(null);\n  const [page, setPage] = useState(1);\n  const [size, setSize] = useState(10);\n  const [showSnackBar, setShowSnackBar] = useState(false);\n  const [snackBarMessage, setSnackBarMessage] = useState(false);\n  const [clickedMessagesType, setClickedMessagesType] = useState(\"inbox\");\n  const [checked, setChecked] = useState([]);\n  const [partners, setPartners] = useState([]);\n  const [selectedPartners, setSelectedPartners] = useState([]);\n  const leftChecked = intersection(checked, partners);\n  const rightChecked = intersection(checked, selectedPartners);\n  const [partnersSearchField, setPartnersSearchField] = useState(\"\");\n  const [selectedPartnersSearchField, setSelectedPartnersSearchField] = useState(\"\");\n  const [focusField, setFocusField] = useState(\"\");\n  const [files, setFiles] = useState([]);\n  const [Blobs, setBlobs] = useState([]);\n  const [corpActionsAttachFileButtonId, setCorpActionsAttachFileButtonId] = useState(null);\n  const [menuId, setMenuId] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [mailAnchorEl, setMailAnchorEl] = useState(null);\n  const openMailMenu = Boolean(mailAnchorEl);\n  const [writeMessage, setWriteMessage] = useState(false);\n  const [messageType, setMessageType] = useState(1);\n  const [allMessagesSelected, setAllMessagesSelected] = useState(false);\n  const [selectedMessages, setSelectedMessages] = useState({});\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [selectedDoc, setSelectedDoc] = useState(null); // Saved Docs\n\n  const [savedImgs, setSavedImgs] = useState([]);\n  const [savedImagesFiles, setSavedImagesFiles] = useState([]);\n  const [savedDocs, setSavedDocs] = useState([]);\n  const [selectedImg, setSelectedImg] = useState({});\n  const [openModal, setOpenModal] = useState(false); // const [idFromUsers, setIdFromUsers] = useState(false)\n  // Rutoken\n\n  const [modalStyle] = useState(getModalStyle);\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false);\n  const [rutokenPin, setRutokenPin] = useState(\"\");\n  const [showPin, setShowPin] = useState(false);\n  const [wrongPin, setWrongPin] = useState(false);\n  const [disableButtons, setDisableButtons] = useState(false); // Set data from props to state of component\n\n  useEffect(() => {\n    console.log(\"CORPACTS PROPS\", props);\n    setCorpActionsAttachFileButtonId(getUUID());\n    setMenuId(getUUID());\n\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      for (let i = 0; i < props.userTask.enumData.length; i++) {\n        if (props.userTask.enumData[i] !== null) {\n          if (props.userTask.enumData[i].name === \"partners\") {\n            let newPartners = [];\n\n            if (userProfile.userRole === \"1\" || userProfile.userRole === \"2\" || userProfile.userRole === \"5\") {\n              for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n                newPartners.push(props.userTask.enumData[i].data[d].id);\n              }\n            } else {\n              newPartners.push(1);\n            }\n\n            setPartners(newPartners);\n          }\n        } else {\n          if (i === 0) {\n            setPartners([]);\n            props.callErrorToast(\"Ошибка сбора справочной информации Partners\");\n          } else {\n            props.callErrorToast(\"Ошибка сбора справочной информации Users\");\n          }\n        }\n      }\n    }\n\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList);\n        console.log(\"DOCL\", parsedData);\n        setInitialDocList(parsedData);\n        let filteredDocL = [];\n\n        for (let i = 0; i < parsedData.recipient.length; i++) {\n          if (parsedData.recipient[i].recipient_status === 1 || parsedData.recipient[i].recipient_status === 2) {\n            filteredDocL.push(parsedData.recipient[i]);\n          }\n        }\n\n        fetchBySize(0, 9, filteredDocL);\n        setFilteredDocList(filteredDocL);\n      } catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType);\n        setFilteredDocList([]);\n        setInitialDocList([]);\n        setDocList([]);\n      }\n    }\n\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc);\n      console.log(\"SDOC\", parsedSelectedDoc);\n      setSelectedDoc(parsedSelectedDoc);\n    }\n\n    if (props.userTask.savedDocs.length !== 0) {\n      console.log(\"SAVED DOCS\", props.userTask.savedDocs);\n\n      for (let d = 0; d < props.userTask.savedDocs.length; d++) {\n        let extension = props.userTask.savedDocs[d].extension;\n        let type = \"\";\n\n        if (extension === \".png\") {\n          type = \"image/png\";\n        } else if (extension === \".jpeg\" || extension === \".jpg\") {\n          type = \"image/jpeg\";\n        } else if (extension === \".doc\") {\n          type = \"application/msword\";\n        } else if (extension === \".docx\") {\n          type = \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n        } else if (extension === \".xlsx\") {\n          type = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n        } else if (extension === \".pdf\" || extension === \".PDF\") {\n          type = \"application/pdf\";\n        }\n\n        let convFile = convertBase64ToFile(props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName, type);\n        handleAttachSavedFile(convFile);\n      }\n    }\n\n    setUpdateState(getUUID());\n  }, []); // RuToken functions\n\n  function handlePinChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    setRutokenPin(event.target.value);\n    console.log(\"PIN\", event.target.value);\n  }\n\n  function handleClickShowPin() {\n    setShowPin(!showPin);\n  }\n\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false);\n  };\n\n  rutoken.ready // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n  .then(function () {\n    if (window.chrome || typeof InstallTrigger !== 'undefined') {\n      return rutoken.isExtensionInstalled();\n    } else {\n      return Promise.resolve(true);\n    }\n  }) // Проверка установки Рутокен Плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.isPluginInstalled();\n    } else {// alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n    }\n  }) // Загрузка плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.loadPlugin();\n    } else {// alert(\"Не удаётся найти Плагин\");\n    }\n  }) //Можно начинать работать с плагином\n  .then(function (result) {\n    if (!result) {\n      return; // alert(\"Не удаётся загрузить Плагин\")\n    } else {\n      plugin = result;\n      return Promise.resolve();\n    }\n  }); // catch errors while signing docs\n\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true);\n          break;\n\n        default:\n          props.callErrorToast(\"Неизвестная ошибка\");\n      }\n    }\n  } // Sign transfer order with rutoken\n\n\n  function sign(commandJson) {\n    try {\n      // Получение текста для подписи\n      if (plugin !== undefined) {\n        // Перебор подключенных Рутокенов\n        plugin.enumerateDevices().then(function (devices) {\n          if (devices.length > 0) {\n            return Promise.resolve(devices[0]);\n          } else {\n            alert(\"Рутокен не обнаружен\");\n          }\n        }) // Проверка залогиненности\n        .then(function (firstDevice) {\n          rutokenHandle = firstDevice;\n          return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n        }) // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n        .then(function (isLoggedIn) {\n          if (isLoggedIn) {\n            return Promise.resolve();\n          } else {\n            return plugin.login(rutokenHandle, rutokenPin);\n          }\n        }) // Перебор пользовательских сертификатов на токене\n        .then(function () {\n          return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n        }).then(function (certs) {\n          if (certs.length > 0) {\n            certHandle = certs[0];\n            return plugin.parseCertificate(rutokenHandle, certs[0]);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        }) // Подписание данных из текстового поля на первом найденом сертификате\n        .then(async function (certs) {\n          certData = certs; // console.log(\"RUTDATA\", certData)\n\n          if (certHandle.length > 0) {\n            var options = {};\n            let inn = \"\";\n            let fullName = \"\";\n\n            for (let i = 0; i < certData.subject.length; i++) {\n              if (certData.subject[i].rdn === \"serialNumber\") {\n                inn = certData.subject[i].value;\n              }\n\n              if (certData.subject[i].rdn === \"commonName\") {\n                fullName = certData.subject[i].value;\n              }\n            }\n\n            let newMailBody = JSON.parse(commandJson.variables.mailBody.value);\n            newMailBody.mails.es_date = moment(new Date()).format();\n            newMailBody.mails.es_full_name = fullName;\n            newMailBody.mails.es_inn = inn;\n            let newCommandJson = commandJson;\n            newCommandJson.variables.mailBody.value = JSON.stringify(newMailBody);\n            props.setEsInn(inn);\n            props.setEsUserFullName(fullName);\n            props.setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1));\n            handleCloseModalEnterPin();\n            let signedBlobs = await signBlobs(fullName, inn, certData.validNotAfter.substring(0, certData.validNotAfter.length - 1));\n            newCommandJson.blobs = signedBlobs;\n            console.log(\"SIGNED CJ\", newCommandJson);\n            await sendMails(signedBlobs);\n            props.sendFieldValues(newCommandJson);\n            props.clearTabData(process_id);\n            return plugin.sign(rutokenHandle, certHandle, \"textToSign\", plugin.DATA_FORMAT_PLAIN, options);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        }) // Закрытие сессии\n        .then(function () {\n          plugin.logout(rutokenHandle);\n        }, handleError);\n      } else {\n        props.callErrorToast(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\");\n      }\n    } catch (er) {\n      console.log(\"Rutoken ERR\");\n    }\n  }\n\n  async function signBlobs(fullName, inn, expiredDate) {\n    let signedBlobs = [];\n\n    for (let i = 0; i < Blobs.length; i++) {\n      if (Blobs[i].type === \"application/pdf\") {\n        for (let a = 0; a < files.length; a++) {\n          if (Blobs[i].name === files[a].name) {\n            console.log(\"SIGN\", fullName);\n            let formData = new FormData();\n            formData.append(\"formFile\", files[a], files[a].name);\n            let url = props.api + \"/Template/AddWatermark?text=ФИО: \" + fullName + \" ПИН: \" + inn + \" \" + expiredDate;\n            var requestOptions = {\n              method: 'POST',\n              body: formData,\n              redirect: 'follow'\n            };\n            let signedBlob = await fetch(url, requestOptions).then(response => response.blob()).then(bl => {\n              let pdf = new Blob([bl], {\n                type: \"application/pdf\"\n              });\n\n              async function blobToBase64(blob) {\n                return new Promise((resolve, _) => {\n                  const reader = new FileReader();\n\n                  reader.onloadend = () => resolve(reader.result.split(\",\")[1]);\n\n                  reader.readAsDataURL(blob);\n                });\n              } // let newBlob = {}\n\n\n              let newBlob = blobToBase64(pdf).then(base64 => {\n                return newBlob = {\n                  \"name\": Blobs[i].name,\n                  \"blob\": base64,\n                  \"size\": bl.size,\n                  type: Blobs[i].type\n                };\n              });\n              return newBlob;\n            }).catch(error => console.log('error', error));\n            signedBlobs.push(signedBlob);\n          }\n        }\n      } else {\n        signedBlobs.push(Blobs[i]);\n      }\n    }\n\n    console.log(\"signedBlobs\", signedBlobs);\n    return signedBlobs;\n  } // Documents attached to mail\n\n\n  function convertBase64ToFile(content, fileName, type) {\n    // let du = \"\"\n    // if (extension === \".png\") {\n    //   du = \"data:image/png;base64,\"\n    // }\n    // else if (extension === \".jpeg\" || extension === \".jpg\") {\n    //   du = \"data:image/jpeg;base64,\"\n    // }\n    // else if (extension === \".doc\") {\n    //   du = \"data:application/msword;base64,\"\n    // }\n    // else if (extension === \".docx\") {\n    //   du = \"data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,\"\n    // }\n    // else if (extension === \".xlsx\") {\n    //   du = \"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,\"\n    // }\n    // else if (extension === \".pdf\" || extension === \".PDF\") {\n    //   du = \"data:application/pdf;base64,\"\n    // }\n    let dataurl = \"data:\" + type + \";base64,\" + content;\n    var arr = dataurl.split(','),\n        mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]),\n        n = bstr.length,\n        u8arr = new Uint8Array(n);\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n\n    let convFile = new File([u8arr], fileName, {\n      type: mime\n    });\n    return convFile; // console.log(\"CONV FILE\", convFile)\n  }\n\n  function handleAttachSavedFile(file) {\n    // console.log(\"FILE\", file)\n    if (file.type === \"application/pdf\" || file.type === \"application/msword\" || file.type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" || file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\") {\n      savedDocs.push(file);\n      setSavedDocs(savedDocs);\n    } else {\n      savedImagesFiles.push(file);\n      setSavedImagesFiles(savedImagesFiles);\n      pushSavedImage(file);\n    } // setUpdateState(getUUID())\n\n  }\n\n  async function pushSavedImage(f) {\n    let reader = new FileReader();\n\n    reader.onload = async function (e) {\n      // push new images to list and show in UI\n      let image = {\n        item: /*#__PURE__*/React.createElement(\"img\", {\n          name: f.name,\n          height: \"150\",\n          width: \"auto\",\n          src: e.target.result,\n          onClick: () => savedImgClick(f.name),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 27\n          }\n        })\n      };\n      savedImgs.push(image); // console.log(\"IMGLIST\", savedImgs)\n\n      setSavedImgs(savedImgs);\n      setUpdateState(getUUID());\n    };\n\n    reader.readAsDataURL(f);\n  }\n\n  async function savedImgClick(name) {\n    for (let l = 0; l < savedImgs.length; l++) {\n      if (savedImgs[l].item.props.name === name) {\n        console.log(\"IMG\", savedImgs[l]);\n        setSelectedImg({\n          name: savedImgs[l].item.props.name,\n          height: \"700\",\n          width: \"auto\",\n          src: savedImgs[l].item.props.src\n        });\n      }\n    }\n\n    handleOpenModal();\n    let newId = getUUID();\n    setUpdateState(newId);\n  }\n\n  const handleOpenModal = () => {\n    setOpenModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setOpenModal(false);\n  };\n\n  const openMenuClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const closeMenuClick = () => {\n    setAnchorEl(null);\n  };\n\n  const handleContextMenu = event => {\n    event.preventDefault();\n    console.log(\"CONT MENU\");\n    setMailAnchorEl(event.currentTarget);\n  };\n\n  function handleChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value;\n    setFieldValue(fieldValue); // console.log(\"FIELDVALUE\", fieldValue)\n  } // random UUID generator\n\n\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\");\n\n    return uuidv1();\n  } // random numbers generator\n\n\n  function keyGen(length) {\n    var password = generator.generate({\n      length: length,\n      numbers: true\n    });\n    return password;\n  }\n\n  function swAllert(text, icon) {\n    return swal({\n      text: text,\n      icon: icon,\n      buttons: {\n        ok: \"Ок\"\n      }\n    });\n  }\n\n  function getEmail(id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === \"partners\") {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].email;\n          }\n        }\n      }\n    }\n  }\n\n  async function buttonClick(name, item) {\n    if (name === \"send\") {\n      if (selectedPartners.length === 0) {\n        swAllert(\"Выберите как минимум одного получателя!\", \"warning\");\n      } else {\n        setDisableButtons(true);\n        sendMails(Blobs); // Create Mail Body for local notifications\n\n        let files_dir = getUUID();\n        let mailBody = {\n          mails: {\n            type: messageType,\n            subject: fieldValue.subject,\n            body: fieldValue.body,\n            files_directory: files_dir,\n            status: 3,\n            sender: parseInt(userProfile.partner),\n            es_date: null,\n            es_full_name: null,\n            es_inn: null\n          },\n          mail_distributions: []\n        }; // Push recipient of local system mail\n\n        for (let s = 0; s < selectedPartners.length; s++) {\n          let newDistribution = {\n            sender: parseInt(userProfile.partner),\n            sender_status: 3,\n            recipient_status: 1,\n            recipient: selectedPartners[s]\n          };\n          mailBody.mail_distributions.push(newDistribution);\n          console.log(\"mailBody\", mailBody);\n        } // Files attached to mail\n\n\n        let blobs = [];\n\n        for (let f = 0; f < files.length; f++) {\n          for (let b = 0; b < Blobs.length; b++) {\n            if (files[f].name === Blobs[b].name) {\n              // console.log(\"MATCH\", files[f].name, Blobs[b])\n              blobs.push(Blobs[b]);\n            }\n          }\n        }\n\n        const commandJson = {\n          commandType: \"sendMails\",\n          process_id: process_id,\n          session_id: session_id,\n          taskID: taskID,\n          directory: files_dir,\n          blobs: blobs,\n          variables: {\n            userAction: {\n              value: \"sendMail\"\n            },\n            mailBody: {\n              value: JSON.stringify(mailBody)\n            }\n          }\n        }; // console.log(\"button sendMail: \", commandJson)\n\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (name === \"sendWithES\") {\n      if (selectedPartners.length === 0) {\n        swAllert(\"Выберите как минимум одного получателя!\", \"warning\");\n      } else {\n        // Create Mail Body for local notifications\n        setDisableButtons(true);\n        let files_dir = getUUID();\n        let mailBody = {\n          mails: {\n            type: messageType,\n            subject: fieldValue.subject,\n            body: fieldValue.body,\n            files_directory: files_dir,\n            status: 3,\n            sender: parseInt(userProfile.partner),\n            es_date: moment(new Date()).format(),\n            es_full_name: props.esFullName,\n            es_inn: props.esInn\n          },\n          mail_distributions: []\n        };\n        console.log(\"mailBody\", mailBody); // Push recipient of local system mail\n\n        for (let s = 0; s < selectedPartners.length; s++) {\n          let newDistribution = {\n            sender: parseInt(userProfile.partner),\n            sender_status: 3,\n            recipient_status: 1,\n            recipient: selectedPartners[s]\n          };\n          mailBody.mail_distributions.push(newDistribution);\n        } // Files attached to mail\n\n\n        let blobs = [];\n\n        for (let f = 0; f < files.length; f++) {\n          for (let b = 0; b < Blobs.length; b++) {\n            if (files[f].name === Blobs[b].name) {\n              // console.log(\"MATCH\", files[f].name, Blobs[b])\n              blobs.push(Blobs[b]);\n            }\n          }\n        }\n\n        const commandJson = {\n          commandType: \"sendMails\",\n          process_id: process_id,\n          session_id: session_id,\n          taskID: taskID,\n          directory: files_dir,\n          blobs: blobs,\n          variables: {\n            userAction: {\n              value: \"sendMail\"\n            },\n            mailBody: {\n              value: JSON.stringify(mailBody)\n            }\n          }\n        };\n\n        if (props.esInn !== null) {\n          let signedBlobs = await signBlobs(props.fullName, props.inn, props.certData.validNotAfter.substring(0, props.certData.validNotAfter.length - 1));\n          commandJson.blobs = signedBlobs; // props.sendFieldValues(commandJson)\n          // props.clearTabData(process_id)\n        } else {\n          sign(commandJson);\n        }\n\n        console.log(\"button sendMailES: \", commandJson);\n      }\n    } else if (name === \"showReport\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"showReport\"\n          },\n          reportName: {\n            value: \"Message_alert\"\n          },\n          reportVars: {\n            value: \"?id=\" + selectedDoc.mail_id\n          }\n        }\n      };\n      console.log(\"button showReport:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (name === \"backToSearchForm\") {\n      setMessageType(selectedMessage.type);\n      setSelectedPartners([selectedMessage.recipient]);\n      setFieldValue({\n        subject: selectedMessage.subject,\n        body: selectedMessage.body\n      });\n    } else if (name === \"back\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"back\"\n          }\n        }\n      };\n      console.log(\"button back:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    }\n  }\n\n  async function sendMails(f) {\n    // console.log(\"SEND MAILS\", f)\n    // Create FormData\n    let formData = new FormData();\n    formData.append(\"subject\", fieldValue[\"subject\"]);\n    formData.append(\"body\", fieldValue[\"body\"]);\n\n    for (let i = 0; i < f.length; i++) {\n      let convFile = convertBase64ToFile(f[i].blob, f[i].name, f[i].type);\n      formData.append('attachments', convFile, f[i].name); // formData.append('attachments', f[i], f[i].name)\n    }\n\n    for (let p = 0; p < selectedPartners.length; p++) {\n      formData.append(\"toEmail\", getEmail(selectedPartners[p]));\n      await fetch(props.api + \"/Mail/SendMail\", {\n        mode: 'no-cors',\n        method: 'POST',\n        body: formData\n      }).then(response => {\n        console.log(\"RES SEND MAIL\", response);\n      }).catch(error => console.error(error));\n    }\n  }\n\n  function getRecipientId(partner) {\n    console.log(\"Partner ID\", partner);\n    let recipientId = null;\n\n    for (let e = 0; e < enumData.length; e++) {\n      if (enumData[e].name === \"users\") {\n        for (let d = 0; d < enumData[e].data.length; d++) {\n          let parsedAttr = JSON.parse(enumData[e].data[d].attributes);\n\n          if (partner === parseInt(parsedAttr[\"partner\"])) {\n            recipientId = enumData[e].data[d].id;\n          }\n        }\n      }\n    }\n\n    console.log(\"RES ID\", recipientId);\n    return recipientId;\n  } // Pagination functions\n\n\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1);\n      fetchBySize(0, size - 1, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1;\n      setPage(prevPage);\n      let fetchFrom = (prevPage - 1) * size; //10\n\n      let fetchTo = size * prevPage - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\");\n      setShowSnackBar(true);\n    } else {\n      setPage(page + 1);\n      let fetchFrom = size * page;\n      let fetchTo = (page + 1) * size - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    }\n  }\n\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value);\n    setPage(1);\n    fetchBySize(0, event.target.value - 1, filteredDocList);\n  }\n\n  function GoToPage() {\n    let fetchFrom = page * size - 1 - size;\n    let fetchTo = page * size - 1;\n    fetchBySize(fetchFrom, fetchTo, filteredDocList);\n  }\n\n  function handlePageChange(event) {\n    setPage(event.target.value);\n  }\n\n  function getPageAmount() {\n    let pagesFloat = filteredDocList.length / size;\n    let mathRoundOfPages = Math.round(pagesFloat);\n\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1;\n    } else {\n      return mathRoundOfPages;\n    }\n  }\n\n  function handleCloseSnackBar() {\n    setShowSnackBar(false);\n  } // get rows amount of filtered docs by size\n\n\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    let newDocList = [];\n\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i]);\n      }\n    }\n\n    setDocList(newDocList);\n    setUpdateState(getUUID());\n  } // Convert date to approptiate format\n\n\n  function beautifyDate(date) {\n    try {\n      var newDate = new Date(date); // \"2020-01-26\"\n\n      var dd = String(newDate.getDate()).padStart(2, '0');\n      var mm = String(newDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n      var yyyy = newDate.getFullYear();\n      let beautyDate = \"\";\n\n      if (parseInt(dd) < 10) {\n        let shortdd = dd.substring(1, 2);\n        dd = shortdd + \" \";\n      } else {\n        beautyDate += dd;\n      }\n\n      switch (mm) {\n        case \"01\":\n          {\n            mm = \"янв.\";\n            break;\n          }\n\n        case \"02\":\n          {\n            mm = \"февр.\";\n            break;\n          }\n\n        case \"03\":\n          {\n            mm = \"мар.\";\n            break;\n          }\n\n        case \"04\":\n          {\n            mm = \"апр.\";\n            break;\n          }\n\n        case \"05\":\n          {\n            mm = \"мая\";\n            break;\n          }\n\n        case \"06\":\n          {\n            mm = \"июня\";\n            break;\n          }\n\n        case \"07\":\n          {\n            mm = \"июля\";\n            break;\n          }\n\n        case \"08\":\n          {\n            mm = \"авг.\";\n            break;\n          }\n\n        case \"09\":\n          {\n            mm = \"сент.\";\n            break;\n          }\n\n        case \"10\":\n          {\n            mm = \"окт.\";\n            break;\n          }\n\n        case \"11\":\n          {\n            mm = \"ноя.\";\n            break;\n          }\n\n        case \"12\":\n          {\n            mm = \"дек.\";\n            break;\n          }\n\n        default:\n          {\n            break;\n          }\n      }\n\n      beautyDate += \" \" + mm + \" \" + yyyy.toString().substring(2, 4) + \"г.\"; // console.log(\"beautyDate\", beautyDate)\n\n      return beautyDate;\n    } catch (er) {\n      return \"NaN.NaN.NaN\";\n    }\n  } // multiple selector functions\n\n\n  const handleToggle = value => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n\n  const handleAllRight = () => {\n    if (partnersSearchField === \"\") {\n      setSelectedPartners(selectedPartners.concat(partners));\n      setPartners([]);\n    } else {\n      let filteredSelectedPartners = [];\n      let filteredPartners = [];\n\n      for (let p = 0; p < partners.length; p++) {\n        let searchField = partnersSearchField.toLowerCase();\n        let listItemLabel = getPartnerName(partners[p]).toLowerCase();\n        let includeSearch = listItemLabel.includes(searchField);\n\n        if (includeSearch === true) {\n          filteredSelectedPartners.push(partners[p]);\n        } else {\n          filteredPartners.push(partners[p]);\n        }\n      }\n\n      setSelectedPartners(filteredSelectedPartners.concat(selectedPartners));\n      setPartners(filteredPartners);\n    }\n  };\n\n  const handleCheckedRight = () => {\n    setSelectedPartners(selectedPartners.concat(leftChecked));\n    setPartners(not(partners, leftChecked));\n    setChecked(not(checked, leftChecked));\n  };\n\n  const handleCheckedLeft = () => {\n    setPartners(partners.concat(rightChecked));\n    setSelectedPartners(not(selectedPartners, rightChecked));\n    setChecked(not(checked, rightChecked));\n  };\n\n  const handleAllLeft = () => {\n    if (selectedPartnersSearchField === \"\") {\n      setPartners(partners.concat(selectedPartners));\n      setSelectedPartners([]);\n    } else {\n      let filteredPartners = [];\n      let filteredSelectedPartners = [];\n\n      for (let p = 0; p < selectedPartners.length; p++) {\n        let searchField = selectedPartnersSearchField.toLowerCase();\n        let listItemLabel = getPartnerName(selectedPartners[p]).toLowerCase();\n        let includeSearch = listItemLabel.includes(searchField);\n\n        if (includeSearch === true) {\n          filteredPartners.push(selectedPartners[p]);\n        } else {\n          filteredSelectedPartners.push(selectedPartners[p]);\n        }\n      }\n\n      setSelectedPartners(filteredSelectedPartners);\n      setPartners(filteredPartners.concat(partners));\n    }\n  };\n\n  const partnersList = items => /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1074,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    dense: true,\n    component: \"div\",\n    role: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1075,\n      columnNumber: 7\n    }\n  }, items.map(value => {\n    const labelId = `transfer-list-item-${value}-label`;\n\n    if (partnersSearchField === \"\") {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        key: value,\n        role: \"listitem\",\n        button: true,\n        onClick: handleToggle(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: checked.indexOf(value) !== -1,\n        tabIndex: -1,\n        disableRipple: true,\n        inputProps: {\n          'aria-labelledby': labelId\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1081,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ListItemText, {\n        id: labelId,\n        primary: getPartnerName(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1087,\n          columnNumber: 17\n        }\n      }));\n    } else {\n      let searchField = partnersSearchField.toLowerCase();\n      let listItemLabel = getPartnerName(value).toLowerCase();\n      let includeSearch = listItemLabel.includes(searchField);\n\n      if (includeSearch === true) {\n        return /*#__PURE__*/React.createElement(ListItem, {\n          key: value,\n          role: \"listitem\",\n          button: true,\n          onClick: handleToggle(value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          checked: checked.indexOf(value) !== -1,\n          tabIndex: -1,\n          disableRipple: true,\n          inputProps: {\n            'aria-labelledby': labelId\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1098,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(ListItemText, {\n          id: labelId,\n          primary: getPartnerName(value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 19\n          }\n        }));\n      }\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1111,\n      columnNumber: 9\n    }\n  })));\n\n  function partnersSearchFieldChange(event) {\n    setPartnersSearchField(event.target.value);\n    setFocusField(\"partnersSearhField\");\n  }\n\n  const selectedPartnersList = items => /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    dense: true,\n    component: \"div\",\n    role: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1121,\n      columnNumber: 7\n    }\n  }, items.map(value => {\n    const labelId = `transfer-list-item-${value}-label`;\n\n    if (selectedPartnersSearchField === \"\") {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        key: value,\n        role: \"listitem\",\n        button: true,\n        onClick: handleToggle(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1126,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: checked.indexOf(value) !== -1,\n        tabIndex: -1,\n        disableRipple: true,\n        inputProps: {\n          'aria-labelledby': labelId\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ListItemText, {\n        id: labelId,\n        primary: getPartnerName(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1133,\n          columnNumber: 17\n        }\n      }));\n    } else {\n      let searchField = selectedPartnersSearchField.toLowerCase();\n      let listItemLabel = getPartnerName(value).toLowerCase();\n      let includeSearch = listItemLabel.includes(searchField);\n\n      if (includeSearch === true) {\n        return /*#__PURE__*/React.createElement(ListItem, {\n          key: value,\n          role: \"listitem\",\n          button: true,\n          onClick: handleToggle(value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1143,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          checked: checked.indexOf(value) !== -1,\n          tabIndex: -1,\n          disableRipple: true,\n          inputProps: {\n            'aria-labelledby': labelId\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1144,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(ListItemText, {\n          id: labelId,\n          primary: getPartnerName(value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 19\n          }\n        }));\n      }\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1157,\n      columnNumber: 9\n    }\n  })));\n\n  function selectedPartnersSearchFieldChange(event) {\n    setSelectedPartnersSearchField(event.target.value);\n    setFocusField(\"selectedPartnersSearhField\");\n  }\n\n  function getPartnerName(id) {\n    for (let i = 0; i < props.userTask.enumData.length; i++) {\n      if (props.userTask.enumData[i].name === \"partners\") {\n        for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n          if (props.userTask.enumData[i].data[d].id === id) {\n            return props.userTask.enumData[i].data[d].label;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  const writeMessgeClick = type => {\n    setMessageType(type);\n    setAnchorEl(null);\n    setWriteMessage(true);\n  };\n\n  const handleSelectAllMessagesChange = event => {\n    setAllMessagesSelected(event.target.checked);\n\n    for (let i = 0; i < filteredDocList.length; i++) {\n      selectedMessages[filteredDocList[i].mail_id] = event.target.checked;\n    }\n\n    setSelectedMessages(selectedMessages);\n  };\n\n  const handleSelectMessage = event => {\n    console.log(\"Check MESS\", event.target.id, \"CH \", event.target.checked);\n    setSelectedMessages({ ...selectedMessages,\n      [event.target.id]: event.target.checked\n    });\n  }; // file attachment functions\n\n\n  function handleAttachFile(e) {\n    let selectedFiles = e.target.files;\n\n    if (selectedFiles && selectedFiles[0]) {\n      for (let i = 0; i < selectedFiles.length; i++) {\n        files.push(selectedFiles[i]);\n        pushNewBlob(selectedFiles[i]);\n      }\n\n      setFiles(files);\n    }\n\n    setUpdateState(getUUID());\n    console.log(\"FILES\", files);\n  } // attached documents\n\n\n  async function pushNewBlob(f) {\n    // console.log(\"WRITING BLOBS\")\n    let docUrl = URL.createObjectURL(f);\n    fetch(docUrl).then(res => res.blob()).then(blob => {\n      // blob.name = f.name\n      var blobToBase64 = function (f, cb) {\n        let reader = new FileReader();\n\n        reader.onload = function () {\n          // converts blob to base64\n          var dataUrl = reader.result;\n          var base64 = dataUrl.split(\",\")[1];\n          cb(base64);\n        };\n\n        reader.readAsDataURL(f);\n      };\n\n      blobToBase64(f, async function (base64) {\n        // encode blobs to send to socket\n        let newBlob = {\n          \"name\": f.name,\n          \"blob\": base64,\n          \"size\": f.size,\n          type: f.type\n        };\n        Blobs.push(newBlob);\n        setBlobs(Blobs); // console.log(\"BLOBS\", Blobs)\n      });\n    });\n  }\n\n  function deleteFile(name) {\n    let newFilesList = [];\n\n    for (let i = 0; i < files.length; i++) {\n      if (name !== files[i].name) {\n        newFilesList.push(files[i]);\n      }\n    }\n\n    setFiles(newFilesList);\n    console.log(\"FILES\", newFilesList);\n  }\n\n  function filesList() {\n    let selFilesList = [];\n\n    for (let i = 0; i < files.length; i++) {\n      selFilesList.push( /*#__PURE__*/React.createElement(Card, {\n        style: {\n          margin: 3,\n          backgroundColor: \"#E2E2E2\",\n          paddingLeft: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1247,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1248,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        minWidth: \"500px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1249,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"#1B2CE8\",\n          fontWeight: \"bold\",\n          width: \"95%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1250,\n          columnNumber: 15\n        }\n      }, files[i].name + \" \", \"(\" + Math.round(files[i].size / 1000) + \")\" + \"КБ\"), /*#__PURE__*/React.createElement(\"td\", {\n        align: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1253,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1254,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CloseIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        onClick: () => deleteFile(files[i].name),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1255,\n          columnNumber: 19\n        }\n      }))))))); // console.log(\"FILE\", files[i])\n    }\n\n    return selFilesList;\n  }\n\n  function handleSearchChange(event) {\n    setSearchFieldValue(event.target.value);\n    console.log(\"FIELDVALUE\", event.target.value);\n  }\n\n  function handleClickSearch() {\n    console.log(\"SEARCH\", searchFieldValue, clickedMessagesType, filteredDocList);\n\n    if (searchFieldValue === \"\") {\n      if (clickedMessagesType === \"inbox\") {\n        handleInboxMessagesClick();\n      } else if (clickedMessagesType === \"sent\") {\n        handleSentMessagesClick();\n      } else if (clickedMessagesType === \"trash\") {\n        handleTrashMessagesClick();\n      }\n    } else {\n      let newDocList = [];\n\n      if (clickedMessagesType === \"inbox\") {\n        for (let i = 0; i < initialDocList.recipient.length; i++) {\n          if (initialDocList.recipient[i].recipient_status === 1 || initialDocList.recipient[i].recipient_status === 2) {\n            try {\n              let subject = initialDocList.recipient[i].subject.toLowerCase();\n              let body = initialDocList.recipient[i].body.toLowerCase();\n              let searchField = searchFieldValue.toLowerCase();\n\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.recipient[i].subject, initialDocList.recipient[i].body)\n                newDocList.push(initialDocList.recipient[i]);\n              }\n            } catch (er) {\n              console.log(er);\n            }\n          }\n        }\n      } else if (clickedMessagesType === \"sent\") {\n        for (let i = 0; i < initialDocList.sender.length; i++) {\n          if (initialDocList.sender[i].sender_status === 3) {\n            try {\n              let subject = initialDocList.sender[i].subject.toLowerCase();\n              let body = initialDocList.sender[i].body.toLowerCase();\n              let searchField = searchFieldValue.toLowerCase();\n\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.sender[i].subject, initialDocList.sender[i].body)\n                newDocList.push(initialDocList.sender[i]);\n              }\n            } catch (er) {\n              console.log(er);\n            }\n          }\n        }\n      } else if (clickedMessagesType === \"trash\") {\n        for (let i = 0; i < initialDocList.sender.length; i++) {\n          if (initialDocList.sender[i].sender_status === 4) {\n            try {\n              let subject = initialDocList.sender[i].subject.toLowerCase();\n              let body = initialDocList.sender[i].body.toLowerCase();\n              let searchField = searchFieldValue.toLowerCase();\n\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.sender[i].subject, initialDocList.sender[i].body)\n                newDocList.push(initialDocList.sender[i]);\n              }\n            } catch (er) {\n              console.log(er);\n            }\n          }\n        }\n\n        for (let i = 0; i < initialDocList.recipient.length; i++) {\n          if (initialDocList.recipient[i].recipient_status === 4) {\n            try {\n              let subject = initialDocList.recipient[i].subject.toLowerCase();\n              let body = initialDocList.recipient[i].body.toLowerCase();\n              let searchField = searchFieldValue.toLowerCase();\n\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.recipient[i].subject, initialDocList.recipient[i].body)\n                newDocList.push(initialDocList.recipient[i]);\n              }\n            } catch (er) {\n              console.log(er);\n            }\n          }\n        }\n      }\n\n      fetchBySize(0, 9, newDocList);\n      setFilteredDocList(newDocList);\n    }\n  }\n\n  function handleInboxMessagesClick() {\n    setClickedMessagesType(\"inbox\");\n    setAllMessagesSelected(false);\n    let filteredDocL = [];\n\n    for (let i = 0; i < initialDocList.recipient.length; i++) {\n      if (initialDocList.recipient[i].recipient_status === 1 || initialDocList.recipient[i].recipient_status === 2) {\n        filteredDocL.push(initialDocList.recipient[i]);\n      }\n    }\n\n    fetchBySize(0, 9, filteredDocL);\n    setFilteredDocList(filteredDocL);\n    console.log(\"INBOX\");\n  }\n\n  function handleSentMessagesClick() {\n    setClickedMessagesType(\"sent\");\n    setAllMessagesSelected(false);\n    let filteredDocL = [];\n\n    for (let i = 0; i < initialDocList.sender.length; i++) {\n      if (initialDocList.sender[i].sender_status === 3) {\n        filteredDocL.push(initialDocList.sender[i]);\n      }\n    }\n\n    fetchBySize(0, 9, filteredDocL);\n    setFilteredDocList(filteredDocL);\n    console.log(\"SENT\");\n  }\n\n  function handleTrashMessagesClick() {\n    setClickedMessagesType(\"trash\");\n    setAllMessagesSelected(false);\n    let filteredDocL = [];\n\n    for (let i = 0; i < initialDocList.recipient.length; i++) {\n      if (initialDocList.recipient[i].recipient_status === 4) {\n        filteredDocL.push(initialDocList.recipient[i]);\n      }\n    }\n\n    for (let i = 0; i < initialDocList.sender.length; i++) {\n      if (initialDocList.sender[i].sender_status === 4) {\n        filteredDocL.push(initialDocList.sender[i]);\n      }\n    }\n\n    fetchBySize(0, 9, filteredDocL);\n    setFilteredDocList(filteredDocL);\n    console.log(\"TRASH\");\n  }\n\n  function getSenderName(sender) {\n    // console.log(\"enumData\", enumData)\n    for (let e = 0; e < enumData.length; e++) {\n      if (enumData[e].name === \"partners\") {\n        for (let d = 0; d < enumData[e].data.length; d++) {\n          if (enumData[e].data[d].id === sender) {\n            return enumData[e].data[d].label;\n          }\n        }\n      }\n    } // for (let e = 0; e < enumData.length; e++) {\n    //   if (enumData[e].name === \"users\") {\n    //     for (let d = 0; d < enumData[e].data.length; d++) {\n    //       if (enumData[e].data[d].id === sender) {\n    //         return enumData[e].data[d].firstname + \" \" + enumData[e].data[d].lastname\n    //       }\n    //     }\n    //   }\n    // }\n\n  }\n\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === name) {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].label;\n          }\n        }\n      }\n    }\n  }\n\n  function getBackround(status) {\n    if (status === 1) {\n      // message is unread\n      return \"#FFDCA5\";\n    } else {\n      return \"#F0F1F1\";\n    }\n  }\n\n  function getFontWeight(status) {\n    if (status === 1) {\n      return \"bold\";\n    } else {\n      return \"nornal\";\n    }\n  }\n\n  function checkToShowDeleteButton() {\n    let showButton = false;\n\n    if (Object.keys(selectedMessages).length > 0) {\n      for (let key in selectedMessages) {\n        if (selectedMessages[key] === true) {\n          showButton = true;\n          break;\n        }\n      }\n    }\n\n    return showButton;\n  }\n\n  function openMessage(message) {\n    if (clickedMessagesType === \"inbox\") {\n      // let user_id = null\n      // for (let e = 0; e < enumData.length; e++) {\n      //   if (enumData[e].name === \"users\") {\n      //     for (let d = 0; d < enumData[e].data.length; d++) {\n      //       if (enumData[e].data[d].user_id === userProfile.userId) {\n      //         user_id = enumData[e].data[d].id\n      //       }\n      //     }\n      //   }\n      // }\n      let mailDistrBody = {\n        id: message.distribution_id,\n        mail_id: message.mail_id,\n        sender: message.sender,\n        recipient: message.recipient,\n        recipient_status: 2,\n        created_at: message.created_at,\n        updated_at: message.updated_at\n      }; // let unreadDistributionsBody = {\n      //   variables: {\n      //     user_session_id: { value: session_id },\n      //     userAction: { value: \"getUnreadDistributions\" },\n      //     // depoRESTApi: { value: \"\" },\n      //     user_id_recipient: { value: message.recipient }\n      //   }\n      // }\n\n      let commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"openMailDistribution\"\n          },\n          mailDistrBody: {\n            value: JSON.stringify(mailDistrBody)\n          },\n          selectedDoc: {\n            value: JSON.stringify(message)\n          } // unreadDistributionsBody: { value: JSON.stringify(unreadDistributionsBody) }\n\n        }\n      };\n      console.log(\"button openMail: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n      props.reduceMailDistributions();\n    } else {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"openMail\"\n          },\n          selectedDoc: {\n            value: JSON.stringify(message)\n          }\n        }\n      };\n      console.log(\"button openMail: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    }\n  }\n\n  function deleteMessages() {\n    console.log(\"LISTS\", selectedMessages, docList);\n\n    if (clickedMessagesType === \"inbox\") {\n      let mailDistrList = [];\n\n      for (let d = 0; d < docList.length; d++) {\n        for (let key in selectedMessages) {\n          if (selectedMessages[key] === true) {\n            if (docList[d].mail_id === parseInt(key)) {\n              let mailToDelete = {\n                id: docList[d].distribution_id,\n                sender: docList[d].sender,\n                recipient: docList[d].recipient,\n                recipient_status: 4,\n                mail_id: docList[d].mail_id,\n                created_at: docList[d].created_at,\n                updated_at: docList[d].updated_at\n              };\n              mailDistrList.push(mailToDelete);\n              console.log(\"DEL\", mailToDelete);\n            }\n          }\n        }\n      }\n\n      let unreadDistributionsBody = {\n        variables: {\n          user_session_id: {\n            value: session_id\n          },\n          userAction: {\n            value: \"getUnreadDistributions\"\n          },\n          depoRESTApi: {\n            value: \"\"\n          },\n          user_id_recipient: {\n            value: docList[0].recipient\n          }\n        }\n      };\n      let commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"putMailsToTrash\"\n          },\n          mailDistrList: {\n            value: JSON.stringify(mailDistrList)\n          },\n          mailList: {\n            value: \"[]\"\n          },\n          unreadDistributionsBody: {\n            value: JSON.stringify(unreadDistributionsBody)\n          }\n        }\n      };\n      console.log(\"button putInboxMailsToTrash: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n      props.reduceMailDistributions();\n    } else if (clickedMessagesType === \"sent\") {\n      let mailList = [];\n\n      for (let d = 0; d < docList.length; d++) {\n        for (let key in selectedMessages) {\n          if (selectedMessages[key] === true) {\n            if (docList[d].mail_id === parseInt(key)) {\n              let mailToDelete = {\n                id: docList[d].mail_id,\n                sender: docList[d].sender,\n                subject: docList[d].subject,\n                body: docList[d].body,\n                status: 4,\n                files_directory: docList[d].files_directory,\n                created_at: docList[d].created_at,\n                updated_at: docList[d].updated_at\n              };\n              mailList.push(mailToDelete);\n              console.log(\"DEL\", mailToDelete);\n            }\n          }\n        }\n      }\n\n      let commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"putMailsToTrash\"\n          },\n          mailDistrList: {\n            value: \"[]\"\n          },\n          mailList: {\n            value: JSON.stringify(mailList)\n          }\n        }\n      };\n      console.log(\"button putSentMailsToTrash: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (clickedMessagesType === \"trash\") {\n      swal({\n        text: \"Вы действительно хотите удалить сообщения безвозвратно?\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          let mailList = [];\n          let mailDistrList = [];\n\n          for (let key in selectedMessages) {\n            if (selectedMessages[key] === true) {\n              console.log(\"TRUE?\", key, selectedMessages[key]);\n\n              for (let d = 0; d < docList.length; d++) {\n                if (docList[d].mail_id === parseInt(key)) {\n                  console.log(\"DEL\", docList[d].subject); // I'm sender of mail\n                  // if (docList[d].sender === idFromUsers) {\n\n                  if (docList[d].sender === parseInt(userProfile.partner)) {\n                    console.log(\"IM SENDER\", docList[d].mail_id);\n                    let mailToDelete = {\n                      id: docList[d].mail_id,\n                      sender: docList[d].sender,\n                      subject: docList[d].subject,\n                      body: docList[d].body,\n                      status: 5,\n                      files_directory: docList[d].files_directory,\n                      created_at: docList[d].created_at,\n                      updated_at: docList[d].updated_at,\n                      deleted: true\n                    };\n                    mailList.push(mailToDelete);\n                  } // i'm recipient of mail\n                  else {\n                    console.log(\"IM RECIPIENT\", docList[d].mail_id);\n                    let mailToDelete = {\n                      id: docList[d].distribution_id,\n                      sender: docList[d].sender,\n                      recipient: docList[d].recipient,\n                      recipient_status: 5,\n                      mail_id: docList[d].mail_id,\n                      created_at: docList[d].created_at,\n                      updated_at: docList[d].updated_at,\n                      deleted: true\n                    };\n                    mailDistrList.push(mailToDelete);\n                  }\n                }\n              }\n            }\n          }\n\n          let unreadDistributionsBody = {\n            variables: {\n              user_session_id: {\n                value: session_id\n              },\n              userAction: {\n                value: \"getUnreadDistributions\"\n              },\n              depoRESTApi: {\n                value: \"\"\n              },\n              user_id_recipient: {\n                value: docList[0].recipient\n              }\n            }\n          };\n          let commandJson = {\n            commandType: \"completeTask\",\n            process_id: process_id,\n            session_id: session_id,\n            taskID: taskID,\n            variables: {\n              userAction: {\n                value: \"putMailsToTrash\"\n              },\n              mailDistrList: {\n                value: JSON.stringify(mailDistrList)\n              },\n              mailList: {\n                value: JSON.stringify(mailList)\n              },\n              unreadDistributionsBody: {\n                value: JSON.stringify(unreadDistributionsBody)\n              }\n            }\n          };\n          console.log(\"button deleteMails: \", commandJson);\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id); // console.log(\"mailList\", mailList)\n          // console.log(\"mailDistrList\", mailDistrList)\n        }\n      });\n    }\n  }\n\n  function savedDocsList() {\n    console.log(\"SAVEDOCS\", savedDocs);\n    let savedDocsList = [];\n\n    for (let i = 0; i < savedDocs.length; i++) {\n      savedDocsList.push( /*#__PURE__*/React.createElement(Card, {\n        style: {\n          margin: 3,\n          backgroundColor: \"#E2E2E2\",\n          paddingLeft: 20,\n          minWidth: \"500px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1694,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1695,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1696,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"#1B2CE8\",\n          fontWeight: \"bold\",\n          width: \"95%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1697,\n          columnNumber: 15\n        }\n      }, savedDocs[i].name + \" \", \"(\" + Math.round(savedDocs[i].size / 1000) + \")\" + \"КБ\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1700,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: URL.createObjectURL(savedDocs[i]),\n        download: savedDocs[i].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1701,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(GetAppIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1706,\n          columnNumber: 19\n        }\n      }))))))); // console.log(\"FILE\", savedDocs[i])\n    }\n\n    return savedDocsList;\n  }\n\n  function savedImgsList() {\n    var imgs = [];\n\n    for (let l = 0; l < savedImgs.length; l++) {\n      let blob = converFileToBlob(savedImgs[l].item.props.src);\n      imgs.push( /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1721,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1722,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1723,\n          columnNumber: 13\n        }\n      }, savedImgs[l].item)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1727,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1728,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: URL.createObjectURL(blob),\n        download: savedImgs[l].item.props.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1729,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(GetAppIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1734,\n          columnNumber: 17\n        }\n      }))))));\n    }\n\n    if (Object.keys(imgs).length !== 0) {\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"flex-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1743,\n          columnNumber: 9\n        }\n      }, imgs);\n    }\n  }\n\n  function converFileToBlob(src) {\n    var byteString = atob(src.split(',')[1]);\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n\n    return new Blob([ab], {\n      type: 'image/jpeg'\n    });\n  }\n\n  function getMenuItemStyle(name) {\n    if (name === clickedMessagesType) {\n      return {\n        background: \"#F0F1F1\",\n        color: \"black\",\n        fontWeight: \"bold\"\n      };\n    }\n  }\n\n  function onKeyPressModalEnterPin(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      buttonClick(\"sendWithES\");\n    }\n  }\n\n  function useMessageAsSample() {\n    console.log(\"SEL MES\", selectedMessage);\n    setMessageType(selectedMessage.type);\n    setSelectedPartners([selectedMessage.recipient]);\n    setFieldValue({\n      subject: selectedMessage.subject,\n      body: selectedMessage.body\n    });\n    setWriteMessage(true);\n    setMailAnchorEl(null);\n  }\n\n  if (updateState !== null) {\n    try {\n      if (taskType === \"corporativeActionsMainForm\") {\n        if (writeMessage === false) {\n          return /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"row\",\n            justify: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 1,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1787,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 3,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1788,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Paper, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1789,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(MenuList, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1790,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => handleInboxMessagesClick(),\n            style: getMenuItemStyle(\"inbox\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1791,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(ListItemIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1792,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(MailOutlineIcon, {\n            fontSize: \"small\",\n            style: getMenuItemStyle(\"inbox\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1793,\n              columnNumber: 25\n            }\n          })), /*#__PURE__*/React.createElement(Typography, {\n            variant: \"inherit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1795,\n              columnNumber: 23\n            }\n          }, \"\\u0412\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0435\")), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => handleSentMessagesClick(),\n            style: getMenuItemStyle(\"sent\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1797,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(ListItemIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1798,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(SendIcon, {\n            fontSize: \"small\",\n            style: getMenuItemStyle(\"sent\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1799,\n              columnNumber: 25\n            }\n          })), /*#__PURE__*/React.createElement(Typography, {\n            variant: \"inherit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1801,\n              columnNumber: 23\n            }\n          }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u043D\\u044B\\u0435\")), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => handleTrashMessagesClick(),\n            style: getMenuItemStyle(\"trash\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1803,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(ListItemIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1804,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n            fontSize: \"small\",\n            style: getMenuItemStyle(\"trash\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1805,\n              columnNumber: 25\n            }\n          })), /*#__PURE__*/React.createElement(Typography, {\n            variant: \"inherit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1807,\n              columnNumber: 23\n            }\n          }, \"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\"))))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 9,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1812,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            spacing: 1,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1813,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 12,\n            align: \"left\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1814,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Paper, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1815,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(Checkbox, {\n            style: {\n              color: \"green\"\n            },\n            onChange: handleSelectAllMessagesChange,\n            checked: allMessagesSelected === true ? true : false,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1816,\n              columnNumber: 23\n            }\n          }), checkToShowDeleteButton() === true && /*#__PURE__*/React.createElement(IconButton, {\n            \"aria-label\": \"delete\",\n            size: \"small\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1822,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(DeleteIcon, {\n            onClick: () => deleteMessages(),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1823,\n              columnNumber: 27\n            }\n          })), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            color: \"primary\",\n            startIcon: /*#__PURE__*/React.createElement(CreateIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1829,\n                columnNumber: 36\n              }\n            }),\n            style: {\n              margin: 5,\n              color: \"green\",\n              background: \"white\",\n              fontSize: 14\n            },\n            \"aria-controls\": menuId,\n            \"aria-haspopup\": \"true\",\n            onClick: openMenuClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1826,\n              columnNumber: 23\n            }\n          }, \"\\u041D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Menu, {\n            id: menuId,\n            anchorEl: anchorEl,\n            keepMounted: true,\n            open: Boolean(anchorEl),\n            onClose: closeMenuClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1837,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(1),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1844,\n              columnNumber: 25\n            }\n          }, \"\\u0418\\u0437\\u0432\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(2),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1845,\n              columnNumber: 25\n            }\n          }, \"\\u0417\\u0430\\u043F\\u0440\\u043E\\u0441 \\u043D\\u0430 \\u0440\\u0430\\u0441\\u043A\\u0440\\u044B\\u0442\\u0438\\u0435\"), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(3),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1846,\n              columnNumber: 25\n            }\n          }, \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u043E\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(4),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1847,\n              columnNumber: 25\n            }\n          }, \"\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043E \\u041A\\u0414\"), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(5),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1848,\n              columnNumber: 25\n            }\n          }, \"\\u0418\\u0441\\u0445\\u043E\\u0434\\u044F\\u0449\\u0435\\u0435 \\u043F\\u0438\\u0441\\u044C\\u043C\\u043E\")), /*#__PURE__*/React.createElement(TextField, {\n            size: \"small\",\n            variant: \"outlined\",\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0432 \\u043F\\u043E\\u0447\\u0442\\u0435\",\n            style: {\n              width: \"50%\",\n              paddingLeft: 50,\n              margin: 3\n            },\n            onChange: handleSearchChange,\n            InputProps: {\n              endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n                position: \"end\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1858,\n                  columnNumber: 29\n                }\n              }, /*#__PURE__*/React.createElement(IconButton, {\n                onClick: () => handleClickSearch(),\n                edge: \"end\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1859,\n                  columnNumber: 31\n                }\n              }, /*#__PURE__*/React.createElement(SearchIcon, {\n                size: \"small\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1863,\n                  columnNumber: 33\n                }\n              })))\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1850,\n              columnNumber: 23\n            }\n          }))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 12,\n            align: \"left\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1870,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Paper, {\n            style: {\n              minHeight: \"76px\",\n              paddingTop: docList === null ? \"25px\" : 0\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1871,\n              columnNumber: 21\n            }\n          }, docList !== null ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1873,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"table\", {\n            class: \"main-table-style\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1874,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"thead\", {\n            class: \"thead-style\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1875,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1876,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-first-child\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1877,\n              columnNumber: 33\n            }\n          }), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1878,\n              columnNumber: 33\n            }\n          }, \"\\u0414\\u0430\\u0442\\u0430\"), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1879,\n              columnNumber: 33\n            }\n          }, \"\\u0422\\u0438\\u043F\"), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1880,\n              columnNumber: 33\n            }\n          }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\"), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1881,\n              columnNumber: 33\n            }\n          }, \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\"), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-last-child\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1882,\n              columnNumber: 33\n            }\n          }, \"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n            class: \"body-style\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1885,\n              columnNumber: 29\n            }\n          }, Object.keys(docList).length !== 0 && docList.map(docListItem => /*#__PURE__*/React.createElement(\"tr\", {\n            width: \"100%\",\n            style: {\n              \"fontSize\": 13,\n              \"height\": 30,\n              \"background\": clickedMessagesType === \"inbox\" ? getBackround(docListItem.recipient_status) : \"#F0F1F1\",\n              \"fontWeight\": clickedMessagesType === \"inbox\" ? getFontWeight(docListItem.recipient_status) : \"normal\",\n              \"cursor\": \"pointer\"\n            },\n            onMouseDown: () => setSelectedMessage(docListItem),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1888,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1899,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(Checkbox, {\n            style: {\n              height: 15,\n              color: \"green\",\n              maxWidth: 25\n            },\n            id: docListItem.mail_id,\n            onChange: handleSelectMessage,\n            onContextMenu: ev => handleContextMenu(ev),\n            checked: selectedMessages[docListItem.mail_id] === true ? true : false,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1900,\n              columnNumber: 39\n            }\n          })), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            align: \"center\",\n            width: 150,\n            onClick: () => openMessage(docListItem),\n            onContextMenu: ev => handleContextMenu(ev),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1908,\n              columnNumber: 37\n            }\n          }, beautifyDate(docListItem.created_at)), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            align: \"center\",\n            width: 150,\n            onClick: () => openMessage(docListItem),\n            onContextMenu: ev => handleContextMenu(ev),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1917,\n              columnNumber: 37\n            }\n          }, getEnumLabel(\"mailTypes\", docListItem.type)), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            width: 150,\n            onClick: () => openMessage(docListItem),\n            onContextMenu: ev => handleContextMenu(ev),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1926,\n              columnNumber: 37\n            }\n          }, getSenderName(docListItem.sender)), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            onClick: () => openMessage(docListItem),\n            onContextMenu: ev => handleContextMenu(ev),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1934,\n              columnNumber: 37\n            }\n          }, docListItem.subject), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\",\n              \"white-space\": \"wrap\"\n            },\n            onClick: () => openMessage(docListItem),\n            onContextMenu: ev => handleContextMenu(ev),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1941,\n              columnNumber: 37\n            }\n          }, docListItem.body.substring(0, 50), docListItem.body.length > 50 ? \"...\" : \"\"))))), /*#__PURE__*/React.createElement(\"table\", {\n            size: \"small\",\n            style: {\n              \"border-collapse\": \"collapse\",\n              \"white-space\": \"nowrap\",\n              fontSize: 13\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1954,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"tfoot\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1955,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1956,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              paddingLeft: \"20px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1957,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              minWidth: 80,\n              color: \"black\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1958,\n              columnNumber: 35\n            }\n          }, \"\\u041A\\u043E\\u043B-\\u0432\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439\")), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1960,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(FormControl, {\n            variant: \"outlined\",\n            style: {\n              minWidth: 30\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1961,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(MaterialSelect, {\n            onChange: handleChangeRowsPerPage,\n            style: {\n              height: 25,\n              color: \"black\"\n            },\n            value: size,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1965,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(MenuItem, {\n            value: 10,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1970,\n              columnNumber: 39\n            }\n          }, \"10\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 20,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1971,\n              columnNumber: 39\n            }\n          }, \"20\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 50,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1972,\n              columnNumber: 39\n            }\n          }, \"50\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 100,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1973,\n              columnNumber: 39\n            }\n          }, \"100\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 200,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1974,\n              columnNumber: 39\n            }\n          }, \"200\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 500,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1975,\n              columnNumber: 39\n            }\n          }, \"500\")))), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1979,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Tooltip, {\n            title: \"\\u041D\\u0430 \\u043F\\u0435\\u0440\\u0432\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1980,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(IconButton, {\n            onClick: () => KeyboardArrowFirstClick(),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1981,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(FirstPageIcon, {\n            style: {\n              fontSize: \"large\",\n              color: \"black\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1982,\n              columnNumber: 39\n            }\n          })))), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1986,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Tooltip, {\n            title: \"\\u041D\\u0430 \\u043F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1987,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(IconButton, {\n            onClick: () => KeyboardArrowLeftClick(page),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1988,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n            style: {\n              fontSize: \"medium\",\n              color: \"black\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1989,\n              columnNumber: 39\n            }\n          })))), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              color: \"black\",\n              fontSize: 16\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1993,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            style: {\n              maxWidth: 25\n            },\n            value: page,\n            onChange: handlePageChange,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1994,\n              columnNumber: 35\n            }\n          })), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              paddingLeft: \"3px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1996,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Tooltip, {\n            title: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043D\\u0430 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1997,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(Button, {\n            onClick: () => GoToPage(),\n            variant: \"outlined\",\n            style: {\n              height: 22,\n              backgroundColor: \"#D1D6D6\",\n              fontSize: 12\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1998,\n              columnNumber: 37\n            }\n          }, \"\\u043F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\"))), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2010,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Tooltip, {\n            title: \"\\u041D\\u0430 \\u0441\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2011,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(IconButton, {\n            onClick: () => KeyboardArrowRightClick(page),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2012,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n            style: {\n              fontSize: \"medium\",\n              color: \"black\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2013,\n              columnNumber: 39\n            }\n          })))), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              color: \"black\",\n              fontSize: 13\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2017,\n              columnNumber: 33\n            }\n          }, \"\\u0421\\u0442\\u0440. \", page, \" \\u0438\\u0437 \", getPageAmount()))))) : /*#__PURE__*/React.createElement(Typography, {\n            variant: \"inherit\",\n            noWrap: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2023,\n              columnNumber: 25\n            }\n          }, \"\\u0412 \\u044D\\u0442\\u043E\\u0439 \\u043F\\u0430\\u043F\\u043A\\u0435 \\u043D\\u0435\\u0442 \\u043F\\u0438\\u0441\\u0435\\u043C!\"), /*#__PURE__*/React.createElement(Menu, {\n            anchorEl: mailAnchorEl,\n            open: openMailMenu,\n            onClose: () => setMailAnchorEl(null),\n            MenuListProps: {\n              'aria-labelledby': 'basic-button'\n            },\n            style: {\n              paddingLeft: \"100px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2027,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => useMessageAsSample(),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2036,\n              columnNumber: 25\n            }\n          }, \"\\u0418\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u043A\\u0430\\u043A \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\")))), /*#__PURE__*/React.createElement(Snackbar, {\n            open: showSnackBar,\n            onClose: () => handleCloseSnackBar(),\n            autoHideDuration: 1200,\n            message: snackBarMessage,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2040,\n              columnNumber: 19\n            }\n          }))));\n        } else if (writeMessage === true) {\n          return /*#__PURE__*/React.createElement(Paper, {\n            key: updateState,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2053,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            spacing: 1,\n            justify: \"center\",\n            alignItems: \"center\",\n            className: classes.root,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2054,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2055,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2056,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2057,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"partnersSearhField\",\n            value: partnersSearchField,\n            onChange: partnersSearchFieldChange,\n            autoFocus: focusField === \"partnersSearhField\" ? true : false,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2058,\n              columnNumber: 23\n            }\n          })), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2067,\n              columnNumber: 21\n            }\n          }, partnersList(partners)))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2070,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2071,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            className: classes.button,\n            onClick: handleAllRight,\n            disabled: partners.length === 0,\n            \"aria-label\": \"move all selectedPartners\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2072,\n              columnNumber: 21\n            }\n          }, \"\\u226B\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            className: classes.button,\n            onClick: handleCheckedRight,\n            disabled: leftChecked.length === 0,\n            \"aria-label\": \"move selected selectedPartners\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2082,\n              columnNumber: 21\n            }\n          }, \">\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            className: classes.button,\n            onClick: handleCheckedLeft,\n            disabled: rightChecked.length === 0,\n            \"aria-label\": \"move selected partners\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2092,\n              columnNumber: 21\n            }\n          }, \"<\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            className: classes.button,\n            onClick: handleAllLeft,\n            disabled: selectedPartners.length === 0,\n            \"aria-label\": \"move all partners\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2102,\n              columnNumber: 21\n            }\n          }, \"\\u226A\"))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2114,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2115,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2116,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"selectedPartnersSearhField\",\n            value: selectedPartnersSearchField,\n            onChange: selectedPartnersSearchFieldChange,\n            autoFocus: focusField === \"selectedPartnersSearhField\" ? true : false,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2117,\n              columnNumber: 23\n            }\n          })), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2126,\n              columnNumber: 21\n            }\n          }, selectedPartnersList(selectedPartners)))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 11,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2129,\n              columnNumber: 17\n            }\n          }, \"\\u0422\\u0438\\u043F \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F: \", getEnumLabel(\"mailTypes\", messageType)), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 11,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2130,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2131,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(TextField, {\n            id: \"outlined-multiline-static\",\n            label: \"\\u0422\\u0435\\u043C\\u0430\",\n            multiline: true,\n            onBlur: handleChange,\n            name: \"subject\",\n            defaultValue: fieldValue[\"subject\"],\n            variant: \"outlined\",\n            style: {\n              width: \"100%\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2132,\n              columnNumber: 21\n            }\n          }), /*#__PURE__*/React.createElement(TextField, {\n            id: \"outlined-multiline-static\",\n            label: \"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F\",\n            multiline: true,\n            rows: 4,\n            onBlur: handleChange,\n            name: \"body\",\n            defaultValue: fieldValue[\"body\"],\n            variant: \"outlined\",\n            style: {\n              width: \"100%\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2142,\n              columnNumber: 21\n            }\n          }))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2155,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2156,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: classes.importFile,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2157,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            accept: \"image/*, application/pdf\",\n            className: classes.inputFile,\n            id: corpActionsAttachFileButtonId,\n            multiple: true,\n            type: \"file\",\n            onChange: handleAttachFile,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2158,\n              columnNumber: 23\n            }\n          }), /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: corpActionsAttachFileButtonId,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2166,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(Button, {\n            component: \"span\",\n            variant: \"outlined\",\n            style: {\n              margin: 3,\n              color: \"white\",\n              backgroundColor: \"#BB7100\",\n              borderColor: \"#161C87\",\n              height: 32,\n              fontSize: 12\n            },\n            endIcon: /*#__PURE__*/React.createElement(AttachFileIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2178,\n                columnNumber: 36\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2167,\n              columnNumber: 25\n            }\n          }, \"\\u041F\\u0440\\u0438\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B\\u044B\"))), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            onClick: () => buttonClick(\"send\", null),\n            style: {\n              margin: 3,\n              color: \"white\",\n              borderColor: \"#161C87\",\n              backgroundColor: \"#287A2C\",\n              height: 32,\n              fontSize: 12\n            },\n            endIcon: /*#__PURE__*/React.createElement(SendIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2194,\n                columnNumber: 32\n              }\n            }),\n            disabled: disableButtons,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2183,\n              columnNumber: 21\n            }\n          }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            onClick: () => props.esInn !== null ? buttonClick(\"sendWithES\") : setShowModalEnterPin(true),\n            style: {\n              margin: 3,\n              color: \"white\",\n              borderColor: \"#161C87\",\n              backgroundColor: \"#287A2C\",\n              height: 32,\n              fontSize: 12\n            },\n            endIcon: /*#__PURE__*/React.createElement(SendIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2209,\n                columnNumber: 32\n              }\n            }),\n            disabled: disableButtons,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2198,\n              columnNumber: 21\n            }\n          }, \"\\u041F\\u043E\\u0434\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C \\u0438 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            onClick: () => buttonClick(\"backToSearchForm\"),\n            style: {\n              margin: 3,\n              color: \"white\",\n              borderColor: \"#161C87\",\n              backgroundColor: \"#ff1f1f\",\n              height: 32,\n              fontSize: 12\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2214,\n              columnNumber: 21\n            }\n          }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\")))), /*#__PURE__*/React.createElement(Grid, {\n            style: {\n              paddingLeft: \"45px\"\n            },\n            container: true,\n            spacing: 2,\n            justify: \"flex-start\",\n            alignItems: \"flex-start\",\n            className: classes.root,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2231,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: \"auto\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2232,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            spacing: 1,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2233,\n              columnNumber: 19\n            }\n          }, filesList()))), /*#__PURE__*/React.createElement(Modal, {\n            open: showModalEnterPin,\n            onClose: handleCloseModalEnterPin,\n            \"aria-labelledby\": \"simple-modal-title\",\n            \"aria-describedby\": \"simple-modal-description\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2238,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            style: modalStyle,\n            className: classes.modalRutoken,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2244,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"h3\", {\n            id: \"simple-modal-title\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2245,\n              columnNumber: 19\n            }\n          }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041F\\u0418\\u041D \\u043A\\u043E\\u0434 \\u0420\\u0443\\u0442\\u043E\\u043A\\u0435\\u043D\\u0430\"), /*#__PURE__*/React.createElement(FormControl, {\n            variant: \"outlined\",\n            style: {\n              width: \"100%\"\n            },\n            error: wrongPin,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2246,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(InputLabel, {\n            htmlFor: \"outlined-adornment-password\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2247,\n              columnNumber: 21\n            }\n          }, \"PIN\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n            type: showPin ? 'text' : 'password',\n            defaultValue: rutokenPin,\n            onChange: handlePinChange,\n            onKeyPress: onKeyPressModalEnterPin,\n            autoFocus: true,\n            endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n              position: \"end\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2255,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(IconButton, {\n              \"aria-label\": \"toggle password visibility\",\n              onClick: handleClickShowPin,\n              edge: \"end\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2256,\n                columnNumber: 27\n              }\n            }, showPin ? /*#__PURE__*/React.createElement(Visibility, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2261,\n                columnNumber: 40\n              }\n            }) : /*#__PURE__*/React.createElement(VisibilityOff, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2261,\n                columnNumber: 57\n              }\n            }))),\n            labelWidth: 25,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2248,\n              columnNumber: 21\n            }\n          })), wrongPin === true && /*#__PURE__*/React.createElement(\"p\", {\n            color: \"red\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2268,\n              columnNumber: 41\n            }\n          }, \"\\u041D\\u0435 \\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 PIN\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"contained\",\n            onClick: () => buttonClick(\"sendWithES\"),\n            style: {\n              margin: 3,\n              height: 32,\n              fontSize: 12,\n              color: \"white\",\n              backgroundColor: \"#2862F4\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2269,\n              columnNumber: 19\n            }\n          }, \"\\u041E\\u043A\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"contained\",\n            onClick: handleCloseModalEnterPin,\n            style: {\n              margin: 3,\n              height: 32,\n              fontSize: 12,\n              color: \"white\",\n              backgroundColor: \"#E73639\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2281,\n              columnNumber: 19\n            }\n          }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n        }\n      } else if (taskType === \"shomMessageForm\") {\n        return /*#__PURE__*/React.createElement(Paper, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2301,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2302,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(Grid, {\n          container: true,\n          direction: \"row\",\n          justify: \"center\",\n          alignItems: \"center\",\n          spacing: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2303,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2304,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          component: \"h1\",\n          variant: \"h6\",\n          color: \"inherit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2305,\n            columnNumber: 17\n          }\n        }, selectedDoc.subject)), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2307,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2308,\n            columnNumber: 17\n          }\n        }, \"Дата: \", selectedDoc.created_at.substring(0, 19)), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2309,\n            columnNumber: 17\n          }\n        }, \"Отправитель: \", getSenderName(selectedDoc.sender)), selectedDoc.es_inn !== null && /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2311,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2312,\n            columnNumber: 21\n          }\n        }, \"Время подписания: \", selectedDoc.es_date !== undefined ? selectedDoc.es_date.substring(0, 19) : \"\"), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2313,\n            columnNumber: 21\n          }\n        }, \"ИНН: \", selectedDoc.es_inn), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2314,\n            columnNumber: 21\n          }\n        }, \"ФИО: \", selectedDoc.es_full_name))), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"left\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2318,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2319,\n            columnNumber: 17\n          }\n        }, selectedDoc.body)), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2321,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"left\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2322,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12,\n            fontWeight: \"bold\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2323,\n            columnNumber: 17\n          }\n        }, \"Прикрепленные файлы\"), savedDocsList(), savedImgsList()), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2327,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          variant: \"outlined\",\n          onClick: () => buttonClick(\"showReport\"),\n          style: {\n            margin: 3,\n            color: \"white\",\n            borderColor: \"#161C87\",\n            backgroundColor: \"#287A2C\",\n            height: 32,\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2328,\n            columnNumber: 17\n          }\n        }, \"\\u041F\\u0435\\u0447\\u0430\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Button, {\n          variant: \"outlined\",\n          onClick: () => buttonClick(\"back\"),\n          style: {\n            margin: 3,\n            color: \"white\",\n            borderColor: \"#161C87\",\n            backgroundColor: \"#ff1f1f\",\n            height: 32,\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2341,\n            columnNumber: 17\n          }\n        }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\"))), /*#__PURE__*/React.createElement(Modal, {\n          className: classes.modal,\n          open: openModal,\n          onClose: handleCloseModal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2356,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.imagePaper,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2361,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          name: selectedImg.name,\n          height: 600,\n          width: \"auto\",\n          src: selectedImg.src,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2362,\n            columnNumber: 17\n          }\n        }))));\n      } else {\n        return /*#__PURE__*/React.createElement(LinearProgress, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2369,\n            columnNumber: 16\n          }\n        });\n      }\n    } catch (er) {\n      // console.log(\"ERROR\", er)\n      return /*#__PURE__*/React.createElement(LinearProgress, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2374,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","clsx","Button","LinearProgress","NumberFormat","PropTypes","Card","fade","makeStyles","Grid","List","ListItem","ListItemIcon","ListItemText","Checkbox","Paper","TextField","Typography","FormControl","MaterialSelect","Snackbar","OutlinedInput","InputAdornment","InputLabel","TableRow","TableBody","TableCell","Modal","Menu","MenuList","MenuItem","SendIcon","AttachFileIcon","CloseIcon","IconButton","DraftsIcon","MailOutlineIcon","DeleteOutlineIcon","ArrowForwardIosIcon","ArrowBackIosIcon","FirstPageIcon","SearchIcon","CreateIcon","DeleteIcon","GetAppIcon","Visibility","VisibilityOff","swal","Tooltip","axios","rutoken","plugin","rutokenHandle","certHandle","certData","cmsData","moment","require","generator","FloatFormat","props","inputRef","onChange","other","values","target","name","value","propTypes","func","isRequired","IntegerFormat","useStyles","theme","root","margin","paper","width","height","overflow","button","spacing","importFile","inputFile","display","modal","alignItems","justifyContent","modalRutoken","position","backgroundColor","palette","background","border","boxShadow","shadows","padding","not","a","b","filter","indexOf","intersection","getModalStyle","top","left","transform","classes","userProfile","session_id","userTask","process_id","taskID","enumData","enumOptions","setEnumOptions","fieldValue","setFieldValue","subject","body","esDate","esFullName","esInn","searchFieldValue","setSearchFieldValue","selectedOptions","setSelectedOptions","updateState","setUpdateState","taskType","docList","setDocList","filteredDocList","setFilteredDocList","initialDocList","setInitialDocList","page","setPage","size","setSize","showSnackBar","setShowSnackBar","snackBarMessage","setSnackBarMessage","clickedMessagesType","setClickedMessagesType","checked","setChecked","partners","setPartners","selectedPartners","setSelectedPartners","leftChecked","rightChecked","partnersSearchField","setPartnersSearchField","selectedPartnersSearchField","setSelectedPartnersSearchField","focusField","setFocusField","files","setFiles","Blobs","setBlobs","corpActionsAttachFileButtonId","setCorpActionsAttachFileButtonId","menuId","setMenuId","anchorEl","setAnchorEl","mailAnchorEl","setMailAnchorEl","openMailMenu","Boolean","writeMessage","setWriteMessage","messageType","setMessageType","allMessagesSelected","setAllMessagesSelected","selectedMessages","setSelectedMessages","selectedMessage","setSelectedMessage","selectedDoc","setSelectedDoc","savedImgs","setSavedImgs","savedImagesFiles","setSavedImagesFiles","savedDocs","setSavedDocs","selectedImg","setSelectedImg","openModal","setOpenModal","modalStyle","showModalEnterPin","setShowModalEnterPin","rutokenPin","setRutokenPin","showPin","setShowPin","wrongPin","setWrongPin","disableButtons","setDisableButtons","console","log","getUUID","undefined","i","length","newPartners","userRole","d","data","push","id","callErrorToast","parsedData","JSON","parse","filteredDocL","recipient","recipient_status","fetchBySize","er","parsedSelectedDoc","extension","type","convFile","convertBase64ToFile","content","fileName","handleAttachSavedFile","handlePinChange","event","handleClickShowPin","handleCloseModalEnterPin","ready","then","window","chrome","InstallTrigger","isExtensionInstalled","Promise","resolve","result","isPluginInstalled","loadPlugin","handleError","reason","isNaN","message","errorCodes","parseInt","PIN_INCORRECT","sign","commandJson","enumerateDevices","devices","alert","firstDevice","getDeviceInfo","TOKEN_INFO_IS_LOGGED_IN","isLoggedIn","login","enumerateCertificates","CERT_CATEGORY_UNSPEC","certs","parseCertificate","options","inn","fullName","rdn","newMailBody","variables","mailBody","mails","es_date","Date","format","es_full_name","es_inn","newCommandJson","stringify","setEsInn","setEsUserFullName","setEsExpiredDate","validNotAfter","substring","signedBlobs","signBlobs","blobs","sendMails","sendFieldValues","clearTabData","DATA_FORMAT_PLAIN","logout","expiredDate","formData","FormData","append","url","api","requestOptions","method","redirect","signedBlob","fetch","response","blob","bl","pdf","Blob","blobToBase64","_","reader","FileReader","onloadend","split","readAsDataURL","newBlob","base64","catch","error","dataurl","arr","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","file","pushSavedImage","f","onload","e","image","item","savedImgClick","l","src","handleOpenModal","newId","handleCloseModal","openMenuClick","currentTarget","closeMenuClick","handleContextMenu","preventDefault","handleChange","uuidv1","keyGen","password","generate","numbers","swAllert","text","icon","buttons","ok","getEmail","email","buttonClick","files_dir","files_directory","status","sender","partner","mail_distributions","s","newDistribution","sender_status","commandType","directory","userAction","userId","reportName","reportVars","mail_id","p","mode","getRecipientId","recipientId","parsedAttr","attributes","KeyboardArrowFirstClick","KeyboardArrowLeftClick","prevPage","fetchFrom","fetchTo","KeyboardArrowRightClick","handleChangeRowsPerPage","GoToPage","handlePageChange","getPageAmount","pagesFloat","mathRoundOfPages","Math","round","handleCloseSnackBar","Data","newDocList","beautifyDate","date","newDate","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","beautyDate","shortdd","toString","handleToggle","currentIndex","newChecked","splice","handleAllRight","concat","filteredSelectedPartners","filteredPartners","searchField","toLowerCase","listItemLabel","getPartnerName","includeSearch","includes","handleCheckedRight","handleCheckedLeft","handleAllLeft","partnersList","items","map","labelId","partnersSearchFieldChange","selectedPartnersList","selectedPartnersSearchFieldChange","label","writeMessgeClick","handleSelectAllMessagesChange","handleSelectMessage","handleAttachFile","selectedFiles","pushNewBlob","docUrl","URL","createObjectURL","res","cb","dataUrl","deleteFile","newFilesList","filesList","selFilesList","paddingLeft","color","fontWeight","fontSize","handleSearchChange","handleClickSearch","handleInboxMessagesClick","handleSentMessagesClick","handleTrashMessagesClick","getSenderName","getEnumLabel","getBackround","getFontWeight","checkToShowDeleteButton","showButton","Object","keys","key","openMessage","mailDistrBody","distribution_id","created_at","updated_at","reduceMailDistributions","deleteMessages","mailDistrList","mailToDelete","unreadDistributionsBody","user_session_id","depoRESTApi","user_id_recipient","mailList","yes","cancel","click","deleted","savedDocsList","minWidth","savedImgsList","imgs","converFileToBlob","byteString","ab","ArrayBuffer","ia","getMenuItemStyle","onKeyPressModalEnterPin","code","charCode","useMessageAsSample","endAdornment","minHeight","paddingTop","docListItem","maxWidth","ev","borderColor","imagePaper"],"sources":["C:/Users/SERGO/Desktop/depo/src/components/CorporativeActions/CorporativeActions.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\n// Form components\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\";\n\nimport FormControl from '@material-ui/core/FormControl';\nimport MaterialSelect from '@material-ui/core/Select';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Menu from '@material-ui/core/Menu';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\n// Icons\nimport SendIcon from '@material-ui/icons/Send';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n// Libraries\nimport swal from 'sweetalert' // https://sweetalert.js.org/guides/\nimport Tooltip from '@material-ui/core/Tooltip';\nimport axios from 'axios';\nimport * as rutoken from \"rutoken\";\nvar plugin;\nvar rutokenHandle, certHandle, certData, cmsData;\nvar moment = require('moment');\n\nvar generator = require('generate-password');\n\nfunction FloatFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      decimalSeparator={\".\"}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nfunction IntegerFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: 'auto',\n  },\n  paper: {\n    width: 400,\n    height: 300,\n    overflow: 'auto',\n  },\n  button: {\n    margin: theme.spacing(0.5, 0),\n  },\n  importFile: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  inputFile: {\n    display: 'none',\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalRutoken: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  }\n}))\nfunction not(a, b) {\n  return a.filter((value) => b.indexOf(value) === -1);\n}\nfunction intersection(a, b) {\n  return a.filter((value) => b.indexOf(value) !== -1);\n}\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\nexport default (props) => {\n  // This.state\n  const classes = useStyles();\n  const [userProfile] = useState(props.userProfile)\n  const [session_id] = useState(props.userTask.session_id)\n  const [process_id] = useState(props.userTask.process_id)\n  const [taskID] = useState(props.userTask.taskID)\n  const [enumData] = useState(props.userTask.enumData)\n  const [enumOptions, setEnumOptions] = useState({})\n  const [fieldValue, setFieldValue] = useState({ subject: \"\", body: \"\", esDate: \"\", esFullName: \"\", esInn: \"\" })\n  const [searchFieldValue, setSearchFieldValue] = useState(\"\")\n  const [selectedOptions, setSelectedOptions] = useState([])\n  const [updateState, setUpdateState] = useState(false)\n  const [taskType] = useState(props.userTask.taskType)\n  const [docList, setDocList] = useState(null)\n  const [filteredDocList, setFilteredDocList] = useState(null)\n  const [initialDocList, setInitialDocList] = useState(null)\n  const [page, setPage] = useState(1)\n  const [size, setSize] = useState(10)\n  const [showSnackBar, setShowSnackBar] = useState(false)\n  const [snackBarMessage, setSnackBarMessage] = useState(false)\n  const [clickedMessagesType, setClickedMessagesType] = useState(\"inbox\")\n\n  const [checked, setChecked] = useState([])\n  const [partners, setPartners] = useState([])\n  const [selectedPartners, setSelectedPartners] = useState([])\n  const leftChecked = intersection(checked, partners)\n  const rightChecked = intersection(checked, selectedPartners)\n  const [partnersSearchField, setPartnersSearchField] = useState(\"\")\n  const [selectedPartnersSearchField, setSelectedPartnersSearchField] = useState(\"\")\n  const [focusField, setFocusField] = useState(\"\")\n  const [files, setFiles] = useState([])\n  const [Blobs, setBlobs] = useState([])\n  const [corpActionsAttachFileButtonId, setCorpActionsAttachFileButtonId] = useState(null)\n\n  const [menuId, setMenuId] = useState(null)\n  const [anchorEl, setAnchorEl] = useState(null)\n  const [mailAnchorEl, setMailAnchorEl] = useState(null)\n  const openMailMenu = Boolean(mailAnchorEl)\n\n  const [writeMessage, setWriteMessage] = useState(false)\n  const [messageType, setMessageType] = useState(1)\n  const [allMessagesSelected, setAllMessagesSelected] = useState(false)\n  const [selectedMessages, setSelectedMessages] = useState({})\n  const [selectedMessage, setSelectedMessage] = useState({})\n  const [selectedDoc, setSelectedDoc] = useState(null)\n  // Saved Docs\n  const [savedImgs, setSavedImgs] = useState([])\n  const [savedImagesFiles, setSavedImagesFiles] = useState([])\n  const [savedDocs, setSavedDocs] = useState([])\n  const [selectedImg, setSelectedImg] = useState({})\n  const [openModal, setOpenModal] = useState(false)\n  // const [idFromUsers, setIdFromUsers] = useState(false)\n  // Rutoken\n  const [modalStyle] = useState(getModalStyle)\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false)\n  const [rutokenPin, setRutokenPin] = useState(\"\")\n  const [showPin, setShowPin] = useState(false)\n  const [wrongPin, setWrongPin] = useState(false)\n  const [disableButtons, setDisableButtons] = useState(false)\n\n  // Set data from props to state of component\n  useEffect(() => {\n    console.log(\"CORPACTS PROPS\", props)\n    setCorpActionsAttachFileButtonId(getUUID())\n    setMenuId(getUUID())\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      for (let i = 0; i < props.userTask.enumData.length; i++) {\n        if (props.userTask.enumData[i] !== null) {\n          if (props.userTask.enumData[i].name === \"partners\") {\n            let newPartners = []\n            if (userProfile.userRole === \"1\" || userProfile.userRole === \"2\" || userProfile.userRole === \"5\") {\n              for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n                newPartners.push(props.userTask.enumData[i].data[d].id)\n              }\n            }\n            else {\n              newPartners.push(1)\n            }\n            setPartners(newPartners)\n          }\n        }\n        else {\n          if (i === 0) {\n            setPartners([])\n            props.callErrorToast(\"Ошибка сбора справочной информации Partners\")\n          }\n          else {\n            props.callErrorToast(\"Ошибка сбора справочной информации Users\")\n          }\n        }\n      }\n    }\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList)\n        console.log(\"DOCL\", parsedData)\n        setInitialDocList(parsedData)\n        let filteredDocL = []\n        for (let i = 0; i < parsedData.recipient.length; i++) {\n          if (parsedData.recipient[i].recipient_status === 1 || parsedData.recipient[i].recipient_status === 2) {\n            filteredDocL.push(parsedData.recipient[i])\n          }\n        }\n        fetchBySize(0, 9, filteredDocL)\n        setFilteredDocList(filteredDocL)\n      }\n      catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType)\n        setFilteredDocList([])\n        setInitialDocList([])\n        setDocList([])\n      }\n    }\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc)\n      console.log(\"SDOC\", parsedSelectedDoc)\n      setSelectedDoc(parsedSelectedDoc)\n    }\n    if (props.userTask.savedDocs.length !== 0) {\n      console.log(\"SAVED DOCS\", props.userTask.savedDocs)\n      for (let d = 0; d < props.userTask.savedDocs.length; d++) {\n        let extension = props.userTask.savedDocs[d].extension\n        let type = \"\"\n        if (extension === \".png\") {\n          type = \"image/png\"\n        }\n        else if (extension === \".jpeg\" || extension === \".jpg\") {\n          type = \"image/jpeg\"\n        }\n        else if (extension === \".doc\") {\n          type = \"application/msword\"\n        }\n        else if (extension === \".docx\") {\n          type = \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n        }\n        else if (extension === \".xlsx\") {\n          type = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n        }\n        else if (extension === \".pdf\" || extension === \".PDF\") {\n          type = \"application/pdf\"\n        }\n        let convFile = convertBase64ToFile(props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName, type)\n        handleAttachSavedFile(convFile)\n      }\n    }\n    setUpdateState(getUUID())\n  }, [])\n  // RuToken functions\n  function handlePinChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    setRutokenPin(event.target.value)\n    console.log(\"PIN\", event.target.value)\n  }\n  function handleClickShowPin() {\n    setShowPin(!showPin)\n  }\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false)\n  }\n  rutoken.ready\n    // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n    .then(function () {\n      if (window.chrome || typeof InstallTrigger !== 'undefined') {\n        return rutoken.isExtensionInstalled()\n      } else {\n        return Promise.resolve(true)\n      }\n    })\n    // Проверка установки Рутокен Плагина\n    .then(function (result) {\n      if (result) {\n        return rutoken.isPluginInstalled()\n      } else {\n        // alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n      }\n    })\n    // Загрузка плагина\n    .then(function (result) {\n      if (result) {\n        return rutoken.loadPlugin()\n      } else {\n        // alert(\"Не удаётся найти Плагин\");\n      }\n    })\n    //Можно начинать работать с плагином\n    .then(function (result) {\n      if (!result) {\n        return // alert(\"Не удаётся загрузить Плагин\")\n      } else {\n        plugin = result\n        return Promise.resolve()\n      }\n    })\n\n  // catch errors while signing docs\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true)\n          break;\n        default:\n          props.callErrorToast(\"Неизвестная ошибка\");\n      }\n    }\n  }\n  // Sign transfer order with rutoken\n  function sign(commandJson) {\n    try {\n      // Получение текста для подписи\n      if (plugin !== undefined) {\n        // Перебор подключенных Рутокенов\n        plugin.enumerateDevices()\n          .then(function (devices) {\n            if (devices.length > 0) {\n              return Promise.resolve(devices[0]);\n            } else {\n              alert(\"Рутокен не обнаружен\");\n            }\n          })\n          // Проверка залогиненности\n          .then(function (firstDevice) {\n            rutokenHandle = firstDevice;\n            return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n          })\n          // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n          .then(function (isLoggedIn) {\n            if (isLoggedIn) {\n              return Promise.resolve();\n            } else {\n              return plugin.login(rutokenHandle, rutokenPin);\n            }\n          })\n          // Перебор пользовательских сертификатов на токене\n          .then(function () {\n            return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n          })\n          .then(function (certs) {\n            if (certs.length > 0) {\n              certHandle = certs[0];\n              return plugin.parseCertificate(rutokenHandle, certs[0]);\n            } else {\n              alert(\"Сертификат на Рутокен не обнаружен\");\n            }\n          })\n          // Подписание данных из текстового поля на первом найденом сертификате\n          .then(async function (certs) {\n            certData = certs\n            // console.log(\"RUTDATA\", certData)\n            if (certHandle.length > 0) {\n\n              var options = {};\n\n              let inn = \"\"\n              let fullName = \"\"\n              for (let i = 0; i < certData.subject.length; i++) {\n                if (certData.subject[i].rdn === \"serialNumber\") {\n                  inn = certData.subject[i].value\n                }\n                if (certData.subject[i].rdn === \"commonName\") {\n                  fullName = certData.subject[i].value\n                }\n              }\n              let newMailBody = JSON.parse(commandJson.variables.mailBody.value)\n              newMailBody.mails.es_date = moment(new Date()).format()\n              newMailBody.mails.es_full_name = fullName\n              newMailBody.mails.es_inn = inn\n              let newCommandJson = commandJson\n              newCommandJson.variables.mailBody.value = JSON.stringify(newMailBody)\n              props.setEsInn(inn)\n              props.setEsUserFullName(fullName)\n              props.setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1))\n              handleCloseModalEnterPin()\n              let signedBlobs = await signBlobs(fullName, inn, certData.validNotAfter.substring(0, certData.validNotAfter.length - 1))\n              newCommandJson.blobs = signedBlobs\n              console.log(\"SIGNED CJ\", newCommandJson)\n              await sendMails(signedBlobs)\n              props.sendFieldValues(newCommandJson)\n              props.clearTabData(process_id)\n              return plugin.sign(rutokenHandle, certHandle, \"textToSign\", plugin.DATA_FORMAT_PLAIN, options);\n            } else {\n              alert(\"Сертификат на Рутокен не обнаружен\")\n            }\n          })\n          // Закрытие сессии\n          .then(function () {\n            plugin.logout(rutokenHandle)\n          }, handleError)\n      }\n      else { props.callErrorToast(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\") }\n    }\n    catch (er) {\n      console.log(\"Rutoken ERR\")\n    }\n  }\n  async function signBlobs(fullName, inn, expiredDate) {\n    let signedBlobs = []\n    for (let i = 0; i < Blobs.length; i++) {\n      if (Blobs[i].type === \"application/pdf\") {\n        for (let a = 0; a < files.length; a++) {\n          if (Blobs[i].name === files[a].name) {\n            console.log(\"SIGN\", fullName)\n            let formData = new FormData()\n            formData.append(\"formFile\", files[a], files[a].name)\n            let url = props.api + \"/Template/AddWatermark?text=ФИО: \" + fullName + \" ПИН: \" + inn + \" \" + expiredDate\n            var requestOptions = {\n              method: 'POST',\n              body: formData,\n              redirect: 'follow'\n            }\n            let signedBlob = await fetch(url, requestOptions)\n              .then(response => response.blob())\n              .then(bl => {\n                let pdf = new Blob([bl], { type: \"application/pdf\" })\n                async function blobToBase64(blob) {\n                  return new Promise((resolve, _) => {\n                    const reader = new FileReader()\n                    reader.onloadend = () => resolve(reader.result.split(\",\")[1])\n                    reader.readAsDataURL(blob)\n                  })\n                }\n                // let newBlob = {}\n                let newBlob = blobToBase64(pdf)\n                  .then(base64 => {\n                    return newBlob = { \"name\": Blobs[i].name, \"blob\": base64, \"size\": bl.size, type: Blobs[i].type }\n                  })\n                return newBlob\n              })\n              .catch(error => console.log('error', error))\n            signedBlobs.push(signedBlob)\n          }\n        }\n      }\n      else {\n        signedBlobs.push(Blobs[i])\n      }\n    }\n    console.log(\"signedBlobs\", signedBlobs)\n    return signedBlobs\n  }\n  // Documents attached to mail\n  function convertBase64ToFile(content, fileName, type) {\n    // let du = \"\"\n    // if (extension === \".png\") {\n    //   du = \"data:image/png;base64,\"\n    // }\n    // else if (extension === \".jpeg\" || extension === \".jpg\") {\n    //   du = \"data:image/jpeg;base64,\"\n    // }\n    // else if (extension === \".doc\") {\n    //   du = \"data:application/msword;base64,\"\n    // }\n    // else if (extension === \".docx\") {\n    //   du = \"data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,\"\n    // }\n    // else if (extension === \".xlsx\") {\n    //   du = \"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,\"\n    // }\n    // else if (extension === \".pdf\" || extension === \".PDF\") {\n    //   du = \"data:application/pdf;base64,\"\n    // }\n    let dataurl = \"data:\" + type + \";base64,\" + content\n    var arr = dataurl.split(','),\n      mime = arr[0].match(/:(.*?);/)[1],\n      bstr = atob(arr[1]),\n      n = bstr.length,\n      u8arr = new Uint8Array(n)\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n)\n    }\n    let convFile = new File([u8arr], fileName, { type: mime })\n    return convFile\n    // console.log(\"CONV FILE\", convFile)\n  }\n  function handleAttachSavedFile(file) {\n    // console.log(\"FILE\", file)\n    if (file.type === \"application/pdf\" || file.type === \"application/msword\" ||\n      file.type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" ||\n      file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\") {\n      savedDocs.push(file)\n      setSavedDocs(savedDocs)\n    }\n    else {\n      savedImagesFiles.push(file)\n      setSavedImagesFiles(savedImagesFiles)\n      pushSavedImage(file)\n    }\n    // setUpdateState(getUUID())\n  }\n  async function pushSavedImage(f) {\n    let reader = new FileReader()\n    reader.onload = async function (e) {\n      // push new images to list and show in UI\n      let image = { item: <img name={f.name} height=\"150\" width=\"auto\" src={e.target.result} onClick={() => savedImgClick(f.name)} /> }\n      savedImgs.push(image)\n      // console.log(\"IMGLIST\", savedImgs)\n      setSavedImgs(savedImgs)\n      setUpdateState(getUUID())\n    }\n    reader.readAsDataURL(f)\n  }\n  async function savedImgClick(name) {\n    for (let l = 0; l < savedImgs.length; l++) {\n      if (savedImgs[l].item.props.name === name) {\n        console.log(\"IMG\", savedImgs[l])\n        setSelectedImg({\n          name: savedImgs[l].item.props.name,\n          height: \"700\",\n          width: \"auto\",\n          src: savedImgs[l].item.props.src\n        })\n      }\n    }\n    handleOpenModal()\n    let newId = getUUID()\n    setUpdateState(newId)\n  }\n  const handleOpenModal = () => {\n    setOpenModal(true)\n  }\n  const handleCloseModal = () => {\n    setOpenModal(false)\n  }\n  const openMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  }\n  const closeMenuClick = () => {\n    setAnchorEl(null)\n  }\n  const handleContextMenu = (event) => {\n    event.preventDefault()\n    console.log(\"CONT MENU\")\n    setMailAnchorEl(event.currentTarget)\n  }\n\n  function handleChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value\n    setFieldValue(fieldValue)\n    // console.log(\"FIELDVALUE\", fieldValue)\n  }\n  // random UUID generator\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\")\n    return uuidv1()\n  }\n  // random numbers generator\n  function keyGen(length) {\n    var password = generator.generate({\n      length: length,\n      numbers: true\n    })\n    return password\n  }\n  function swAllert(text, icon) {\n    return (\n      swal({\n        text: text,\n        icon: icon,\n        buttons: { ok: \"Ок\" },\n      })\n    )\n  }\n  function getEmail(id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === \"partners\") {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].email\n          }\n        }\n      }\n    }\n  }\n  async function buttonClick(name, item) {\n    if (name === \"send\") {\n      if (selectedPartners.length === 0) {\n        swAllert(\"Выберите как минимум одного получателя!\", \"warning\")\n      }\n      else {\n        setDisableButtons(true)\n        sendMails(Blobs)\n        // Create Mail Body for local notifications\n        let files_dir = getUUID()\n        let mailBody = {\n          mails: {\n            type: messageType,\n            subject: fieldValue.subject,\n            body: fieldValue.body,\n            files_directory: files_dir,\n            status: 3,\n            sender: parseInt(userProfile.partner),\n            es_date: null,\n            es_full_name: null,\n            es_inn: null\n          },\n          mail_distributions: []\n        }\n\n        // Push recipient of local system mail\n        for (let s = 0; s < selectedPartners.length; s++) {\n          let newDistribution = {\n            sender: parseInt(userProfile.partner),\n            sender_status: 3,\n            recipient_status: 1,\n            recipient: selectedPartners[s]\n          }\n          mailBody.mail_distributions.push(newDistribution)\n          console.log(\"mailBody\", mailBody)\n        }\n        // Files attached to mail\n        let blobs = []\n        for (let f = 0; f < files.length; f++) {\n          for (let b = 0; b < Blobs.length; b++) {\n            if (files[f].name === Blobs[b].name) {\n              // console.log(\"MATCH\", files[f].name, Blobs[b])\n              blobs.push(Blobs[b])\n            }\n          }\n        }\n        const commandJson =\n        {\n          commandType: \"sendMails\",\n          process_id: process_id,\n          session_id: session_id,\n          taskID: taskID,\n          directory: files_dir,\n          blobs: blobs,\n          variables: {\n            userAction: { value: \"sendMail\" },\n            mailBody: { value: JSON.stringify(mailBody) }\n          }\n        }\n        // console.log(\"button sendMail: \", commandJson)\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (name === \"sendWithES\") {\n      if (selectedPartners.length === 0) {\n        swAllert(\"Выберите как минимум одного получателя!\", \"warning\")\n      }\n      else {\n        // Create Mail Body for local notifications\n        setDisableButtons(true)\n        let files_dir = getUUID()\n        let mailBody = {\n          mails: {\n            type: messageType,\n            subject: fieldValue.subject,\n            body: fieldValue.body,\n            files_directory: files_dir,\n            status: 3,\n            sender: parseInt(userProfile.partner),\n            es_date: moment(new Date()).format(),\n            es_full_name: props.esFullName,\n            es_inn: props.esInn\n          },\n          mail_distributions: []\n        }\n        console.log(\"mailBody\", mailBody)\n        // Push recipient of local system mail\n        for (let s = 0; s < selectedPartners.length; s++) {\n          let newDistribution = {\n            sender: parseInt(userProfile.partner),\n            sender_status: 3,\n            recipient_status: 1,\n            recipient: selectedPartners[s]\n          }\n          mailBody.mail_distributions.push(newDistribution)\n        }\n        // Files attached to mail\n        let blobs = []\n        for (let f = 0; f < files.length; f++) {\n          for (let b = 0; b < Blobs.length; b++) {\n            if (files[f].name === Blobs[b].name) {\n              // console.log(\"MATCH\", files[f].name, Blobs[b])\n              blobs.push(Blobs[b])\n            }\n          }\n        }\n\n        const commandJson =\n        {\n          commandType: \"sendMails\",\n          process_id: process_id,\n          session_id: session_id,\n          taskID: taskID,\n          directory: files_dir,\n          blobs: blobs,\n          variables: {\n            userAction: { value: \"sendMail\" },\n            mailBody: { value: JSON.stringify(mailBody) }\n          }\n        }\n\n        if (props.esInn !== null) {\n          let signedBlobs = await signBlobs(props.fullName, props.inn, props.certData.validNotAfter.substring(0, props.certData.validNotAfter.length - 1))\n          commandJson.blobs = signedBlobs\n          // props.sendFieldValues(commandJson)\n          // props.clearTabData(process_id)\n        }\n        else {\n          sign(commandJson)\n        }\n        console.log(\"button sendMailES: \", commandJson)\n      }\n    }\n    else if (name === \"showReport\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"showReport\" },\n          reportName: { value: \"Message_alert\" },\n          reportVars: { value: \"?id=\" + selectedDoc.mail_id },\n        }\n      }\n      console.log(\"button showReport:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (name === \"backToSearchForm\") {\n      setMessageType(selectedMessage.type)\n      setSelectedPartners([selectedMessage.recipient])\n      setFieldValue({ subject: selectedMessage.subject, body: selectedMessage.body })\n    }\n    else if (name === \"back\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"back\" },\n        }\n      }\n      console.log(\"button back:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n  }\n  async function sendMails(f) {\n    // console.log(\"SEND MAILS\", f)\n    // Create FormData\n    let formData = new FormData()\n    formData.append(\"subject\", fieldValue[\"subject\"])\n    formData.append(\"body\", fieldValue[\"body\"])\n    for (let i = 0; i < f.length; i++) {\n      let convFile = convertBase64ToFile(f[i].blob, f[i].name, f[i].type)\n      formData.append('attachments', convFile, f[i].name)\n      // formData.append('attachments', f[i], f[i].name)\n    }\n    for (let p = 0; p < selectedPartners.length; p++) {\n      formData.append(\"toEmail\", getEmail(selectedPartners[p]))\n      await fetch(\n        props.api + \"/Mail/SendMail\",\n        {\n          mode: 'no-cors',\n          method: 'POST',\n          body: formData\n        }\n      )\n        .then(response => {\n          console.log(\"RES SEND MAIL\", response)\n        })\n        .catch(error => console.error(error))\n    }\n  }\n  function getRecipientId(partner) {\n    console.log(\"Partner ID\", partner)\n    let recipientId = null\n    for (let e = 0; e < enumData.length; e++) {\n      if (enumData[e].name === \"users\") {\n        for (let d = 0; d < enumData[e].data.length; d++) {\n          let parsedAttr = JSON.parse(enumData[e].data[d].attributes)\n          if (partner === parseInt(parsedAttr[\"partner\"])) {\n            recipientId = enumData[e].data[d].id\n          }\n        }\n      }\n    }\n    console.log(\"RES ID\", recipientId)\n    return recipientId\n  }\n  // Pagination functions\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1)\n      fetchBySize(0, size - 1, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1\n      setPage(prevPage)\n      let fetchFrom = ((prevPage - 1) * size) //10\n      let fetchTo = (size * prevPage) - 1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\")\n      setShowSnackBar(true)\n    }\n    else {\n      setPage(page + 1)\n      let fetchFrom = (size * page)\n      let fetchTo = ((page + 1) * size) - 1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n\n  }\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value)\n    setPage(1)\n    fetchBySize(0, event.target.value - 1, filteredDocList)\n  }\n  function GoToPage() {\n    let fetchFrom = (page * size - 1) - size\n    let fetchTo = page * size - 1\n    fetchBySize(fetchFrom, fetchTo, filteredDocList)\n  }\n  function handlePageChange(event) {\n    setPage(event.target.value)\n  }\n  function getPageAmount() {\n    let pagesFloat = (filteredDocList.length) / size\n    let mathRoundOfPages = Math.round(pagesFloat)\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1\n    }\n    else {\n      return mathRoundOfPages\n    }\n  }\n  function handleCloseSnackBar() {\n    setShowSnackBar(false)\n  }\n  // get rows amount of filtered docs by size\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    let newDocList = []\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i])\n      }\n    }\n    setDocList(newDocList)\n    setUpdateState(getUUID())\n  }\n  // Convert date to approptiate format\n  function beautifyDate(date) {\n    try {\n      var newDate = new Date(date) // \"2020-01-26\"\n      var dd = String(newDate.getDate()).padStart(2, '0')\n      var mm = String(newDate.getMonth() + 1).padStart(2, '0') //January is 0!\n      var yyyy = newDate.getFullYear()\n      let beautyDate = \"\"\n      if (parseInt(dd) < 10) {\n        let shortdd = dd.substring(1, 2)\n        dd = shortdd + \" \"\n      }\n      else { beautyDate += dd }\n      switch (mm) {\n        case \"01\": {\n          mm = \"янв.\"\n          break\n        }\n        case \"02\": {\n          mm = \"февр.\"\n          break\n        }\n        case \"03\": {\n          mm = \"мар.\"\n          break\n        }\n        case \"04\": {\n          mm = \"апр.\"\n          break\n        }\n        case \"05\": {\n          mm = \"мая\"\n          break\n        }\n        case \"06\": {\n          mm = \"июня\"\n          break\n        }\n        case \"07\": {\n          mm = \"июля\"\n          break\n        }\n        case \"08\": {\n          mm = \"авг.\"\n          break\n        }\n        case \"09\": {\n          mm = \"сент.\"\n          break\n        }\n        case \"10\": {\n          mm = \"окт.\"\n          break\n        }\n        case \"11\": {\n          mm = \"ноя.\"\n          break\n        }\n        case \"12\": {\n          mm = \"дек.\"\n          break\n        }\n        default: {\n          break\n        }\n      }\n      beautyDate += \" \" + mm + \" \" + yyyy.toString().substring(2, 4) + \"г.\"\n      // console.log(\"beautyDate\", beautyDate)\n      return beautyDate\n    }\n    catch (er) {\n      return \"NaN.NaN.NaN\"\n    }\n  }\n  // multiple selector functions\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  }\n  const handleAllRight = () => {\n    if (partnersSearchField === \"\") {\n      setSelectedPartners(selectedPartners.concat(partners))\n      setPartners([])\n    }\n    else {\n      let filteredSelectedPartners = []\n      let filteredPartners = []\n      for (let p = 0; p < partners.length; p++) {\n        let searchField = partnersSearchField.toLowerCase()\n        let listItemLabel = getPartnerName(partners[p]).toLowerCase()\n        let includeSearch = listItemLabel.includes(searchField)\n        if (includeSearch === true) {\n          filteredSelectedPartners.push(partners[p])\n        }\n        else {\n          filteredPartners.push(partners[p])\n        }\n      }\n      setSelectedPartners(filteredSelectedPartners.concat(selectedPartners))\n      setPartners(filteredPartners)\n    }\n  }\n  const handleCheckedRight = () => {\n    setSelectedPartners(selectedPartners.concat(leftChecked));\n    setPartners(not(partners, leftChecked));\n    setChecked(not(checked, leftChecked));\n  }\n  const handleCheckedLeft = () => {\n    setPartners(partners.concat(rightChecked));\n    setSelectedPartners(not(selectedPartners, rightChecked));\n    setChecked(not(checked, rightChecked));\n  }\n  const handleAllLeft = () => {\n    if (selectedPartnersSearchField === \"\") {\n      setPartners(partners.concat(selectedPartners))\n      setSelectedPartners([])\n    }\n    else {\n      let filteredPartners = []\n      let filteredSelectedPartners = []\n      for (let p = 0; p < selectedPartners.length; p++) {\n        let searchField = selectedPartnersSearchField.toLowerCase()\n        let listItemLabel = getPartnerName(selectedPartners[p]).toLowerCase()\n        let includeSearch = listItemLabel.includes(searchField)\n        if (includeSearch === true) {\n          filteredPartners.push(selectedPartners[p])\n        }\n        else {\n          filteredSelectedPartners.push(selectedPartners[p])\n        }\n      }\n      setSelectedPartners(filteredSelectedPartners)\n      setPartners(filteredPartners.concat(partners))\n    }\n  }\n  const partnersList = (items) => (\n    <Paper className={classes.paper}>\n      <List dense component=\"div\" role=\"list\">\n        {items.map((value) => {\n          const labelId = `transfer-list-item-${value}-label`;\n          if (partnersSearchField === \"\") {\n            return (\n              <ListItem key={value} role=\"listitem\" button onClick={handleToggle(value)}>\n                <Checkbox\n                  checked={checked.indexOf(value) !== -1}\n                  tabIndex={-1}\n                  disableRipple\n                  inputProps={{ 'aria-labelledby': labelId }}\n                />\n                <ListItemText id={labelId} primary={getPartnerName(value)} />\n              </ListItem>\n            )\n          }\n          else {\n            let searchField = partnersSearchField.toLowerCase()\n            let listItemLabel = getPartnerName(value).toLowerCase()\n            let includeSearch = listItemLabel.includes(searchField)\n            if (includeSearch === true) {\n              return (\n                <ListItem key={value} role=\"listitem\" button onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={checked.indexOf(value) !== -1}\n                    tabIndex={-1}\n                    disableRipple\n                    inputProps={{ 'aria-labelledby': labelId }}\n                  />\n                  <ListItemText id={labelId} primary={getPartnerName(value)} />\n                </ListItem>\n              )\n            }\n          }\n\n        })}\n        <ListItem />\n      </List>\n    </Paper>\n  )\n  function partnersSearchFieldChange(event) {\n    setPartnersSearchField(event.target.value)\n    setFocusField(\"partnersSearhField\")\n  }\n  const selectedPartnersList = (items) => (\n    <Paper className={classes.paper}>\n      <List dense component=\"div\" role=\"list\">\n        {items.map((value) => {\n          const labelId = `transfer-list-item-${value}-label`;\n          if (selectedPartnersSearchField === \"\") {\n            return (\n              <ListItem key={value} role=\"listitem\" button onClick={handleToggle(value)}>\n                <Checkbox\n                  checked={checked.indexOf(value) !== -1}\n                  tabIndex={-1}\n                  disableRipple\n                  inputProps={{ 'aria-labelledby': labelId }}\n                />\n                <ListItemText id={labelId} primary={getPartnerName(value)} />\n              </ListItem>\n            )\n          }\n          else {\n            let searchField = selectedPartnersSearchField.toLowerCase()\n            let listItemLabel = getPartnerName(value).toLowerCase()\n            let includeSearch = listItemLabel.includes(searchField)\n            if (includeSearch === true) {\n              return (\n                <ListItem key={value} role=\"listitem\" button onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={checked.indexOf(value) !== -1}\n                    tabIndex={-1}\n                    disableRipple\n                    inputProps={{ 'aria-labelledby': labelId }}\n                  />\n                  <ListItemText id={labelId} primary={getPartnerName(value)} />\n                </ListItem>\n              )\n            }\n          }\n\n        })}\n        <ListItem />\n      </List>\n    </Paper>\n  )\n  function selectedPartnersSearchFieldChange(event) {\n    setSelectedPartnersSearchField(event.target.value)\n    setFocusField(\"selectedPartnersSearhField\")\n  }\n  function getPartnerName(id) {\n    for (let i = 0; i < props.userTask.enumData.length; i++) {\n      if (props.userTask.enumData[i].name === \"partners\") {\n        for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n          if (props.userTask.enumData[i].data[d].id === id) {\n            return props.userTask.enumData[i].data[d].label\n            break\n          }\n        }\n      }\n    }\n  }\n  const writeMessgeClick = (type) => {\n    setMessageType(type)\n    setAnchorEl(null)\n    setWriteMessage(true)\n  }\n  const handleSelectAllMessagesChange = (event) => {\n    setAllMessagesSelected(event.target.checked)\n    for (let i = 0; i < filteredDocList.length; i++) {\n      selectedMessages[filteredDocList[i].mail_id] = event.target.checked\n    }\n    setSelectedMessages(selectedMessages)\n  }\n  const handleSelectMessage = (event) => {\n    console.log(\"Check MESS\", event.target.id, \"CH \", event.target.checked)\n    setSelectedMessages({ ...selectedMessages, [event.target.id]: event.target.checked })\n  }\n  // file attachment functions\n  function handleAttachFile(e) {\n    let selectedFiles = e.target.files\n    if (selectedFiles && selectedFiles[0]) {\n      for (let i = 0; i < selectedFiles.length; i++) {\n        files.push(selectedFiles[i])\n        pushNewBlob(selectedFiles[i])\n      }\n      setFiles(files)\n    }\n    setUpdateState(getUUID())\n    console.log(\"FILES\", files)\n  }\n  // attached documents\n  async function pushNewBlob(f) {\n    // console.log(\"WRITING BLOBS\")\n    let docUrl = URL.createObjectURL(f)\n    fetch(docUrl)\n      .then(res => res.blob())\n      .then(blob => {\n        // blob.name = f.name\n        var blobToBase64 = function (f, cb) {\n          let reader = new FileReader()\n          reader.onload = function () {\n            // converts blob to base64\n            var dataUrl = reader.result\n            var base64 = dataUrl.split(\",\")[1]\n            cb(base64)\n          }\n          reader.readAsDataURL(f)\n        }\n        blobToBase64(f, async function (base64) {\n          // encode blobs to send to socket\n          let newBlob = { \"name\": f.name, \"blob\": base64, \"size\": f.size, type: f.type }\n          Blobs.push(newBlob)\n          setBlobs(Blobs)\n          // console.log(\"BLOBS\", Blobs)\n        })\n      })\n  }\n  function deleteFile(name) {\n    let newFilesList = []\n    for (let i = 0; i < files.length; i++) {\n      if (name !== files[i].name) {\n        newFilesList.push(files[i])\n      }\n    }\n    setFiles(newFilesList)\n    console.log(\"FILES\", newFilesList)\n  }\n  function filesList() {\n    let selFilesList = []\n    for (let i = 0; i < files.length; i++) {\n      selFilesList.push(\n        <Card style={{ margin: 3, backgroundColor: \"#E2E2E2\", paddingLeft: 20 }}>\n          <table>\n            <tr minWidth=\"500px\">\n              <td style={{ color: \"#1B2CE8\", fontWeight: \"bold\", width: \"95%\" }}>\n                {files[i].name + \" \"}{\"(\" + Math.round(files[i].size / 1000) + \")\" + \"КБ\"}\n              </td>\n              <td align=\"right\">\n                <IconButton>\n                  <CloseIcon style={{ fontSize: \"medium\", color: \"black\" }} onClick={() => deleteFile(files[i].name)} />\n                </IconButton>\n              </td>\n            </tr>\n          </table>\n        </Card>)\n      // console.log(\"FILE\", files[i])\n    }\n    return (selFilesList)\n  }\n  function handleSearchChange(event) {\n    setSearchFieldValue(event.target.value)\n    console.log(\"FIELDVALUE\", event.target.value)\n  }\n  function handleClickSearch() {\n    console.log(\"SEARCH\", searchFieldValue, clickedMessagesType, filteredDocList)\n    if (searchFieldValue === \"\") {\n      if (clickedMessagesType === \"inbox\") {\n        handleInboxMessagesClick()\n      }\n      else if (clickedMessagesType === \"sent\") {\n        handleSentMessagesClick()\n      }\n      else if (clickedMessagesType === \"trash\") {\n        handleTrashMessagesClick()\n      }\n    }\n    else {\n      let newDocList = []\n      if (clickedMessagesType === \"inbox\") {\n        for (let i = 0; i < initialDocList.recipient.length; i++) {\n          if (initialDocList.recipient[i].recipient_status === 1 || initialDocList.recipient[i].recipient_status === 2) {\n            try {\n              let subject = initialDocList.recipient[i].subject.toLowerCase()\n              let body = initialDocList.recipient[i].body.toLowerCase()\n              let searchField = searchFieldValue.toLowerCase()\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.recipient[i].subject, initialDocList.recipient[i].body)\n                newDocList.push(initialDocList.recipient[i])\n              }\n            }\n            catch (er) { console.log(er) }\n          }\n        }\n      }\n      else if (clickedMessagesType === \"sent\") {\n        for (let i = 0; i < initialDocList.sender.length; i++) {\n          if (initialDocList.sender[i].sender_status === 3) {\n            try {\n              let subject = initialDocList.sender[i].subject.toLowerCase()\n              let body = initialDocList.sender[i].body.toLowerCase()\n              let searchField = searchFieldValue.toLowerCase()\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.sender[i].subject, initialDocList.sender[i].body)\n                newDocList.push(initialDocList.sender[i])\n              }\n            }\n            catch (er) { console.log(er) }\n          }\n        }\n      }\n      else if (clickedMessagesType === \"trash\") {\n        for (let i = 0; i < initialDocList.sender.length; i++) {\n          if (initialDocList.sender[i].sender_status === 4) {\n            try {\n              let subject = initialDocList.sender[i].subject.toLowerCase()\n              let body = initialDocList.sender[i].body.toLowerCase()\n              let searchField = searchFieldValue.toLowerCase()\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.sender[i].subject, initialDocList.sender[i].body)\n                newDocList.push(initialDocList.sender[i])\n              }\n            }\n            catch (er) { console.log(er) }\n          }\n        }\n        for (let i = 0; i < initialDocList.recipient.length; i++) {\n          if (initialDocList.recipient[i].recipient_status === 4) {\n            try {\n              let subject = initialDocList.recipient[i].subject.toLowerCase()\n              let body = initialDocList.recipient[i].body.toLowerCase()\n              let searchField = searchFieldValue.toLowerCase()\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.recipient[i].subject, initialDocList.recipient[i].body)\n                newDocList.push(initialDocList.recipient[i])\n              }\n            }\n            catch (er) { console.log(er) }\n          }\n        }\n      }\n\n      fetchBySize(0, 9, newDocList)\n      setFilteredDocList(newDocList)\n    }\n\n  }\n  function handleInboxMessagesClick() {\n    setClickedMessagesType(\"inbox\")\n    setAllMessagesSelected(false)\n    let filteredDocL = []\n    for (let i = 0; i < initialDocList.recipient.length; i++) {\n      if (initialDocList.recipient[i].recipient_status === 1 || initialDocList.recipient[i].recipient_status === 2) {\n        filteredDocL.push(initialDocList.recipient[i])\n      }\n    }\n    fetchBySize(0, 9, filteredDocL)\n    setFilteredDocList(filteredDocL)\n    console.log(\"INBOX\")\n  }\n  function handleSentMessagesClick() {\n    setClickedMessagesType(\"sent\")\n    setAllMessagesSelected(false)\n    let filteredDocL = []\n    for (let i = 0; i < initialDocList.sender.length; i++) {\n      if (initialDocList.sender[i].sender_status === 3) {\n        filteredDocL.push(initialDocList.sender[i])\n      }\n    }\n    fetchBySize(0, 9, filteredDocL)\n    setFilteredDocList(filteredDocL)\n    console.log(\"SENT\")\n  }\n  function handleTrashMessagesClick() {\n    setClickedMessagesType(\"trash\")\n    setAllMessagesSelected(false)\n    let filteredDocL = []\n    for (let i = 0; i < initialDocList.recipient.length; i++) {\n      if (initialDocList.recipient[i].recipient_status === 4) {\n        filteredDocL.push(initialDocList.recipient[i])\n      }\n    }\n    for (let i = 0; i < initialDocList.sender.length; i++) {\n      if (initialDocList.sender[i].sender_status === 4) {\n        filteredDocL.push(initialDocList.sender[i])\n      }\n    }\n    fetchBySize(0, 9, filteredDocL)\n    setFilteredDocList(filteredDocL)\n    console.log(\"TRASH\")\n  }\n  function getSenderName(sender) {\n    // console.log(\"enumData\", enumData)\n    for (let e = 0; e < enumData.length; e++) {\n      if (enumData[e].name === \"partners\") {\n        for (let d = 0; d < enumData[e].data.length; d++) {\n          if (enumData[e].data[d].id === sender) {\n            return enumData[e].data[d].label\n          }\n        }\n      }\n    }\n    // for (let e = 0; e < enumData.length; e++) {\n    //   if (enumData[e].name === \"users\") {\n    //     for (let d = 0; d < enumData[e].data.length; d++) {\n    //       if (enumData[e].data[d].id === sender) {\n    //         return enumData[e].data[d].firstname + \" \" + enumData[e].data[d].lastname\n    //       }\n    //     }\n    //   }\n    // }\n  }\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === name) {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].label\n          }\n        }\n      }\n    }\n  }\n  function getBackround(status) {\n    if (status === 1) {// message is unread\n      return \"#FFDCA5\"\n    }\n    else {\n      return \"#F0F1F1\"\n    }\n  }\n  function getFontWeight(status) {\n    if (status === 1) {\n      return \"bold\"\n    }\n    else {\n      return \"nornal\"\n    }\n  }\n  function checkToShowDeleteButton() {\n    let showButton = false\n    if (Object.keys(selectedMessages).length > 0) {\n      for (let key in selectedMessages) {\n        if (selectedMessages[key] === true) {\n          showButton = true\n          break\n        }\n      }\n    }\n    return showButton\n  }\n  function openMessage(message) {\n    if (clickedMessagesType === \"inbox\") {\n      // let user_id = null\n      // for (let e = 0; e < enumData.length; e++) {\n      //   if (enumData[e].name === \"users\") {\n      //     for (let d = 0; d < enumData[e].data.length; d++) {\n      //       if (enumData[e].data[d].user_id === userProfile.userId) {\n      //         user_id = enumData[e].data[d].id\n      //       }\n      //     }\n      //   }\n      // }\n      let mailDistrBody = {\n        id: message.distribution_id,\n        mail_id: message.mail_id,\n        sender: message.sender,\n        recipient: message.recipient,\n        recipient_status: 2,\n        created_at: message.created_at,\n        updated_at: message.updated_at\n      }\n      // let unreadDistributionsBody = {\n      //   variables: {\n      //     user_session_id: { value: session_id },\n      //     userAction: { value: \"getUnreadDistributions\" },\n      //     // depoRESTApi: { value: \"\" },\n      //     user_id_recipient: { value: message.recipient }\n      //   }\n      // }\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"openMailDistribution\" },\n          mailDistrBody: { value: JSON.stringify(mailDistrBody) },\n          selectedDoc: { value: JSON.stringify(message) },\n          // unreadDistributionsBody: { value: JSON.stringify(unreadDistributionsBody) }\n        }\n      }\n      console.log(\"button openMail: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n      props.reduceMailDistributions()\n    }\n    else {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"openMail\" },\n          selectedDoc: { value: JSON.stringify(message) },\n        }\n      }\n      console.log(\"button openMail: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n  }\n  function deleteMessages() {\n    console.log(\"LISTS\", selectedMessages, docList)\n    if (clickedMessagesType === \"inbox\") {\n      let mailDistrList = []\n      for (let d = 0; d < docList.length; d++) {\n        for (let key in selectedMessages) {\n          if (selectedMessages[key] === true) {\n            if (docList[d].mail_id === parseInt(key)) {\n              let mailToDelete = {\n                id: docList[d].distribution_id,\n                sender: docList[d].sender,\n                recipient: docList[d].recipient,\n                recipient_status: 4,\n                mail_id: docList[d].mail_id,\n                created_at: docList[d].created_at,\n                updated_at: docList[d].updated_at\n              }\n              mailDistrList.push(mailToDelete)\n              console.log(\"DEL\", mailToDelete)\n            }\n          }\n        }\n      }\n      let unreadDistributionsBody = {\n        variables: {\n          user_session_id: { value: session_id },\n          userAction: { value: \"getUnreadDistributions\" },\n          depoRESTApi: { value: \"\" },\n          user_id_recipient: { value: docList[0].recipient }\n        }\n      }\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"putMailsToTrash\" },\n          mailDistrList: { value: JSON.stringify(mailDistrList) },\n          mailList: { value: \"[]\" },\n          unreadDistributionsBody: { value: JSON.stringify(unreadDistributionsBody) }\n        }\n      }\n      console.log(\"button putInboxMailsToTrash: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n      props.reduceMailDistributions()\n    }\n    else if (clickedMessagesType === \"sent\") {\n      let mailList = []\n      for (let d = 0; d < docList.length; d++) {\n        for (let key in selectedMessages) {\n          if (selectedMessages[key] === true) {\n            if (docList[d].mail_id === parseInt(key)) {\n              let mailToDelete = {\n                id: docList[d].mail_id,\n                sender: docList[d].sender,\n                subject: docList[d].subject,\n                body: docList[d].body,\n                status: 4,\n                files_directory: docList[d].files_directory,\n                created_at: docList[d].created_at,\n                updated_at: docList[d].updated_at\n              }\n              mailList.push(mailToDelete)\n              console.log(\"DEL\", mailToDelete)\n            }\n          }\n        }\n      }\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"putMailsToTrash\" },\n          mailDistrList: { value: \"[]\" },\n          mailList: { value: JSON.stringify(mailList) }\n        }\n      }\n      console.log(\"button putSentMailsToTrash: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (clickedMessagesType === \"trash\") {\n      swal({\n        text: \"Вы действительно хотите удалить сообщения безвозвратно?\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            let mailList = []\n            let mailDistrList = []\n            for (let key in selectedMessages) {\n              if (selectedMessages[key] === true) {\n                console.log(\"TRUE?\", key, selectedMessages[key])\n                for (let d = 0; d < docList.length; d++) {\n                  if (docList[d].mail_id === parseInt(key)) {\n                    console.log(\"DEL\", docList[d].subject)\n                    // I'm sender of mail\n                    // if (docList[d].sender === idFromUsers) {\n                    if (docList[d].sender === parseInt(userProfile.partner)) {\n                      console.log(\"IM SENDER\", docList[d].mail_id)\n                      let mailToDelete = {\n                        id: docList[d].mail_id,\n                        sender: docList[d].sender,\n                        subject: docList[d].subject,\n                        body: docList[d].body,\n                        status: 5,\n                        files_directory: docList[d].files_directory,\n                        created_at: docList[d].created_at,\n                        updated_at: docList[d].updated_at,\n                        deleted: true\n                      }\n                      mailList.push(mailToDelete)\n                    }\n                    // i'm recipient of mail\n                    else {\n                      console.log(\"IM RECIPIENT\", docList[d].mail_id)\n                      let mailToDelete = {\n                        id: docList[d].distribution_id,\n                        sender: docList[d].sender,\n                        recipient: docList[d].recipient,\n                        recipient_status: 5,\n                        mail_id: docList[d].mail_id,\n                        created_at: docList[d].created_at,\n                        updated_at: docList[d].updated_at,\n                        deleted: true\n                      }\n                      mailDistrList.push(mailToDelete)\n                    }\n                  }\n                }\n              }\n            }\n            let unreadDistributionsBody = {\n              variables: {\n                user_session_id: { value: session_id },\n                userAction: { value: \"getUnreadDistributions\" },\n                depoRESTApi: { value: \"\" },\n                user_id_recipient: { value: docList[0].recipient }\n              }\n            }\n            let commandJson =\n            {\n              commandType: \"completeTask\",\n              process_id: process_id,\n              session_id: session_id,\n              taskID: taskID,\n              variables: {\n                userAction: { value: \"putMailsToTrash\" },\n                mailDistrList: { value: JSON.stringify(mailDistrList) },\n                mailList: { value: JSON.stringify(mailList) },\n                unreadDistributionsBody: { value: JSON.stringify(unreadDistributionsBody) }\n              }\n            }\n            console.log(\"button deleteMails: \", commandJson)\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n            // console.log(\"mailList\", mailList)\n            // console.log(\"mailDistrList\", mailDistrList)\n          }\n        })\n    }\n  }\n  function savedDocsList() {\n    console.log(\"SAVEDOCS\", savedDocs)\n    let savedDocsList = []\n    for (let i = 0; i < savedDocs.length; i++) {\n      savedDocsList.push(\n        <Card style={{ margin: 3, backgroundColor: \"#E2E2E2\", paddingLeft: 20, minWidth: \"500px\" }}>\n          <table>\n            <tr>\n              <td style={{ color: \"#1B2CE8\", fontWeight: \"bold\", width: \"95%\" }}>\n                {savedDocs[i].name + \" \"}{\"(\" + Math.round(savedDocs[i].size / 1000) + \")\" + \"КБ\"}\n              </td>\n              <td>\n                <IconButton\n                  component=\"a\"\n                  href={URL.createObjectURL(savedDocs[i])}\n                  download={savedDocs[i].name}\n                >\n                  <GetAppIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                </IconButton>\n              </td>\n            </tr>\n          </table>\n        </Card>)\n      // console.log(\"FILE\", savedDocs[i])\n    }\n    return (savedDocsList)\n  }\n  function savedImgsList() {\n    var imgs = []\n    for (let l = 0; l < savedImgs.length; l++) {\n      let blob = converFileToBlob(savedImgs[l].item.props.src)\n      imgs.push(\n        <TableBody>\n          <TableRow>\n            <TableCell>\n              {savedImgs[l].item}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"center\">\n              <IconButton\n                component=\"a\"\n                href={URL.createObjectURL(blob)}\n                download={savedImgs[l].item.props.name}\n              >\n                <GetAppIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n              </IconButton>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      )\n    }\n    if (Object.keys(imgs).length !== 0) {\n      return (\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"flex-start\">\n          {imgs}\n        </Grid>\n      )\n    }\n  }\n  function converFileToBlob(src) {\n    var byteString = atob(src.split(',')[1])\n    var ab = new ArrayBuffer(byteString.length)\n    var ia = new Uint8Array(ab)\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i)\n    }\n    return new Blob([ab], { type: 'image/jpeg' })\n  }\n  function getMenuItemStyle(name) {\n    if (name === clickedMessagesType) {\n      return {\n        background: \"#F0F1F1\",\n        color: \"black\",\n        fontWeight: \"bold\"\n      }\n    }\n  }\n  function onKeyPressModalEnterPin(event) {\n    let code = event.charCode\n    if (code === 13) {\n      buttonClick(\"sendWithES\")\n    }\n  }\n  function useMessageAsSample() {\n    console.log(\"SEL MES\", selectedMessage)\n    setMessageType(selectedMessage.type)\n    setSelectedPartners([selectedMessage.recipient])\n    setFieldValue({ subject: selectedMessage.subject, body: selectedMessage.body })\n    setWriteMessage(true)\n    setMailAnchorEl(null)\n  }\n  if (updateState !== null) {\n    try {\n      if (taskType === \"corporativeActionsMainForm\") {\n        if (writeMessage === false) {\n          return (\n            <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"flex-start\" spacing={1}>\n              <Grid item xs={3}>\n                <Paper>\n                  <MenuList>\n                    <MenuItem onClick={() => handleInboxMessagesClick()} style={getMenuItemStyle(\"inbox\")}>\n                      <ListItemIcon>\n                        <MailOutlineIcon fontSize=\"small\" style={getMenuItemStyle(\"inbox\")} />\n                      </ListItemIcon>\n                      <Typography variant=\"inherit\">Входящие</Typography>\n                    </MenuItem>\n                    <MenuItem onClick={() => handleSentMessagesClick()} style={getMenuItemStyle(\"sent\")}>\n                      <ListItemIcon>\n                        <SendIcon fontSize=\"small\" style={getMenuItemStyle(\"sent\")} />\n                      </ListItemIcon>\n                      <Typography variant=\"inherit\">Отправленные</Typography>\n                    </MenuItem>\n                    <MenuItem onClick={() => handleTrashMessagesClick()} style={getMenuItemStyle(\"trash\")}>\n                      <ListItemIcon>\n                        <DeleteOutlineIcon fontSize=\"small\" style={getMenuItemStyle(\"trash\")} />\n                      </ListItemIcon>\n                      <Typography variant=\"inherit\">Корзина</Typography>\n                    </MenuItem>\n                  </MenuList>\n                </Paper>\n              </Grid>\n              <Grid item xs={9}>\n                <Grid container direction=\"column\" spacing={1}>\n                  <Grid item xs={12} align=\"left\">\n                    <Paper>\n                      <Checkbox\n                        style={{ color: \"green\" }}\n                        onChange={handleSelectAllMessagesChange}\n                        checked={allMessagesSelected === true ? true : false}\n                      />\n                      {checkToShowDeleteButton() === true &&\n                        <IconButton aria-label=\"delete\" size=\"small\">\n                          <DeleteIcon onClick={() => deleteMessages()} />\n                        </IconButton>\n                      }\n                      <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        startIcon={<CreateIcon />}\n                        style={{ margin: 5, color: \"green\", background: \"white\", fontSize: 14 }}\n                        aria-controls={menuId}\n                        aria-haspopup=\"true\"\n                        onClick={openMenuClick}\n                      >\n                        Написать\n                      </Button>\n                      <Menu\n                        id={menuId}\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={Boolean(anchorEl)}\n                        onClose={closeMenuClick}\n                      >\n                        <MenuItem onClick={() => writeMessgeClick(1)}>Извещение</MenuItem>\n                        <MenuItem onClick={() => writeMessgeClick(2)}>Запрос на раскрытие</MenuItem>\n                        <MenuItem onClick={() => writeMessgeClick(3)}>Информационное сообщение</MenuItem>\n                        <MenuItem onClick={() => writeMessgeClick(4)}>Уведомление о КД</MenuItem>\n                        <MenuItem onClick={() => writeMessgeClick(5)}>Исходящее письмо</MenuItem>\n                      </Menu>\n                      <TextField\n                        size=\"small\"\n                        variant=\"outlined\"\n                        placeholder=\"Поиск в почте\"\n                        style={{ width: \"50%\", paddingLeft: 50, margin: 3 }}\n                        onChange={handleSearchChange}\n                        InputProps={{\n                          endAdornment:\n                            <InputAdornment position=\"end\">\n                              <IconButton\n                                onClick={() => handleClickSearch()}\n                                edge=\"end\"\n                              >\n                                <SearchIcon size=\"small\" />\n                              </IconButton>\n                            </InputAdornment>,\n                        }}\n                      />\n                    </Paper>\n                  </Grid>\n                  <Grid item xs={12} align=\"left\">\n                    <Paper style={{ minHeight: \"76px\", paddingTop: docList === null ? \"25px\" : 0 }}>\n                      {docList !== null ?\n                        <div>\n                          <table class=\"main-table-style\">\n                            <thead class=\"thead-style\">\n                              <tr>\n                                <td class=\"td-head-first-child\"></td>\n                                <td class=\"td-head-style-2row\">Дата</td>\n                                <td class=\"td-head-style-2row\">Тип</td>\n                                <td class=\"td-head-style-2row\">Отправитель</td>\n                                <td class=\"td-head-style-2row\">Заголовок</td>\n                                <td class=\"td-head-last-child\">Содержание</td>\n                              </tr>\n                            </thead>\n                            <tbody class=\"body-style\">\n                              {Object.keys(docList).length !== 0 &&\n                                docList.map(docListItem => (\n                                  <tr\n                                    width=\"100%\"\n                                    style={{\n                                      \"fontSize\": 13,\n                                      \"height\": 30,\n                                      \"background\": clickedMessagesType === \"inbox\" ? getBackround(docListItem.recipient_status) : \"#F0F1F1\",\n                                      \"fontWeight\": clickedMessagesType === \"inbox\" ? getFontWeight(docListItem.recipient_status) : \"normal\",\n                                      \"cursor\": \"pointer\"\n                                    }}\n                                    onMouseDown={() => setSelectedMessage(docListItem)}\n                                  >\n                                    <td style={{ \"border-bottom\": \"1px solid grey\" }}>\n                                      <Checkbox\n                                        style={{ height: 15, color: \"green\", maxWidth: 25 }}\n                                        id={docListItem.mail_id}\n                                        onChange={handleSelectMessage}\n                                        onContextMenu={(ev) => handleContextMenu(ev)}\n                                        checked={selectedMessages[docListItem.mail_id] === true ? true : false}\n                                      />\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\" }}\n                                      align=\"center\"\n                                      width={150}\n                                      onClick={() => openMessage(docListItem)}\n                                      onContextMenu={(ev) => handleContextMenu(ev)}\n                                    >\n                                      {beautifyDate(docListItem.created_at)}\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\" }}\n                                      align=\"center\"\n                                      width={150}\n                                      onClick={() => openMessage(docListItem)}\n                                      onContextMenu={(ev) => handleContextMenu(ev)}\n                                    >\n                                      {getEnumLabel(\"mailTypes\", docListItem.type)}\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\" }}\n                                      width={150}\n                                      onClick={() => openMessage(docListItem)}\n                                      onContextMenu={(ev) => handleContextMenu(ev)}\n                                    >\n                                      {getSenderName(docListItem.sender)}\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\" }}\n                                      onClick={() => openMessage(docListItem)}\n                                      onContextMenu={(ev) => handleContextMenu(ev)}\n                                    >\n                                      {docListItem.subject}\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\", \"white-space\": \"wrap\" }}\n                                      onClick={() => openMessage(docListItem)}\n                                      onContextMenu={(ev) => handleContextMenu(ev)}\n                                    >\n                                      {docListItem.body.substring(0, 50)}{docListItem.body.length > 50 ? \"...\" : \"\"}\n                                    </td>\n                                  </tr>\n                                )\n                                )}\n                            </tbody>\n                          </table>\n\n                          <table size=\"small\" style={{ \"border-collapse\": \"collapse\", \"white-space\": \"nowrap\", fontSize: 13 }}>\n                            <tfoot>\n                              <tr>\n                                <td style={{ paddingLeft: \"20px\" }}>\n                                  <div style={{ minWidth: 80, color: \"black\" }}>Кол-во записей</div>\n                                </td>\n                                <td>\n                                  <FormControl\n                                    variant=\"outlined\"\n                                    style={{ minWidth: 30 }}\n                                  >\n                                    <MaterialSelect\n                                      onChange={handleChangeRowsPerPage}\n                                      style={{ height: 25, color: \"black\" }}\n                                      value={size}\n                                    >\n                                      <MenuItem value={10}>10</MenuItem>\n                                      <MenuItem value={20}>20</MenuItem>\n                                      <MenuItem value={50}>50</MenuItem>\n                                      <MenuItem value={100}>100</MenuItem>\n                                      <MenuItem value={200}>200</MenuItem>\n                                      <MenuItem value={500}>500</MenuItem>\n                                    </MaterialSelect>\n                                  </FormControl>\n                                </td>\n                                <td>\n                                  <Tooltip title=\"На первую страницу\">\n                                    <IconButton onClick={() => KeyboardArrowFirstClick()}>\n                                      <FirstPageIcon style={{ fontSize: \"large\", color: \"black\" }} />\n                                    </IconButton>\n                                  </Tooltip>\n                                </td>\n                                <td>\n                                  <Tooltip title=\"На предыдущюю страницу\">\n                                    <IconButton onClick={() => KeyboardArrowLeftClick(page)}>\n                                      <ArrowBackIosIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                                    </IconButton>\n                                  </Tooltip>\n                                </td>\n                                <td style={{ color: \"black\", fontSize: 16 }}>\n                                  <input style={{ maxWidth: 25 }} value={page} onChange={handlePageChange}></input>\n                                </td>\n                                <td style={{ paddingLeft: \"3px\" }}>\n                                  <Tooltip title=\"Перейти на указанную страницу\">\n                                    <Button\n                                      onClick={() => GoToPage()}\n                                      variant=\"outlined\"\n                                      style={{\n                                        height: 22,\n                                        backgroundColor: \"#D1D6D6\",\n                                        fontSize: 12\n                                      }}\n                                    >перейти\n                                    </Button>\n                                  </Tooltip>\n                                </td>\n                                <td>\n                                  <Tooltip title=\"На следующюю страницу\">\n                                    <IconButton onClick={() => KeyboardArrowRightClick(page)}>\n                                      <ArrowForwardIosIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                                    </IconButton>\n                                  </Tooltip>\n                                </td>\n                                <td style={{ color: \"black\", fontSize: 13 }}>Стр. {page} из {getPageAmount()}</td>\n                              </tr>\n                            </tfoot>\n                          </table>\n                        </div>\n                        :\n                        <Typography variant=\"inherit\" noWrap>\n                          В этой папке нет писем!\n                        </Typography>\n                      }\n                      <Menu\n                        anchorEl={mailAnchorEl}\n                        open={openMailMenu}\n                        onClose={() => setMailAnchorEl(null)}\n                        MenuListProps={{\n                          'aria-labelledby': 'basic-button',\n                        }}\n                        style={{ paddingLeft: \"100px\" }}\n                      >\n                        <MenuItem onClick={() => useMessageAsSample()}>Использовать как шаблон</MenuItem>\n                      </Menu>\n                    </Paper>\n                  </Grid>\n                  <Snackbar\n                    open={showSnackBar}\n                    onClose={() => handleCloseSnackBar()}\n                    autoHideDuration={1200}\n                    message={snackBarMessage}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n          )\n        }\n        else if (writeMessage === true) {\n          return (\n            <Paper key={updateState}>\n              <Grid container spacing={1} justify=\"center\" alignItems=\"center\" className={classes.root}>\n                <Grid item>\n                  <Grid container direction=\"column\">\n                    <Grid item>\n                      <input\n                        placeholder='Поиск'\n                        style={{ width: \"100%\" }}\n                        name=\"partnersSearhField\"\n                        value={partnersSearchField}\n                        onChange={partnersSearchFieldChange}\n                        autoFocus={focusField === \"partnersSearhField\" ? true : false}\n                      />\n                    </Grid>\n                    <Grid item>{partnersList(partners)}</Grid>\n                  </Grid>\n                </Grid>\n                <Grid item>\n                  <Grid container direction=\"column\">\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      className={classes.button}\n                      onClick={handleAllRight}\n                      disabled={partners.length === 0}\n                      aria-label=\"move all selectedPartners\"\n                    >\n                      ≫\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      className={classes.button}\n                      onClick={handleCheckedRight}\n                      disabled={leftChecked.length === 0}\n                      aria-label=\"move selected selectedPartners\"\n                    >\n                      &gt;\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      className={classes.button}\n                      onClick={handleCheckedLeft}\n                      disabled={rightChecked.length === 0}\n                      aria-label=\"move selected partners\"\n                    >\n                      &lt;\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      className={classes.button}\n                      onClick={handleAllLeft}\n                      disabled={selectedPartners.length === 0}\n                      aria-label=\"move all partners\"\n                    >\n                      ≪\n                    </Button>\n                  </Grid>\n                </Grid>\n                <Grid item>\n                  <Grid container direction=\"column\">\n                    <Grid item>\n                      <input\n                        placeholder='Поиск'\n                        style={{ width: \"100%\" }}\n                        name=\"selectedPartnersSearhField\"\n                        value={selectedPartnersSearchField}\n                        onChange={selectedPartnersSearchFieldChange}\n                        autoFocus={focusField === \"selectedPartnersSearhField\" ? true : false}\n                      />\n                    </Grid>\n                    <Grid item>{selectedPartnersList(selectedPartners)}</Grid>\n                  </Grid>\n                </Grid>\n                <Grid item xs={11}>Тип сообщения: {getEnumLabel(\"mailTypes\", messageType)}</Grid>\n                <Grid item xs={11}>\n                  <Grid container direction=\"row\">\n                    <TextField\n                      id=\"outlined-multiline-static\"\n                      label=\"Тема\"\n                      multiline\n                      onBlur={handleChange}\n                      name={\"subject\"}\n                      defaultValue={fieldValue[\"subject\"]}\n                      variant=\"outlined\"\n                      style={{ width: \"100%\" }}\n                    />\n                    <TextField\n                      id=\"outlined-multiline-static\"\n                      label=\"Текст уведомления\"\n                      multiline\n                      rows={4}\n                      onBlur={handleChange}\n                      name={\"body\"}\n                      defaultValue={fieldValue[\"body\"]}\n                      variant=\"outlined\"\n                      style={{ width: \"100%\" }}\n                    />\n                  </Grid>\n                </Grid>\n                <Grid item>\n                  <Grid container direction=\"row\">\n                    <div className={classes.importFile}>\n                      <input\n                        accept=\"image/*, application/pdf\"\n                        className={classes.inputFile}\n                        id={corpActionsAttachFileButtonId}\n                        multiple\n                        type=\"file\"\n                        onChange={handleAttachFile}\n                      />\n                      <label htmlFor={corpActionsAttachFileButtonId}>\n                        <Button\n                          component=\"span\"\n                          variant=\"outlined\"\n                          style={{\n                            margin: 3,\n                            color: \"white\",\n                            backgroundColor: \"#BB7100\",\n                            borderColor: \"#161C87\",\n                            height: 32,\n                            fontSize: 12\n                          }}\n                          endIcon={<AttachFileIcon />}\n                        >Прикрепить файлы\n                        </Button>\n                      </label>\n                    </div>\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => buttonClick(\"send\", null)}\n                      style={{\n                        margin: 3,\n                        color: \"white\",\n                        borderColor: \"#161C87\",\n                        backgroundColor: \"#287A2C\",\n                        height: 32,\n                        fontSize: 12\n                      }}\n                      endIcon={<SendIcon />}\n                      disabled={disableButtons}\n                    >Отправить\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => props.esInn !== null ? buttonClick(\"sendWithES\") : setShowModalEnterPin(true)}\n                      style={{\n                        margin: 3,\n                        color: \"white\",\n                        borderColor: \"#161C87\",\n                        backgroundColor: \"#287A2C\",\n                        height: 32,\n                        fontSize: 12\n                      }}\n                      endIcon={<SendIcon />}\n                      disabled={disableButtons}\n                    >Подписать и отправить\n                    </Button>\n\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => buttonClick(\"backToSearchForm\")}\n                      style={{\n                        margin: 3,\n                        color: \"white\",\n                        borderColor: \"#161C87\",\n                        backgroundColor: \"#ff1f1f\",\n                        height: 32,\n                        fontSize: 12\n                      }}\n\n                    >Назад\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid style={{ paddingLeft: \"45px\" }} container spacing={2} justify=\"flex-start\" alignItems=\"flex-start\" className={classes.root}>\n                <Grid item xs={\"auto\"}>\n                  <Grid container direction=\"column\" spacing={1}>\n                    {filesList()}\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Modal\n                open={showModalEnterPin}\n                onClose={handleCloseModalEnterPin}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n              >\n                <div style={modalStyle} className={classes.modalRutoken}>\n                  <h3 id=\"simple-modal-title\">Введите ПИН код Рутокена</h3>\n                  <FormControl variant=\"outlined\" style={{ width: \"100%\" }} error={wrongPin}>\n                    <InputLabel htmlFor=\"outlined-adornment-password\">PIN</InputLabel>\n                    <OutlinedInput\n                      type={showPin ? 'text' : 'password'}\n                      defaultValue={rutokenPin}\n                      onChange={handlePinChange}\n                      onKeyPress={onKeyPressModalEnterPin}\n                      autoFocus\n                      endAdornment={\n                        <InputAdornment position=\"end\">\n                          <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={handleClickShowPin}\n                            edge=\"end\"\n                          >\n                            {showPin ? <Visibility /> : <VisibilityOff />}\n                          </IconButton>\n                        </InputAdornment>\n                      }\n                      labelWidth={25}\n                    />\n                  </FormControl>\n                  {wrongPin === true && <p color=\"red\">Не верный PIN</p>}\n                  <Button\n                    variant=\"contained\"\n                    onClick={() => buttonClick(\"sendWithES\")}\n                    style={{\n                      margin: 3,\n                      height: 32,\n                      fontSize: 12,\n                      color: \"white\",\n                      backgroundColor: \"#2862F4\"\n                    }}\n                  >Ок\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    onClick={handleCloseModalEnterPin}\n                    style={{\n                      margin: 3,\n                      height: 32,\n                      fontSize: 12,\n                      color: \"white\",\n                      backgroundColor: \"#E73639\"\n                    }}\n                  >Отмена\n                  </Button>\n                </div>\n              </Modal>\n            </Paper>\n          )\n        }\n      }\n      else if (taskType === \"shomMessageForm\") {\n        return (\n          <Paper>\n            <br />\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1}>\n              <Grid item xs={10} align=\"center\">\n                <Typography component=\"h1\" variant=\"h6\" color=\"inherit\">{selectedDoc.subject}</Typography>\n              </Grid>\n              <Grid item xs={10} align=\"right\">\n                <p style={{ fontSize: 12 }}>{\"Дата: \"}{selectedDoc.created_at.substring(0, 19)}</p>\n                <p style={{ fontSize: 12 }}>{\"Отправитель: \"}{getSenderName(selectedDoc.sender)}</p>\n                {selectedDoc.es_inn !== null &&\n                  <div>\n                    <p style={{ fontSize: 12 }}>{\"Время подписания: \"}{selectedDoc.es_date !== undefined ? selectedDoc.es_date.substring(0, 19) : \"\"}</p>\n                    <p style={{ fontSize: 12 }}>{\"ИНН: \"}{selectedDoc.es_inn}</p>\n                    <p style={{ fontSize: 12 }}>{\"ФИО: \"}{selectedDoc.es_full_name}</p>\n                  </div>\n                }\n              </Grid>\n              <Grid item xs={10} align=\"left\">\n                <p>{selectedDoc.body}</p>\n              </Grid>\n              <br />\n              <Grid item xs={10} align=\"left\">\n                <p style={{ fontSize: 12, fontWeight: \"bold\" }}>{\"Прикрепленные файлы\"}</p>\n                {savedDocsList()}\n                {savedImgsList()}\n              </Grid>\n              <Grid item xs={10} align=\"center\">\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => buttonClick(\"showReport\")}\n                  style={{\n                    margin: 3,\n                    color: \"white\",\n                    borderColor: \"#161C87\",\n                    backgroundColor: \"#287A2C\",\n                    height: 32,\n                    fontSize: 12\n                  }}\n                >Печать\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => buttonClick(\"back\")}\n                  style={{\n                    margin: 3,\n                    color: \"white\",\n                    borderColor: \"#161C87\",\n                    backgroundColor: \"#ff1f1f\",\n                    height: 32,\n                    fontSize: 12\n                  }}\n                >Назад\n                </Button>\n              </Grid>\n            </Grid>\n            <Modal\n              className={classes.modal}\n              open={openModal}\n              onClose={handleCloseModal}\n            >\n              <div className={classes.imagePaper}>\n                <img name={selectedImg.name} height={600} width=\"auto\" src={selectedImg.src} />\n              </div>\n            </Modal>\n          </Paper>\n        )\n      }\n      else {\n        return <LinearProgress />\n      }\n    }\n    catch (er) {\n      // console.log(\"ERROR\", er)\n      return <LinearProgress />\n    }\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}