{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\depo\\\\src\\\\pages\\\\Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport ComponentManager from \"../components/ComponentManager/ComponentManager.jsx\";\nimport Box from \"@material-ui/core/Box\";\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button'; // PIN components\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'; // Icons\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToAppOutlined\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircleOutlineOutlined\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport Notification from \"@material-ui/icons/Notifications\";\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport EmailIcon from '@material-ui/icons/Email';\nimport Badge from '@material-ui/core/Badge';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward'; // Libs\n\nimport { useKeycloak } from \"../lib\";\nimport swal from \"sweetalert\"; // https://sweetalert.js.org/guides/\n\nimport { ToastContainer, toast } from 'react-toastify'; // https://fkhadra.github.io/react-toastify/introduction/\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport * as rutoken from \"rutoken\";\nimport moment from \"moment\";\nvar plugin = null;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nfunction TabPanel(props) {\n  const {\n    children,\n    currentTab,\n    selectedTab,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(Typography, Object.assign({\n    component: \"div\",\n    role: \"tabpanel\",\n    hidden: currentTab !== selectedTab,\n    id: `scrollable-auto-tabpanel-${selectedTab}`,\n    \"aria-labelledby\": `scrollable-auto-tab-${selectedTab}`\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    p: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, children));\n}\n\nfunction a11yProps(id) {\n  return {\n    id: `scrollable-auto-tab-${id}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${id}`\n  };\n}\n\nvar HashMap = require(\"hashmap\");\n\nconst drawerWidth = 250;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  toolbar: {\n    paddingRight: 24,\n    // keep right padding when drawer closed\n    backgroundColor: \"#0F6038\" // height: \"200px\"\n\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: 36\n  },\n  menuButtonHidden: {\n    display: \"none\"\n  },\n  title: {\n    flexGrow: 1\n  },\n  drawerPaper: {\n    // backgroundColor: \"#E6F3ED\",\n    position: \"fixed\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9)\n    }\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: \"86vh\",\n    marginTop: \"110px\",\n    // height: \"100vh\",\n    overflow: \"auto\" // paddingTop: \"190px\",\n    // border: \"1px solid red\"\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  modal: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  },\n  hrefStyleTop: {\n    position: 'absolute',\n    backgroundColor: \"white\",\n    border: '1px solid grey',\n    height: \"35px\",\n    width: \"35px\"\n  },\n  hrefStyleBottom: {\n    position: 'absolute',\n    backgroundColor: \"white\",\n    border: '1px solid grey',\n    height: \"35px\",\n    width: \"35px\"\n  }\n}));\nconst useStylesnav = makeStyles(theme => ({\n  root: {\n    overflow: \"hidden\",\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  },\n  listItemText: {\n    fontSize: 13,\n    paddingLeft: \"2px\" // \"display\": \"flex\", \n    // \"flex-wrap\": \"wrap\",\n\n  },\n  level1: {\n    paddingLeft: theme.spacing(0),\n    maxHeight: 20\n  },\n  level2: {\n    paddingLeft: theme.spacing(0),\n    maxHeight: 20\n  },\n  level3: {\n    paddingLeft: theme.spacing(1),\n    maxHeight: 20\n  },\n  tabs: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  }\n}));\n\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nfunction getHrefStyleTop() {\n  const bottom = 7;\n  const right = 2;\n  return {\n    bottom: `${bottom}%`,\n    right: `${right}%`,\n    transform: `translate(-${bottom}%, -${right}%)`\n  };\n}\n\nfunction getHrefStyleBottom() {\n  const bottom = 2;\n  const right = 2;\n  return {\n    bottom: `${bottom}%`,\n    right: `${right}%`,\n    transform: `translate(-${bottom}%, -${right}%)`\n  };\n}\n\nrutoken.ready // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n.then(function () {\n  if (window.chrome || typeof InstallTrigger !== 'undefined') {\n    return rutoken.isExtensionInstalled();\n  } else {\n    return Promise.resolve(true);\n  }\n}) // Проверка установки Рутокен Плагина\n.then(function (result) {\n  if (result) {\n    return rutoken.isPluginInstalled();\n  } else {// alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n  }\n}) // Загрузка плагина\n.then(function (result) {\n  if (result) {\n    return rutoken.loadPlugin();\n  } else {// alert(\"Не удаётся найти Плагин\");\n  }\n}) //Можно начинать работать с плагином\n.then(function (result) {\n  if (!result) {\n    return; // alert(\"Не удаётся загрузить Плагин\")\n  } else {\n    plugin = result;\n    return Promise.resolve();\n  }\n});\nexport default (() => {\n  const {\n    keycloak\n  } = useKeycloak(); // This.state\n\n  const [selectedTab, setSelectedTab] = useState(null);\n  const [tabs, setTabs] = useState([]); // const [endpoint] = useState(\"wss://depo.cds.kg:3120\") //Rented Server UBUNTU\n  // const [endpoint] = useState(\"wss://depo-test.cds.kg:3120\") //OLD Server\n\n  const [endpoint] = useState(\"ws://192.168.2.109:3220\"); //Local\n\n  const [routes, setRoutes] = useState([]);\n  const [session_id, setSession_id] = useState(null);\n  const [webSocketMessage, setWebSocketMessage] = useState(null);\n  const [currTaskId, setCurrTaskId] = useState(null);\n  const [opennav, setOpennav] = useState(false);\n  const [openDrawer, setOpenDrawer] = useState(true);\n  const [tabCounter, setTabCounter] = useState(1);\n  const [menuItemStates, setMenuItemStates] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const [tabData, setTabData] = useState(null); // User\n\n  const [userProfile, setUserProfile] = useState({});\n  const [userRoleLabel, setUserRoleLabel] = useState(\"\");\n  const [unreadInstructions, setUnreadInstructions] = useState(0);\n  const [urgentUnreadInstructions, setUrgentUnreadInstructions] = useState(false);\n  const [unreadDistributions, setUnreadDistributions] = useState(0);\n  const [operDayIsOpened, setOperDayIsOpened] = useState(null);\n  const [lastClosedDate, setLastClosedDate] = useState(moment(new Date()).format(\"DD.MM.YYYY\"));\n  const [restore, setRestore] = useState(false); // Rutoken\n\n  const [rutokenRequired, setRutokenRequired] = useState(true);\n  const [modalStyle] = useState(getModalStyle);\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false);\n  const [rutokenPin, setRutokenPin] = useState(\"\");\n  const [showPin, setShowPin] = useState(false);\n  const [wrongPin, setWrongPin] = useState(false);\n  const [esUserFullName, setEsUserFullName] = useState(null);\n  const [esInn, setEsInn] = useState(null);\n  const [esExpiredDate, setEsExpiredDate] = useState(null);\n  const classes = useStyles();\n  const classesnav = useStylesnav();\n  const [hrefStyleTop] = useState(getHrefStyleTop);\n  const [hrefStyleBottom] = useState(getHrefStyleBottom);\n\n  const handleDrawerOpen = () => {\n    setOpenDrawer(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpenDrawer(false);\n  }; // console.log(\"INN\", esInn)\n\n\n  useEffect(() => {\n    if (tabData === null) {\n      setTabData(new HashMap());\n    }\n\n    keycloak.loadUserProfile().success(function (profile) {\n      let curUserProfile = {\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        email: profile.email,\n        username: profile.username\n      };\n\n      try {\n        if (profile.attributes[\"rutokenRequired\"][0] === \"true\") {\n          setRutokenRequired(true);\n        } else {\n          setRutokenRequired(false);\n          setRestore(true);\n        }\n      } catch (er) {\n        setRutokenRequired(false);\n        setRestore(true);\n      }\n\n      for (let i in profile.attributes) {\n        let value = profile.attributes[i][0] === \"true\" ? true : profile.attributes[i][0] === \"false\" ? false : profile.attributes[i][0];\n        curUserProfile[i] = value;\n      }\n\n      if (curUserProfile.rutokenRequired === true) {\n        setShowModalEnterPin(true);\n      }\n\n      setUserProfile(curUserProfile);\n      console.log(\"PROFILE\", curUserProfile);\n    }).error(function () {\n      console.log(\"Failed to load user profile\");\n    });\n  }, []); // RuToken functions\n  // Sign with rutoken\n\n  function sign(data) {\n    var textToSign = data;\n\n    if (textToSign.length == 0) {\n      console.log(\"Не хватает текста для подписи\");\n      return;\n    }\n\n    if (plugin !== null) {\n      // Перебор подключенных Рутокенов\n      plugin.enumerateDevices().then(function (devices) {\n        if (devices.length > 0) {\n          return Promise.resolve(devices[0]);\n        } else {\n          swAllert(\"Рутокен не обнаружен\", \"warning\");\n        }\n      }) // Проверка залогиненности\n      .then(function (firstDevice) {\n        rutokenHandle = firstDevice;\n        return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n      }) // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n      .then(function (isLoggedIn) {\n        // console.log(\"PIN\", rutokenPin)\n        if (isLoggedIn) {\n          return Promise.resolve();\n        } else {\n          return plugin.login(rutokenHandle, rutokenPin);\n        }\n      }) // Перебор пользовательских сертификатов на токене\n      .then(function () {\n        return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n      }).then(function (certs) {\n        if (certs.length > 0) {\n          certHandle = certs[0];\n          return plugin.parseCertificate(rutokenHandle, certs[0]);\n        } else {\n          alert(\"Сертификат на Рутокен не обнаружен\");\n        }\n      }) // Подписание данных из текстового поля на первом найденом сертификате\n      .then(function (certs) {\n        certData = certs;\n        console.log(\"RUTDATA\", certData); // var r = plugin.getCertificateInfo(0, certs).then(function (res){console.log(res)})\n        // console.log(\"res\", r)\n\n        if (certHandle.length > 0) {\n          var options = {};\n          let inn = \"\";\n          let fullName = \"\";\n\n          for (let i = 0; i < certData.subject.length; i++) {\n            if (certData.subject[i].rdn === \"serialNumber\") {\n              inn = certData.subject[i].value;\n            }\n\n            if (certData.subject[i].rdn === \"commonName\") {\n              fullName = certData.subject[i].value;\n            }\n          }\n\n          console.log(\"ESDATA\", inn, fullName);\n          setEsInn(inn);\n          setEsUserFullName(fullName);\n          setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1));\n          restoreUserTabs();\n          handleCloseModalEnterPin();\n          return plugin.sign(rutokenHandle, certHandle, textToSign, plugin.DATA_FORMAT_PLAIN, options);\n        } else {\n          alert(\"Сертификат на Рутокен не обнаружен\");\n        }\n      }) // Закрытие сессии\n      .then(function () {\n        plugin.logout(rutokenHandle);\n      }, handleError);\n    } else {\n      swAllert(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\");\n    }\n  } // catch errors while signing docs\n\n\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true);\n          break;\n\n        default:\n          alert(\"Неизвестная ошибка\");\n      }\n    }\n  }\n\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false);\n  };\n\n  function handlePinChange(event) {\n    console.log(\"PIN EV\", event.target.value);\n    setRutokenPin(event.target.value);\n    setWrongPin(false); // console.log(\"PIN\", event.target.value)\n  }\n\n  function handleClickShowPin() {\n    setShowPin(!showPin);\n  }\n\n  function onKeyPressModalEnterPin(event) {\n    console.log(\"KP EV\", event.target.value);\n    let code = event.charCode;\n\n    if (code === 13) {\n      buttonClick(\"SignButton\");\n    }\n  }\n\n  function swAllert(text, icon) {\n    return swal({\n      text: text,\n      icon: icon,\n      buttons: {\n        ok: \"Ок\"\n      }\n    });\n  } // Main socket connection and data receiving\n\n\n  if (socket === null && userProfile.userRole !== undefined) {\n    setSocket(new WebSocket(endpoint));\n    console.log(\"CONNECTING...\", endpoint);\n  }\n\n  if (socket !== null) {\n    socket.onmessage = async function (message) {\n      var incomingJson = JSON.parse(message.data); // console.log(\"Socket message\", incomingJson)\n      // console.log(\"TAB DATA\", tabData)\n\n      if (incomingJson.messageType === \"session_id\") {\n        console.log(\"CONNECTED TO: \", endpoint);\n        console.log(\"NEW SESSION: \", incomingJson.session_id);\n        setSession_id(incomingJson.session_id);\n        socket.send(JSON.stringify({\n          commandType: \"setUserData\",\n          userId: userProfile.userId,\n          session_id: incomingJson.session_id,\n          userRole: userProfile.userRole,\n          partner: userProfile.partner,\n          token: \"Bearer \" + keycloak.token\n        }));\n      } else if (incomingJson.messageType === \"userDataInserted\") {\n        console.log(\"userDataInserted\", incomingJson.session_id);\n        socket.send(JSON.stringify({\n          commandType: \"getMenu\",\n          userProfile: userProfile,\n          session_id: incomingJson.session_id,\n          token: \"Bearer \" + keycloak.token\n        }));\n        socket.send(JSON.stringify({\n          commandType: \"getUserRoleLabel\",\n          userProfile: userProfile,\n          session_id: incomingJson.session_id,\n          token: \"Bearer \" + keycloak.token\n        }));\n\n        if (restore === true) {\n          restoreUserTabs();\n        }\n      } else if (incomingJson.messageType === \"Menu\") {\n        let updatedMenuItemStates = menuItemStates.slice();\n\n        for (let i = 0; i < incomingJson.routes.length; i++) {\n          if (incomingJson.routes[i].level2 !== undefined) {\n            let newMenuItem = {\n              name: incomingJson.routes[i].name,\n              state: incomingJson.routes[i].state\n            };\n            updatedMenuItemStates.push(newMenuItem);\n\n            for (let l = 0; l < incomingJson.routes[i].level2.length; l++) {\n              if (incomingJson.routes[i].level2[l].level3 !== undefined) {\n                let newMenuItem2 = {\n                  name: incomingJson.routes[i].level2[l].name,\n                  state: incomingJson.routes[i].level2[l].state\n                };\n                updatedMenuItemStates.push(newMenuItem2);\n              }\n            }\n          }\n        }\n\n        setRoutes(incomingJson.routes);\n        setMenuItemStates(updatedMenuItemStates); // console.log(\"MENU States\", updatedMenuItemStates)\n      } else if (incomingJson.messageType === \"userTask\") {\n        console.log(\"NEW TASK\", incomingJson.taskType);\n\n        if (tabData.get(incomingJson.process_id) === undefined) {\n          tabData.set(incomingJson.process_id, incomingJson);\n          setWebSocketMessage(incomingJson);\n          setCurrTaskId(incomingJson.taskID);\n        } else {\n          clearTabData(incomingJson.process_id);\n          tabData.set(incomingJson.process_id, incomingJson);\n          setWebSocketMessage(incomingJson);\n          setCurrTaskId(incomingJson.taskID);\n        }\n      } else if (incomingJson.messageType === \"restoreTab\") {\n        if (tabData.get(incomingJson.process_id) === undefined) {\n          await tabData.set(incomingJson.process_id, incomingJson);\n          let updatedTabs = tabs.slice();\n          updatedTabs.push({\n            id: incomingJson.process_id,\n            name: incomingJson.process_id,\n            label: incomingJson.tabLabel + \" \" + tabCounter\n          });\n          setTabs(updatedTabs);\n          setSelectedTab(incomingJson.process_id);\n          setTabCounter(tabCounter + 1);\n          setCurrTaskId(incomingJson.taskID);\n          setWebSocketMessage(incomingJson); // // console.log(\"restoreTab\", incomingJson)\n        }\n      } else if (incomingJson.messageType === \"error\") {\n        setWebSocketMessage(incomingJson); // console.log(\"webSocket ERROR\", incomingJson)\n\n        tabData.set(incomingJson.process_id, incomingJson);\n        setCurrTaskId(incomingJson.taskID);\n        handleCloseCurrentTab(incomingJson.process_id);\n      } else if (incomingJson.messageType === \"notifications\") {\n        let unreadInstructions = JSON.parse(incomingJson.unreadInstructions); // console.log(\"NOTIFICATIONS\", unreadInstructions)\n\n        setUrgentUnreadInstructions(unreadInstructions.urgent);\n        setUnreadInstructions(parseInt(unreadInstructions.count));\n      } else if (incomingJson.messageType === \"notification\") {\n        swal({\n          text: incomingJson.text,\n          icon: incomingJson.icon\n        });\n      } else if (incomingJson.messageType === \"distributions\") {\n        let unreadDistributions = JSON.parse(incomingJson.unreadDistributions);\n        console.log(\"unreadDistributions\", unreadDistributions);\n\n        if (unreadDistributions.length > 3) {\n          setUnreadDistributions(unreadDistributions.substring(0, 3) + \"+\");\n        } else {\n          setUnreadDistributions(unreadDistributions);\n        }\n      } else if (incomingJson.messageType === \"toast\") {\n        if (incomingJson.toastType === \"success\") {\n          callSuccessToast(incomingJson.toastText); // toast(incomingJson.toastText, {\n          //   position: \"top-right\",\n          //   autoClose: 6000,\n          //   hideProgressBar: false,\n          //   closeOnClick: true,\n          //   pauseOnHover: true,\n          //   draggable: true,\n          //   progress: undefined,\n          // })\n        } else if (incomingJson.toastType === \"error\") {\n          callErrorToast(incomingJson.toastText); // toast.error(incomingJson.toastText, {\n          //   position: \"top-right\",\n          //   autoClose: 9000,\n          //   hideProgressBar: false,\n          //   closeOnClick: true,\n          //   pauseOnHover: true,\n          //   draggable: true,\n          //   progress: undefined,\n          // })\n        }\n      } else if (incomingJson.messageType === \"operDayStatus\") {\n        let opDayStatus = JSON.parse(incomingJson.status);\n        console.log(\"OP DAY\", opDayStatus); // if (opDayStatus.isOpened === true) {\n\n        setOperDayIsOpened(opDayStatus.isOpened);\n        setLastClosedDate(moment(new Date(opDayStatus.lastClosedDate)).format(\"DD.MM.YYYY\")); // }\n        // else {\n        //   setOperDayIsOpened(false)\n        // }\n      } else if (incomingJson.messageType === \"userRoleLabel\") {\n        // console.log(\"ROLE\", incomingJson)\n        setUserRoleLabel(incomingJson.userRoleLabel);\n      } else {// console.log(\"Unknown RESTMessage\", incomingJson)\n      }\n    };\n\n    socket.onclose = function (er) {\n      console.log(\"CONNECTION CLOSED \", endpoint);\n      setSocket(null);\n    };\n  }\n\n  function callSuccessToast(text) {\n    toast(text, {\n      position: \"top-right\",\n      autoClose: 6000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  }\n\n  function callErrorToast(text) {\n    toast.error(text, {\n      position: \"top-right\",\n      autoClose: 9000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  }\n\n  function restoreUserTabs() {\n    console.log(\"RESTORE STARTED\");\n    setRestore(false);\n    socket.send(JSON.stringify({\n      commandType: \"restoreSession\",\n      userId: userProfile.userId,\n      session_id: session_id,\n      userRole: userProfile.userRole,\n      token: \"Bearer \" + keycloak.token\n    }));\n    socket.send(JSON.stringify({\n      commandType: \"getOperDayStatus\",\n      userId: userProfile.userId,\n      session_id: session_id,\n      token: \"Bearer \" + keycloak.token\n    }));\n    socket.send(JSON.stringify({\n      commandType: \"launchProcess\",\n      processKey: \"process_169eccff-4a0c-4b5f-8eda-150965351a91\",\n      session_id: session_id,\n      process_id: \"null\",\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        user_session_id: {\n          value: session_id\n        },\n        userAction: {\n          value: \"getNotificationsCount\"\n        }\n      }\n    }));\n    updateMailDistributions();\n  }\n\n  function updateMailDistributions() {\n    socket.send(JSON.stringify({\n      commandType: \"getUnreadDistributions\",\n      // processKey: \"process_673b1ef0-a228-476c-832a-682b14e5cc93\",\n      session_id: session_id,\n      process_id: \"null\",\n      userId: userProfile.userId,\n      partner: userProfile.partner,\n      token: \"Bearer \" + keycloak.token // variables: {\n      //   user_session_id: { value: session_id },\n      //   userAction: { value: \"getUnreadDistributions\" },\n      //   user_id_recipient: { value: userProfile.partner},\n      //   userId: { value: userProfile.userId },\n      // }\n\n    }));\n  }\n\n  function reduceMailDistributions() {\n    if (unreadDistributions > 0) {\n      setUnreadDistributions(unreadDistributions - 1);\n    }\n  } // Main button click handler\n\n\n  function buttonClick(buttonName) {\n    // console.log(\"Button\", buttonName)\n    if (buttonName === \"SignButton\") {\n      console.log(\"button Sign: \");\n\n      if (rutokenPin === \"\") {\n        setWrongPin(true);\n      } else {\n        sign(\"WriteESDatatoLocalState\");\n      }\n    } else {\n      console.log(\"button: \", buttonName);\n    }\n  }\n\n  function sendFieldValues(commandJson) {\n    if (socket.readyState === socket.OPEN) {\n      commandJson[\"token\"] = \"Bearer \" + keycloak.token;\n      commandJson[\"session_id\"] = session_id;\n      console.log(\"CUR SESSION: \", session_id);\n\n      if (commandJson.commandType !== \"deleteSavedDoc\") {\n        clearTabData(commandJson.process_id);\n      }\n\n      if (commandJson.variables !== undefined) {\n        if (commandJson.variables[\"userAction\"][\"value\"] === \"cancel\") {\n          closeTab(selectedTab);\n          socket.send(JSON.stringify(commandJson));\n        } else {\n          commandJson.variables[\"authorization\"] = {\n            value: \"Bearer \" + keycloak.token\n          };\n          socket.send(JSON.stringify(commandJson));\n          console.log(\"HOME SEND\", commandJson.session_id);\n        }\n      } else {\n        socket.send(JSON.stringify(commandJson)); // console.log(\"HOME SEND\", commandJson)\n      }\n    } else {\n      setSession_id(null);\n      setSocket(null);\n      clearTabData(commandJson.process_id);\n    }\n\n    setCurrTaskId(\"\");\n  }\n\n  function handleCloseCurrentTab(tabId) {\n    // await setSelectedTab(tabId)\n    var selectedTabData = tabData.get(tabId);\n\n    if (selectedTabData !== undefined) {\n      var commandJson = {\n        commandType: \"completeTask\",\n        session_id: selectedTabData.session_id,\n        process_id: selectedTabData.process_id,\n        taskID: selectedTabData.taskID,\n        token: \"Bearer \" + keycloak.token,\n        variables: {\n          userAction: {\n            value: \"cancel\"\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          }\n        }\n      };\n\n      if (userProfile.userRole === \"1\") {\n        sendFieldValues(commandJson);\n        closeTab(tabId);\n      } else {\n        if (selectedTabData.taskType === \"showSearchUser\" || selectedTabData.taskType === \"showAccountsSearchForm\" || selectedTabData.taskType === \"showSecuritiesSearchForm\" || selectedTabData.taskType === \"showIssuersSearchForm\" || selectedTabData.taskType === \"showDepositorsSearchForm\" || selectedTabData.taskType === \"showDepositoriesSearchForm\" || selectedTabData.taskType === \"showIssuersSearchForm\" || selectedTabData.taskType === \"showPartnersSearchForm\" || selectedTabData.taskType === \"showTransactionsSearchForm\" || selectedTabData.taskType === \"showReferenceListSearchForm\" || selectedTabData.taskType === \"showInstructionsSearchForm\" || selectedTabData.taskType === \"showInstructionsRegistrarsSearchForm\" || selectedTabData.taskType === \"showChargeForCDServicesSearchForm\" || selectedTabData.taskType === \"showTransitChargeForCDServicesSearchForm\" || selectedTabData.taskType === \"showPaymentsForCDServicesSearchForm\" || selectedTabData.taskType === \"showTransitPaymentsForCDServicesSearchForm\" || selectedTabData.taskType === \"showAccountingReportsSelectingForm\" || selectedTabData.taskType === \"showCurrencyRatesSearchForm\" || selectedTabData.taskType === \"showServiceTypesSearchForm\" || selectedTabData.taskType === \"showServiceGroupsSearchForm\" || selectedTabData.taskType === \"showImportFileGIKForm\" || selectedTabData.taskType === \"showQuestinariesGIKSearchForm\" || selectedTabData.taskType === \"showAccountsGIKSearchForm\" || selectedTabData.taskType === \"showReportsSelectingForm\" || selectedTabData.taskType === \"showTariffsRegistrarsSearchForm\" || selectedTabData.taskType === \"showTradesSearchForm\" || selectedTabData.taskType === \"showContractsSearchForm\" || selectedTabData.taskType === \"CorporativeActionsForm\" || selectedTabData.taskType === \"showStockSecuritySearchForm\" || selectedTabData.taskType === \"showStockCurrencySearchForm\" || selectedTabData.taskType === \"showUploadDataToTSForm\" || selectedTabData.taskType === \"showLoadDataFromTSForm\" || selectedTabData.taskType === \"showFormsEditForm\" || selectedTabData.taskType === \"showTariffsCDSearchForm\" || selectedTabData.taskType === \"showFormsSearchForm\" || selectedTabData.taskType === \"showAccountingEntrySearchForm\" || selectedTabData.taskType === \"showSecuritiesOrdersHistorySearchForm\" || selectedTabData.taskType === \"showCurrenciesOrdersHistorySearchForm\" || selectedTabData.taskType === \"showSecuritiesTradesHistorySearchForm\" || selectedTabData.taskType === \"showCurrenciesTradesHistorySearchForm\" || selectedTabData.taskType === \"showLoadDataFromTSSecuritiesForm\" || selectedTabData.taskType === \"showUploadDataToTSSecuritiesForm\" || selectedTabData.taskType === \"showLoadDataFromTSCurrenciesForm\" || selectedTabData.taskType === \"showUploadDataToTSCurrenciesForm\" || selectedTabData.taskType === \"showOperationDayForm\" || selectedTabData.taskType === \"showRegistrarsSearchForm\" || selectedTabData.taskType === \"showTariffsCorrDepositorySearchForm\" || selectedTabData.taskType === \"showCoefficientDepositorsSearchForm\" || selectedTabData.taskType === \"showInstructionsTypeSelectingForm\" || selectedTabData.taskType === \"showReportsCreatingForm\" || selectedTabData.taskType === \"showTransferOrdersSearchForm\" || selectedTabData.taskType === \"corporativeActionsMainForm\" || selectedTabData.taskType === \"showCorrDepositoriesSearchForm\" || selectedTabData.taskType === \"showNewSecurityApplicationsSearchForm\" || selectedTabData.taskType === \"showMortgageSecuritiesSearchForm\" || selectedTabData.taskType === \"showExchangeTSFilesSearchForm\" || selectedTabData.taskType === \"showExchangeTSFilesListForm\" || selectedTabData.taskType === \"error\") {\n          sendFieldValues(commandJson);\n          closeTab(tabId);\n        } else handleOpenSwal(\"Вы действительно хотите закрыть вкладку?\", {\n          yes: \"Да\",\n          no: \"Нет\"\n        }, tabId);\n      }\n    }\n  } // Custom allert component\n\n\n  function handleOpenSwal(text, swalButtons, tabId) {\n    return swal({\n      text: text,\n      icon: \"warning\",\n      buttons: swalButtons\n    }).then(click => {\n      if (click === \"yes\") {\n        handleCloseCurrentTabModal(tabId);\n      }\n    });\n  } // Close current tab from opened alert component\n\n\n  function handleCloseCurrentTabModal(tabId) {\n    var selectedTabData = tabData.get(tabId);\n    var commandJson = {\n      commandType: \"completeTask\",\n      session_id: selectedTabData.session_id,\n      process_id: selectedTabData.process_id,\n      taskID: selectedTabData.taskID,\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        userAction: {\n          value: \"cancel\"\n        },\n        userId: {\n          value: userProfile.userId\n        },\n        userRole: {\n          value: userProfile.userRole\n        }\n      }\n    };\n    sendFieldValues(commandJson);\n    closeTab(tabId);\n  } // wrap up menu items\n\n\n  function handleOpenMenuClick(name) {\n    // console.log(\"Event\", name)\n    for (var i = 0; i < menuItemStates.length; i++) {\n      if (menuItemStates[i].name === name) {\n        if (menuItemStates[i].state === true) {\n          menuItemStates[i].state = false;\n        } else {\n          menuItemStates[i].state = true;\n        }\n      }\n    }\n\n    setOpennav(!opennav);\n  } // launch process related to menu button\n\n\n  function handleMenuButtonClick(button) {\n    // console.log(\"Menu button clicked\", button)\n    if (button.name !== \"insertForm\" && button.name !== \"redeploy\") {\n      var process_id = getUUID();\n      let updatedTabs = tabs.slice();\n      updatedTabs.push({\n        id: process_id,\n        name: process_id,\n        label: button.parentLabel + \" \" + tabCounter\n      });\n      setTabs(updatedTabs);\n      setSelectedTab(process_id);\n      setTabCounter(tabCounter + 1);\n    }\n\n    const commandJson = {\n      commandType: button.commandType,\n      processKey: button.processKey,\n      process_id: process_id,\n      session_id: session_id,\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        user_session_id: {\n          value: session_id\n        },\n        process_id: {\n          value: process_id\n        },\n        userAction: {\n          value: \"filter\"\n        },\n        userId: {\n          value: userProfile.userId\n        },\n        userRole: {\n          value: userProfile.userRole\n        },\n        tabLabel: {\n          value: button.parentLabel\n        },\n        authorization: {\n          value: \"Bearer \" + keycloak.token\n        }\n      }\n    };\n    sendFieldValues(commandJson); // console.log(\"Menu Button \", commandJson)\n  }\n\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\");\n\n    return uuidv1();\n  }\n\n  async function handleTabChange(event, newValue) {\n    setSelectedTab(newValue); // console.log(\"TAB CHANGE\", event, newValue)\n  }\n\n  function clearTabData(process_id) {\n    tabData.remove(process_id);\n    setCurrTaskId(null); // console.log(\"Clearing TabData\", tabData, \"ID\", process_id)\n  } // close selected tab clear it\"s data from cache & change tab counter\n\n\n  function closeTab(process_id) {\n    if (process_id !== undefined) {\n      // console.log(\"Closing TAB\", process_id)\n      let updatedTabs = tabs.slice();\n\n      for (var i = 0; i < updatedTabs.length; i++) {\n        if (updatedTabs[i].id === process_id) {\n          // console.log(\"INDEX\", i)\n          updatedTabs.splice(i, 1);\n        }\n      }\n\n      if (updatedTabs[0] === undefined) {\n        setSelectedTab(null);\n        setTabCounter(1);\n      } else setSelectedTab(updatedTabs[0].id);\n\n      setTabs(updatedTabs);\n    } // console.log(\"Closing TAB\", process_id)\n\n\n    let updatedTabs = tabs.slice();\n\n    for (i = 0; i < updatedTabs.length; i++) {\n      if (updatedTabs[i].id === process_id) {\n        // console.log(\"INDEX\", i)\n        updatedTabs.splice(i, 1);\n      }\n    }\n\n    if (Object.keys(updatedTabs).length === 0) {\n      setSelectedTab(null);\n      setTabCounter(1);\n    } else {\n      setSelectedTab(updatedTabs[0].id);\n      setTabs(updatedTabs);\n    }\n  } // Creating Menu Levels 1-3\n\n\n  function getLevel1Items(level1, index) {\n    // console.log(\"Creating Menu menuItemStates\", menuItemStates)\n    if (level1.level2 === undefined) {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        key: index,\n        className: classesnav.level1,\n        onClick: () => handleMenuButtonClick(level1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1001,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classesnav.listItemText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 11\n        }\n      }, openDrawer === true ? level1.label : \"\"));\n    } else {\n      for (var i = 0; i < menuItemStates.length; i++) {\n        if (menuItemStates[i].name === level1.name) {\n          return /*#__PURE__*/React.createElement(List, {\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1015,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(ListItem, {\n            button: true,\n            key: index,\n            className: classesnav.level1,\n            onClick: () => handleOpenMenuClick(level1.name),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1016,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(AddCircleIcon, {\n            style: {\n              height: 20\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1022,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: classesnav.listItemText,\n            style: {\n              \"fontWeight\": \"bold\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1023,\n              columnNumber: 17\n            }\n          }, openDrawer === true ? level1.label : \"\"), menuItemStates[i].state === true ? /*#__PURE__*/React.createElement(ExpandLess, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 55\n            }\n          }) : /*#__PURE__*/React.createElement(ExpandMore, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 72\n            }\n          })), /*#__PURE__*/React.createElement(Collapse, {\n            in: menuItemStates[i].state,\n            timeout: \"auto\",\n            unmountOnExit: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1026,\n              columnNumber: 15\n            }\n          }, level1.level2.map((level2Item, index) => getLevel2Items(level2Item, index))));\n        }\n      }\n    }\n  }\n\n  function getLevel2Items(level2, index) {\n    // console.log(\"Level2\", level2)\n    if (level2.level3 === undefined) {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        button: true,\n        className: classesnav.level2,\n        key: index,\n        onClick: () => handleMenuButtonClick(level2),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n        style: {\n          height: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1046,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classesnav.listItemText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1047,\n          columnNumber: 11\n        }\n      }, openDrawer === true ? level2.label : \"\"));\n    } else {\n      for (var i = 0; i < menuItemStates.length; i++) {\n        if (menuItemStates[i].name === level2.name) {\n          return /*#__PURE__*/React.createElement(List, {\n            component: \"div\",\n            disablePadding: true,\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(ListItem, {\n            button: true,\n            className: classesnav.level2,\n            key: index,\n            onClick: () => handleOpenMenuClick(level2.name),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1056,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(AddCircleIcon, {\n            style: {\n              height: 20\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1061,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: classesnav.listItemText,\n            style: {\n              \"fontWeight\": \"bold\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1062,\n              columnNumber: 17\n            }\n          }, openDrawer === true ? level2.label : \"\"), menuItemStates[i].state === true ? /*#__PURE__*/React.createElement(ExpandLess, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1063,\n              columnNumber: 55\n            }\n          }) : /*#__PURE__*/React.createElement(ExpandMore, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1063,\n              columnNumber: 72\n            }\n          })), /*#__PURE__*/React.createElement(Collapse, {\n            in: menuItemStates[i].state,\n            timeout: \"auto\",\n            unmountOnExit: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 15\n            }\n          }, level2.level3.map((level3Item, index) => getLevel3Items(level3Item, index))));\n        }\n      }\n    }\n  }\n\n  function getLevel3Items(level3, index) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      button: true,\n      className: classesnav.level3,\n      key: index,\n      onClick: () => handleMenuButtonClick(level3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1078,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n      style: {\n        height: 20,\n        color: \"grey\",\n        marginLeft: \"4px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1083,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classesnav.listItemText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1084,\n        columnNumber: 9\n      }\n    }, openDrawer === true ? level3.label : \"\"));\n  }\n\n  if (menuItemStates.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      style: {\n        paddingTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1090,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1092,\n        columnNumber: 9\n      }\n    }, \"Loading...\"));\n  }\n\n  function handleOperDayClick() {\n    if (userProfile.userRole === \"1\" || userProfile.userRole === \"7\") {\n      handleMenuButtonClick({\n        commandType: \"launchProcess\",\n        processKey: \"process_e79e1386-4473-4d35-8106-acd3fafaa129\",\n        parentLabel: \"Операц-й день\"\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1104,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AppBar, {\n    style: {\n      position: \"fixed\"\n    },\n    className: clsx(classes.appBar, openDrawer && classes.appBarShift),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    onClick: handleDrawerOpen,\n    className: clsx(classes.menuButton, openDrawer && classes.menuButtonHidden),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1114,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h6\",\n    color: \"inherit\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1117,\n      columnNumber: 13\n    }\n  }, \"\\u0426\\u0414\"), userProfile.userId !== undefined && /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1123,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1124,\n      columnNumber: 21\n    }\n  }, moment(new Date()).format(\"DD.MM.YYYY\")), operDayIsOpened !== null && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingRight: 15,\n      cursor: \"pointer\"\n    },\n    onClick: () => handleOperDayClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1128,\n      columnNumber: 23\n    }\n  }, \"\\u041E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0439 \\u0434\\u0435\\u043D\\u044C: \", operDayIsOpened === true ? \"Открыт\" : \"Закрыт\"), operDayIsOpened !== null && operDayIsOpened === false && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1136,\n      columnNumber: 23\n    }\n  }, lastClosedDate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1141,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    badgeContent: unreadDistributions,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1142,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(EmailIcon, {\n    style: {\n      cursor: \"pointer\"\n    },\n    fontSize: \"large\",\n    color: \"white\",\n    onClick: () => handleMenuButtonClick({\n      commandType: \"launchProcess\",\n      processKey: \"process_998ca68e-ee45-4b5b-ba23-5b9af4a34d38\",\n      parentLabel: \"КД\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1143,\n      columnNumber: 25\n    }\n  }))), (userProfile.userRole === \"1\" || userProfile.userRole === \"7\") && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1152,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    badgeContent: unreadInstructions,\n    color: unreadInstructions > 0 ? \"secondary\" : \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1153,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Notification, {\n    style: {\n      cursor: \"pointer\"\n    },\n    fontSize: \"large\",\n    color: urgentUnreadInstructions === true ? \"secondary\" : \"white\",\n    onClick: () => handleMenuButtonClick({\n      commandType: \"launchProcess\",\n      processKey: \"process_892bad05-cc0e-46b2-8e76-6aa1fed7cde0\",\n      parentLabel: \"Поручения\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1154,\n      columnNumber: 27\n    }\n  })))))), /*#__PURE__*/React.createElement(AccountCircleIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1167,\n      columnNumber: 13\n    }\n  }), !!keycloak.authenticated && /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1169,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1170,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1171,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1172,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1173,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1174,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1175,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1176,\n      columnNumber: 29\n    }\n  }, \"\\u0424\\u0418\\u041E:\"), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1177,\n      columnNumber: 29\n    }\n  }, userProfile.firstName + \" \" + userProfile.lastName.substring(0, 1) + \".\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1179,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1180,\n      columnNumber: 29\n    }\n  }, \"\\u0420\\u043E\\u043B\\u044C:\"), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1181,\n      columnNumber: 29\n    }\n  }, userRoleLabel))))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1186,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1187,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"inherit\",\n    style: {\n      fontSize: 14\n    },\n    onClick: () => keycloak.logout(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1188,\n      columnNumber: 25\n    }\n  }, \"\\u0412\\u044B\\u0439\\u0442\\u0438\")))))))), /*#__PURE__*/React.createElement(Drawer, {\n    variant: \"permanent\",\n    classes: {\n      paper: clsx(classes.drawerPaper, !openDrawer && classes.drawerPaperClose)\n    },\n    open: openDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1199,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbarIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1206,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"favicon.ico\",\n    height: \"65px\",\n    width: \"65px\",\n    style: {\n      marginRight: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1207,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleDrawerClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1208,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ChevronLeftIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1209,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1212,\n      columnNumber: 11\n    }\n  }), routes.map((level1, index) => getLevel1Items(level1, index))), /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1218,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    name: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1219,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      paddingLeft: openDrawer === true ? drawerWidth : 65\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1221,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    color: \"default\",\n    style: {\n      paddingLeft: openDrawer === true ? drawerWidth : 65\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    style: {\n      height: \"110px\",\n      paddingTop: \"60px\"\n    },\n    position: \"fixed\",\n    value: selectedTab,\n    onChange: handleTabChange,\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    variant: \"scrollable\",\n    scrollButtons: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1223,\n      columnNumber: 15\n    }\n  }, tabs.map((tab, index) => /*#__PURE__*/React.createElement(Tab, Object.assign({\n    key: tab.id,\n    index: index,\n    label: /*#__PURE__*/React.createElement(Grid, {\n      style: {\n        fontSize: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1238,\n        columnNumber: 23\n      }\n    }, tab.label, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => handleCloseCurrentTab(tab.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1240,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      style: {\n        fontSize: \"medium\",\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1241,\n        columnNumber: 27\n      }\n    }))),\n    value: tab.id\n  }, a11yProps(tab.id), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1234,\n      columnNumber: 19\n    }\n  }))))), webSocketMessage !== null && tabs.map(tab => /*#__PURE__*/React.createElement(TabPanel // position=\"fixed\"\n  , {\n    currentTab: tab.id,\n    selectedTab: selectedTab,\n    key: tab.id,\n    style: {\n      paddingLeft: 10,\n      fontSize: \"0.9rem\"\n    },\n    value: tab.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1254,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ComponentManager // VARS\n  , {\n    userProfile: userProfile,\n    selectedTab: selectedTab,\n    id: tab.id,\n    key: tab.id,\n    esInn: esInn,\n    esUserFullName: esUserFullName,\n    esExpiredDate: esExpiredDate // closeTab={closeTab}\n    // mailRest={mailRest}\n    ,\n    operDayIsOpened: operDayIsOpened,\n    userTask: tabData.get(tab.id) // FUNCS\n    ,\n    callSuccessToast: callSuccessToast,\n    callErrorToast: callErrorToast,\n    sendFieldValues: sendFieldValues,\n    handleCloseCurrentTab: handleCloseCurrentTab,\n    clearTabData: clearTabData,\n    updateMailDistributions: updateMailDistributions,\n    reduceMailDistributions: reduceMailDistributions,\n    setEsUserFullName: setEsUserFullName,\n    setEsInn: setEsInn,\n    setEsExpiredDate: setEsExpiredDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1262,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(Modal, {\n    open: showModalEnterPin // onClose={handleCloseModalEnterPin}\n    ,\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1291,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: modalStyle,\n    className: classes.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1297,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"simple-modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1298,\n      columnNumber: 15\n    }\n  }, \"\\u0412\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041F\\u0418\\u041D \\u043A\\u043E\\u0434 \\u0420\\u0443\\u0442\\u043E\\u043A\\u0435\\u043D\\u0430\"), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    style: {\n      width: \"100%\"\n    },\n    error: wrongPin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1299,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"outlined-adornment-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1300,\n      columnNumber: 17\n    }\n  }, \"PIN\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n    type: showPin ? 'text' : 'password',\n    defaultValue: rutokenPin,\n    onChange: handlePinChange,\n    onKeyPress: onKeyPressModalEnterPin,\n    autoFocus: true,\n    endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1308,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"toggle password visibility\",\n      onClick: handleClickShowPin,\n      edge: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1309,\n        columnNumber: 23\n      }\n    }, showPin ? /*#__PURE__*/React.createElement(Visibility, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1314,\n        columnNumber: 36\n      }\n    }) : /*#__PURE__*/React.createElement(VisibilityOff, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1314,\n        columnNumber: 53\n      }\n    }))),\n    labelWidth: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1301,\n      columnNumber: 17\n    }\n  })), wrongPin === true && /*#__PURE__*/React.createElement(\"p\", {\n    color: \"red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1321,\n      columnNumber: 37\n    }\n  }, \"\\u041D\\u0435 \\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 PIN\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => buttonClick(\"SignButton\"),\n    style: {\n      margin: 3,\n      height: 32,\n      fontSize: 12,\n      color: \"white\",\n      backgroundColor: \"#2862F4\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1322,\n      columnNumber: 15\n    }\n  }, \"\\u041E\\u043A\"))), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1336,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    style: {\n      paddingLeft: openDrawer === true ? drawerWidth : 65,\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1337,\n      columnNumber: 11\n    }\n  }, \"Copyright © \" + new Date().getFullYear() + \" Intersoft Ltd. All rights reserved. \"), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      paddingLeft: openDrawer === true ? drawerWidth : 65\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1340,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1343,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    width: \"20%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1344,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    name: \"USAID_logo\",\n    height: \"80px\",\n    width: \"auto\",\n    src: \"./USAID_logo.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1345,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    width: \"80%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1347,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      align: \"center\",\n      fontSize: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1348,\n      columnNumber: 17\n    }\n  }, \"Данная автоматизированная информационная система стала возможной благодаря помощи американского народа, оказанной через Агентство США по международному развитию (USAID). Закрытое Акционерное Общество (ЗАО) «Центральный депозитарий» Кыргызской Республики несет ответственность за содержание системы, которое не обязательно отражает позицию USAID или Правительства США.\")))), /*#__PURE__*/React.createElement(IconButton, {\n    href: \"#top\",\n    style: hrefStyleTop,\n    className: classes.hrefStyleTop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1354,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ArrowUpwardRoundedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1355,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    href: \"#bottom\",\n    style: hrefStyleBottom,\n    className: classes.hrefStyleBottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1357,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ArrowDownwardIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1358,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    name: \"bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1360,\n      columnNumber: 11\n    }\n  }))));\n});","map":{"version":3,"names":["React","useState","useEffect","clsx","makeStyles","CssBaseline","Drawer","AppBar","Toolbar","List","Typography","Divider","IconButton","Grid","ListItem","CircularProgress","Collapse","Tabs","Tab","ComponentManager","Box","Modal","Button","FormControl","FormControlLabel","OutlinedInput","InputLabel","InputAdornment","Visibility","VisibilityOff","MenuIcon","ChevronLeftIcon","ExitToAppIcon","ExpandLess","ExpandMore","AddCircleIcon","CloseIcon","AccountCircleIcon","Notification","NotificationsActiveIcon","EmailIcon","Badge","ArrowUpwardRoundedIcon","ArrowDownwardIcon","useKeycloak","swal","ToastContainer","toast","rutoken","moment","plugin","rutokenHandle","certHandle","certData","cmsData","TabPanel","props","children","currentTab","selectedTab","other","a11yProps","id","HashMap","require","drawerWidth","useStyles","theme","root","display","toolbar","paddingRight","backgroundColor","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","appBarSpacer","content","height","marginTop","overflow","paper","flexDirection","modal","palette","background","border","boxShadow","shadows","hrefStyleTop","hrefStyleBottom","useStylesnav","maxWidth","listItemText","fontSize","paddingLeft","level1","maxHeight","level2","level3","tabs","getModalStyle","top","left","transform","getHrefStyleTop","bottom","right","getHrefStyleBottom","ready","then","window","chrome","InstallTrigger","isExtensionInstalled","Promise","resolve","result","isPluginInstalled","loadPlugin","keycloak","setSelectedTab","setTabs","endpoint","routes","setRoutes","session_id","setSession_id","webSocketMessage","setWebSocketMessage","currTaskId","setCurrTaskId","opennav","setOpennav","openDrawer","setOpenDrawer","tabCounter","setTabCounter","menuItemStates","setMenuItemStates","socket","setSocket","tabData","setTabData","userProfile","setUserProfile","userRoleLabel","setUserRoleLabel","unreadInstructions","setUnreadInstructions","urgentUnreadInstructions","setUrgentUnreadInstructions","unreadDistributions","setUnreadDistributions","operDayIsOpened","setOperDayIsOpened","lastClosedDate","setLastClosedDate","Date","format","restore","setRestore","rutokenRequired","setRutokenRequired","modalStyle","showModalEnterPin","setShowModalEnterPin","rutokenPin","setRutokenPin","showPin","setShowPin","wrongPin","setWrongPin","esUserFullName","setEsUserFullName","esInn","setEsInn","esExpiredDate","setEsExpiredDate","classes","classesnav","handleDrawerOpen","handleDrawerClose","loadUserProfile","success","profile","curUserProfile","firstName","lastName","email","username","attributes","er","i","value","console","log","error","sign","data","textToSign","length","enumerateDevices","devices","swAllert","firstDevice","getDeviceInfo","TOKEN_INFO_IS_LOGGED_IN","isLoggedIn","login","enumerateCertificates","CERT_CATEGORY_UNSPEC","certs","parseCertificate","alert","options","inn","fullName","subject","rdn","validNotAfter","substring","restoreUserTabs","handleCloseModalEnterPin","DATA_FORMAT_PLAIN","logout","handleError","reason","isNaN","message","errorCodes","parseInt","PIN_INCORRECT","handlePinChange","event","target","handleClickShowPin","onKeyPressModalEnterPin","code","charCode","buttonClick","text","icon","buttons","ok","userRole","undefined","WebSocket","onmessage","incomingJson","JSON","parse","messageType","send","stringify","commandType","userId","partner","token","updatedMenuItemStates","slice","newMenuItem","name","state","push","l","newMenuItem2","taskType","get","process_id","set","taskID","clearTabData","updatedTabs","label","tabLabel","handleCloseCurrentTab","urgent","count","toastType","callSuccessToast","toastText","callErrorToast","opDayStatus","status","isOpened","onclose","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","processKey","variables","user_session_id","userAction","updateMailDistributions","reduceMailDistributions","buttonName","sendFieldValues","commandJson","readyState","OPEN","closeTab","tabId","selectedTabData","handleOpenSwal","yes","no","swalButtons","click","handleCloseCurrentTabModal","handleOpenMenuClick","handleMenuButtonClick","button","getUUID","parentLabel","authorization","uuidv1","handleTabChange","newValue","remove","splice","Object","keys","getLevel1Items","index","map","level2Item","getLevel2Items","level3Item","getLevel3Items","color","paddingTop","handleOperDayClick","cursor","authenticated","tab","margin","getFullYear","align"],"sources":["C:/Users/SERGO/Desktop/depo/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport ComponentManager from \"../components/ComponentManager/ComponentManager.jsx\";\nimport Box from \"@material-ui/core/Box\";\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\n// PIN components\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n// Icons\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToAppOutlined\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircleOutlineOutlined\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport Notification from \"@material-ui/icons/Notifications\";\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport EmailIcon from '@material-ui/icons/Email';\nimport Badge from '@material-ui/core/Badge';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\n// Libs\nimport { useKeycloak } from \"../lib\";\nimport swal from \"sweetalert\" // https://sweetalert.js.org/guides/\nimport { ToastContainer, toast } from 'react-toastify'; // https://fkhadra.github.io/react-toastify/introduction/\nimport 'react-toastify/dist/ReactToastify.css';\nimport * as rutoken from \"rutoken\";\nimport moment from \"moment\";\nvar plugin = null;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nfunction TabPanel(props) {\n  const { children, currentTab, selectedTab, ...other } = props;\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={currentTab !== selectedTab}\n      id={`scrollable-auto-tabpanel-${selectedTab}`}\n      aria-labelledby={`scrollable-auto-tab-${selectedTab}`}\n      {...other}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  )\n}\nfunction a11yProps(id) {\n  return {\n    id: `scrollable-auto-tab-${id}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${id}`\n  }\n}\nvar HashMap = require(\"hashmap\")\nconst drawerWidth = 250;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n    backgroundColor: \"#0F6038\",\n    // height: \"200px\"\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: 36\n  },\n  menuButtonHidden: {\n    display: \"none\"\n  },\n  title: {\n    flexGrow: 1\n  },\n  drawerPaper: {\n    // backgroundColor: \"#E6F3ED\",\n    position: \"fixed\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9)\n    }\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: \"86vh\",\n    marginTop: \"110px\",\n    // height: \"100vh\",\n    overflow: \"auto\",\n    // paddingTop: \"190px\",\n    // border: \"1px solid red\"\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  modal: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  hrefStyleTop: {\n    position: 'absolute',\n    backgroundColor: \"white\",\n    border: '1px solid grey',\n    height: \"35px\",\n    width: \"35px\"\n  },\n  hrefStyleBottom: {\n    position: 'absolute',\n    backgroundColor: \"white\",\n    border: '1px solid grey',\n    height: \"35px\",\n    width: \"35px\"\n  }\n}))\nconst useStylesnav = makeStyles(theme => ({\n  root: {\n    overflow: \"hidden\",\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  },\n  listItemText: {\n    fontSize: 13,\n    paddingLeft: \"2px\",\n    // \"display\": \"flex\", \n    // \"flex-wrap\": \"wrap\",\n  },\n  level1: {\n    paddingLeft: theme.spacing(0),\n    maxHeight: 20\n  },\n  level2: {\n    paddingLeft: theme.spacing(0),\n    maxHeight: 20\n  },\n  level3: {\n    paddingLeft: theme.spacing(1),\n    maxHeight: 20\n  },\n  tabs: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  }\n}))\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\nfunction getHrefStyleTop() {\n  const bottom = 7;\n  const right = 2;\n  return {\n    bottom: `${bottom}%`,\n    right: `${right}%`,\n    transform: `translate(-${bottom}%, -${right}%)`,\n  };\n}\nfunction getHrefStyleBottom() {\n  const bottom = 2;\n  const right = 2;\n  return {\n    bottom: `${bottom}%`,\n    right: `${right}%`,\n    transform: `translate(-${bottom}%, -${right}%)`,\n  };\n}\n\n\nrutoken.ready\n  // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n  .then(function () {\n    if (window.chrome || typeof InstallTrigger !== 'undefined') {\n      return rutoken.isExtensionInstalled()\n    } else {\n      return Promise.resolve(true)\n    }\n  })\n  // Проверка установки Рутокен Плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.isPluginInstalled()\n    } else {\n      // alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n    }\n  })\n  // Загрузка плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.loadPlugin()\n    } else {\n      // alert(\"Не удаётся найти Плагин\");\n    }\n  })\n  //Можно начинать работать с плагином\n  .then(function (result) {\n    if (!result) {\n      return // alert(\"Не удаётся загрузить Плагин\")\n    } else {\n      plugin = result\n      return Promise.resolve()\n    }\n  })\nexport default () => {\n  const { keycloak } = useKeycloak()\n  // This.state\n  const [selectedTab, setSelectedTab] = useState(null)\n  const [tabs, setTabs] = useState([])\n  // const [endpoint] = useState(\"wss://depo.cds.kg:3120\") //Rented Server UBUNTU\n  // const [endpoint] = useState(\"wss://depo-test.cds.kg:3120\") //OLD Server\n  const [endpoint] = useState(\"ws://192.168.2.109:3220\") //Local\n  const [routes, setRoutes] = useState([])\n  const [session_id, setSession_id] = useState(null)\n  const [webSocketMessage, setWebSocketMessage] = useState(null)\n  const [currTaskId, setCurrTaskId] = useState(null)\n  const [opennav, setOpennav] = useState(false)\n  const [openDrawer, setOpenDrawer] = useState(true)\n  const [tabCounter, setTabCounter] = useState(1)\n  const [menuItemStates, setMenuItemStates] = useState([])\n  const [socket, setSocket] = useState(null)\n  const [tabData, setTabData] = useState(null)\n  // User\n  const [userProfile, setUserProfile] = useState({})\n  const [userRoleLabel, setUserRoleLabel] = useState(\"\")\n\n  const [unreadInstructions, setUnreadInstructions] = useState(0)\n  const [urgentUnreadInstructions, setUrgentUnreadInstructions] = useState(false)\n  const [unreadDistributions, setUnreadDistributions] = useState(0)\n  const [operDayIsOpened, setOperDayIsOpened] = useState(null)\n  const [lastClosedDate, setLastClosedDate] = useState(moment(new Date()).format(\"DD.MM.YYYY\"))\n  const [restore, setRestore] = useState(false)\n  // Rutoken\n  const [rutokenRequired, setRutokenRequired] = useState(true)\n  const [modalStyle] = useState(getModalStyle)\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false)\n  const [rutokenPin, setRutokenPin] = useState(\"\")\n  const [showPin, setShowPin] = useState(false)\n  const [wrongPin, setWrongPin] = useState(false)\n  const [esUserFullName, setEsUserFullName] = useState(null)\n  const [esInn, setEsInn] = useState(null)\n  const [esExpiredDate, setEsExpiredDate] = useState(null)\n\n  const classes = useStyles()\n  const classesnav = useStylesnav()\n  const [hrefStyleTop] = useState(getHrefStyleTop)\n  const [hrefStyleBottom] = useState(getHrefStyleBottom)\n  const handleDrawerOpen = () => {\n    setOpenDrawer(true)\n  }\n  const handleDrawerClose = () => {\n    setOpenDrawer(false)\n  }\n  // console.log(\"INN\", esInn)\n  useEffect(() => {\n    if (tabData === null) {\n      setTabData(new HashMap())\n    }\n    keycloak.loadUserProfile().success(function (profile) {\n      let curUserProfile = {\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        email: profile.email,\n        username: profile.username\n      }\n      try {\n        if (profile.attributes[\"rutokenRequired\"][0] === \"true\") {\n          setRutokenRequired(true)\n        }\n        else {\n          setRutokenRequired(false)\n          setRestore(true)\n        }\n      }\n      catch (er) {\n        setRutokenRequired(false)\n        setRestore(true)\n      }\n\n      for (let i in profile.attributes) {\n        let value = profile.attributes[i][0] === \"true\" ? true : profile.attributes[i][0] === \"false\" ? false : profile.attributes[i][0]\n        curUserProfile[i] = value\n      }\n      if (curUserProfile.rutokenRequired === true) {\n        setShowModalEnterPin(true)\n      }\n      setUserProfile(curUserProfile)\n      console.log(\"PROFILE\", curUserProfile)\n    }).error(function () {\n      console.log(\"Failed to load user profile\")\n    })\n  }, [])\n  // RuToken functions\n  // Sign with rutoken\n  function sign(data) {\n    var textToSign = data;\n    if (textToSign.length == 0) {\n      console.log(\"Не хватает текста для подписи\");\n      return;\n    }\n    if (plugin !== null) {\n      // Перебор подключенных Рутокенов\n      plugin.enumerateDevices()\n        .then(function (devices) {\n          if (devices.length > 0) {\n            return Promise.resolve(devices[0]);\n          } else {\n            swAllert(\"Рутокен не обнаружен\", \"warning\");\n          }\n        })\n        // Проверка залогиненности\n        .then(function (firstDevice) {\n          rutokenHandle = firstDevice;\n          return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n        })\n        // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n        .then(function (isLoggedIn) {\n          // console.log(\"PIN\", rutokenPin)\n          if (isLoggedIn) {\n            return Promise.resolve();\n          } else {\n            return plugin.login(rutokenHandle, rutokenPin);\n          }\n        })\n        // Перебор пользовательских сертификатов на токене\n        .then(function () {\n          return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n        })\n        .then(function (certs) {\n          if (certs.length > 0) {\n            certHandle = certs[0];\n            return plugin.parseCertificate(rutokenHandle, certs[0]);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        })\n        // Подписание данных из текстового поля на первом найденом сертификате\n        .then(function (certs) {\n          certData = certs\n          console.log(\"RUTDATA\", certData)\n          // var r = plugin.getCertificateInfo(0, certs).then(function (res){console.log(res)})\n          // console.log(\"res\", r)\n          if (certHandle.length > 0) {\n            var options = {};\n\n            let inn = \"\"\n            let fullName = \"\"\n            for (let i = 0; i < certData.subject.length; i++) {\n              if (certData.subject[i].rdn === \"serialNumber\") {\n                inn = certData.subject[i].value\n              }\n              if (certData.subject[i].rdn === \"commonName\") {\n                fullName = certData.subject[i].value\n              }\n            }\n            console.log(\"ESDATA\", inn, fullName)\n            setEsInn(inn)\n            setEsUserFullName(fullName)\n            setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1))\n            restoreUserTabs()\n            handleCloseModalEnterPin()\n            return plugin.sign(rutokenHandle, certHandle, textToSign, plugin.DATA_FORMAT_PLAIN, options);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\")\n          }\n        })\n        // Закрытие сессии\n        .then(function () {\n          plugin.logout(rutokenHandle)\n        }, handleError)\n    }\n    else { swAllert(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\") }\n  }\n  // catch errors while signing docs\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true)\n          break;\n        default:\n          alert(\"Неизвестная ошибка\");\n      }\n    }\n  }\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false)\n  }\n  function handlePinChange(event) {\n    console.log(\"PIN EV\", event.target.value)\n    setRutokenPin(event.target.value)\n    setWrongPin(false)\n    // console.log(\"PIN\", event.target.value)\n  }\n  function handleClickShowPin() {\n    setShowPin(!showPin)\n  }\n  function onKeyPressModalEnterPin(event) {\n    console.log(\"KP EV\", event.target.value)\n    let code = event.charCode\n    if (code === 13) {\n      buttonClick(\"SignButton\")\n    }\n  }\n  function swAllert(text, icon) {\n    return (\n      swal({\n        text: text,\n        icon: icon,\n        buttons: { ok: \"Ок\" },\n      })\n    )\n  }\n  // Main socket connection and data receiving\n  if (socket === null && userProfile.userRole !== undefined) {\n    setSocket(new WebSocket(endpoint))\n    console.log(\"CONNECTING...\", endpoint)\n  }\n  if (socket !== null) {\n    socket.onmessage = async function (message) {\n      var incomingJson = JSON.parse(message.data)\n      // console.log(\"Socket message\", incomingJson)\n      // console.log(\"TAB DATA\", tabData)\n      if (incomingJson.messageType === \"session_id\") {\n        console.log(\"CONNECTED TO: \", endpoint)\n        console.log(\"NEW SESSION: \", incomingJson.session_id)\n        setSession_id(incomingJson.session_id)\n        socket.send(JSON.stringify({\n          commandType: \"setUserData\",\n          userId: userProfile.userId,\n          session_id: incomingJson.session_id,\n          userRole: userProfile.userRole,\n          partner: userProfile.partner,\n          token: \"Bearer \" + keycloak.token\n        }))\n      }\n      else if (incomingJson.messageType === \"userDataInserted\") {\n        console.log(\"userDataInserted\", incomingJson.session_id)\n        socket.send(JSON.stringify({\n          commandType: \"getMenu\",\n          userProfile: userProfile,\n          session_id: incomingJson.session_id,\n          token: \"Bearer \" + keycloak.token\n        }))\n        socket.send(JSON.stringify({\n          commandType: \"getUserRoleLabel\",\n          userProfile: userProfile,\n          session_id: incomingJson.session_id,\n          token: \"Bearer \" + keycloak.token\n        }))\n        if (restore === true) {\n          restoreUserTabs()\n        }\n      }\n      else if (incomingJson.messageType === \"Menu\") {\n        let updatedMenuItemStates = menuItemStates.slice()\n        for (let i = 0; i < incomingJson.routes.length; i++) {\n          if (incomingJson.routes[i].level2 !== undefined) {\n            let newMenuItem = {\n              name: incomingJson.routes[i].name,\n              state: incomingJson.routes[i].state\n            }\n            updatedMenuItemStates.push(newMenuItem)\n            for (let l = 0; l < incomingJson.routes[i].level2.length; l++) {\n              if (incomingJson.routes[i].level2[l].level3 !== undefined) {\n                let newMenuItem2 = {\n                  name: incomingJson.routes[i].level2[l].name,\n                  state: incomingJson.routes[i].level2[l].state\n                }\n                updatedMenuItemStates.push(newMenuItem2)\n              }\n            }\n          }\n        }\n        setRoutes(incomingJson.routes)\n        setMenuItemStates(updatedMenuItemStates)\n        // console.log(\"MENU States\", updatedMenuItemStates)\n      }\n      else if (incomingJson.messageType === \"userTask\") {\n        console.log(\"NEW TASK\", incomingJson.taskType)\n        if (tabData.get(incomingJson.process_id) === undefined) {\n          tabData.set(incomingJson.process_id, incomingJson)\n          setWebSocketMessage(incomingJson)\n          setCurrTaskId(incomingJson.taskID)\n        }\n        else {\n          clearTabData(incomingJson.process_id)\n          tabData.set(incomingJson.process_id, incomingJson)\n          setWebSocketMessage(incomingJson)\n          setCurrTaskId(incomingJson.taskID)\n        }\n      }\n      else if (incomingJson.messageType === \"restoreTab\") {\n        if (tabData.get(incomingJson.process_id) === undefined) {\n          await tabData.set(incomingJson.process_id, incomingJson)\n          let updatedTabs = tabs.slice()\n          updatedTabs.push({ id: incomingJson.process_id, name: incomingJson.process_id, label: incomingJson.tabLabel + \" \" + tabCounter })\n          setTabs(updatedTabs)\n          setSelectedTab(incomingJson.process_id)\n          setTabCounter(tabCounter + 1)\n          setCurrTaskId(incomingJson.taskID)\n          setWebSocketMessage(incomingJson)\n          // // console.log(\"restoreTab\", incomingJson)\n        }\n      }\n      else if (incomingJson.messageType === \"error\") {\n        setWebSocketMessage(incomingJson)\n        // console.log(\"webSocket ERROR\", incomingJson)\n        tabData.set(incomingJson.process_id, incomingJson)\n        setCurrTaskId(incomingJson.taskID)\n        handleCloseCurrentTab(incomingJson.process_id)\n      }\n      else if (incomingJson.messageType === \"notifications\") {\n        let unreadInstructions = JSON.parse(incomingJson.unreadInstructions)\n        // console.log(\"NOTIFICATIONS\", unreadInstructions)\n        setUrgentUnreadInstructions(unreadInstructions.urgent)\n        setUnreadInstructions(parseInt(unreadInstructions.count))\n      }\n      else if (incomingJson.messageType === \"notification\") {\n        swal({\n          text: incomingJson.text,\n          icon: incomingJson.icon\n        })\n      }\n      else if (incomingJson.messageType === \"distributions\") {\n        let unreadDistributions = JSON.parse(incomingJson.unreadDistributions)\n        console.log(\"unreadDistributions\", unreadDistributions)\n        if (unreadDistributions.length > 3) {\n          setUnreadDistributions(unreadDistributions.substring(0, 3) + \"+\")\n        }\n        else {\n          setUnreadDistributions(unreadDistributions)\n        }\n      }\n      else if (incomingJson.messageType === \"toast\") {\n        if (incomingJson.toastType === \"success\") {\n          callSuccessToast(incomingJson.toastText)\n          // toast(incomingJson.toastText, {\n          //   position: \"top-right\",\n          //   autoClose: 6000,\n          //   hideProgressBar: false,\n          //   closeOnClick: true,\n          //   pauseOnHover: true,\n          //   draggable: true,\n          //   progress: undefined,\n          // })\n        }\n        else if (incomingJson.toastType === \"error\") {\n          callErrorToast(incomingJson.toastText)\n          // toast.error(incomingJson.toastText, {\n          //   position: \"top-right\",\n          //   autoClose: 9000,\n          //   hideProgressBar: false,\n          //   closeOnClick: true,\n          //   pauseOnHover: true,\n          //   draggable: true,\n          //   progress: undefined,\n          // })\n        }\n      }\n      else if (incomingJson.messageType === \"operDayStatus\") {\n        let opDayStatus = JSON.parse(incomingJson.status)\n        console.log(\"OP DAY\", opDayStatus)\n        // if (opDayStatus.isOpened === true) {\n        setOperDayIsOpened(opDayStatus.isOpened)\n        setLastClosedDate(moment(new Date(opDayStatus.lastClosedDate)).format(\"DD.MM.YYYY\"))\n        \n        // }\n        // else {\n        //   setOperDayIsOpened(false)\n        // }\n      }\n      else if (incomingJson.messageType === \"userRoleLabel\") {\n        // console.log(\"ROLE\", incomingJson)\n        setUserRoleLabel(incomingJson.userRoleLabel)\n      }\n      else {\n        // console.log(\"Unknown RESTMessage\", incomingJson)\n      }\n    }\n    socket.onclose = function (er) {\n      console.log(\"CONNECTION CLOSED \", endpoint)\n      setSocket(null)\n    }\n  }\n  function callSuccessToast(text) {\n    toast(text, {\n      position: \"top-right\",\n      autoClose: 6000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    })\n  }\n  function callErrorToast(text) {\n    toast.error(text, {\n      position: \"top-right\",\n      autoClose: 9000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    })\n  }\n  function restoreUserTabs() {\n    console.log(\"RESTORE STARTED\")\n    setRestore(false)\n    socket.send(JSON.stringify({\n      commandType: \"restoreSession\",\n      userId: userProfile.userId,\n      session_id: session_id,\n      userRole: userProfile.userRole,\n      token: \"Bearer \" + keycloak.token\n    }))\n    socket.send(JSON.stringify({\n      commandType: \"getOperDayStatus\",\n      userId: userProfile.userId,\n      session_id: session_id,\n      token: \"Bearer \" + keycloak.token\n    }))\n    socket.send(JSON.stringify({\n      commandType: \"launchProcess\",\n      processKey: \"process_169eccff-4a0c-4b5f-8eda-150965351a91\",\n      session_id: session_id,\n      process_id: \"null\",\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        user_session_id: { value: session_id },\n        userAction: { value: \"getNotificationsCount\" }\n      }\n    }))\n    updateMailDistributions()\n  }\n  function updateMailDistributions() {\n    socket.send(JSON.stringify({\n      commandType: \"getUnreadDistributions\",\n      // processKey: \"process_673b1ef0-a228-476c-832a-682b14e5cc93\",\n      session_id: session_id,\n      process_id: \"null\",\n      userId: userProfile.userId,\n      partner: userProfile.partner,\n      token: \"Bearer \" + keycloak.token,\n      // variables: {\n      //   user_session_id: { value: session_id },\n      //   userAction: { value: \"getUnreadDistributions\" },\n      //   user_id_recipient: { value: userProfile.partner},\n      //   userId: { value: userProfile.userId },\n      // }\n    }))\n  }\n  function reduceMailDistributions() {\n    if(unreadDistributions > 0){\n      setUnreadDistributions(unreadDistributions - 1)\n    }\n  }\n  \n  // Main button click handler\n  function buttonClick(buttonName) {\n    // console.log(\"Button\", buttonName)\n    if (buttonName === \"SignButton\") {\n      console.log(\"button Sign: \")\n      if (rutokenPin === \"\") {\n        setWrongPin(true)\n      }\n      else {\n        sign(\"WriteESDatatoLocalState\")\n      }\n    }\n    else {\n      console.log(\"button: \", buttonName)\n    }\n  }\n  function sendFieldValues(commandJson) {\n    if (socket.readyState === socket.OPEN) {\n      commandJson[\"token\"] = \"Bearer \" + keycloak.token\n      commandJson[\"session_id\"] = session_id\n      console.log(\"CUR SESSION: \", session_id)\n      if (commandJson.commandType !== \"deleteSavedDoc\") {\n        clearTabData(commandJson.process_id)\n      }\n      if (commandJson.variables !== undefined) {\n        if (commandJson.variables[\"userAction\"][\"value\"] === \"cancel\") {\n          closeTab(selectedTab)\n          socket.send(JSON.stringify(commandJson))\n        }\n        else {\n          commandJson.variables[\"authorization\"] = { value: \"Bearer \" + keycloak.token }\n          socket.send(JSON.stringify(commandJson))\n          console.log(\"HOME SEND\", commandJson.session_id)\n        }\n      }\n      else {\n        socket.send(JSON.stringify(commandJson))\n        // console.log(\"HOME SEND\", commandJson)\n      }\n    }\n    else {\n      setSession_id(null)\n      setSocket(null)\n      clearTabData(commandJson.process_id)\n    }\n    setCurrTaskId(\"\")\n  }\n  function handleCloseCurrentTab(tabId) {\n    // await setSelectedTab(tabId)\n    var selectedTabData = tabData.get(tabId)\n    if (selectedTabData !== undefined) {\n      var commandJson = {\n        commandType: \"completeTask\",\n        session_id: selectedTabData.session_id,\n        process_id: selectedTabData.process_id,\n        taskID: selectedTabData.taskID,\n        token: \"Bearer \" + keycloak.token,\n        variables: {\n          userAction: { value: \"cancel\" },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole }\n        }\n      }\n      if (userProfile.userRole === \"1\") {\n        sendFieldValues(commandJson)\n        closeTab(tabId)\n      }\n      else {\n        if (selectedTabData.taskType === \"showSearchUser\" ||\n          selectedTabData.taskType === \"showAccountsSearchForm\" ||\n          selectedTabData.taskType === \"showSecuritiesSearchForm\" ||\n          selectedTabData.taskType === \"showIssuersSearchForm\" ||\n          selectedTabData.taskType === \"showDepositorsSearchForm\" ||\n          selectedTabData.taskType === \"showDepositoriesSearchForm\" ||\n          selectedTabData.taskType === \"showIssuersSearchForm\" ||\n          selectedTabData.taskType === \"showPartnersSearchForm\" ||\n          selectedTabData.taskType === \"showTransactionsSearchForm\" ||\n          selectedTabData.taskType === \"showReferenceListSearchForm\" ||\n          selectedTabData.taskType === \"showInstructionsSearchForm\" ||\n          selectedTabData.taskType === \"showInstructionsRegistrarsSearchForm\" ||\n          selectedTabData.taskType === \"showChargeForCDServicesSearchForm\" ||\n          selectedTabData.taskType === \"showTransitChargeForCDServicesSearchForm\" ||\n          selectedTabData.taskType === \"showPaymentsForCDServicesSearchForm\" ||\n          selectedTabData.taskType === \"showTransitPaymentsForCDServicesSearchForm\" ||\n          selectedTabData.taskType === \"showAccountingReportsSelectingForm\" ||\n          selectedTabData.taskType === \"showCurrencyRatesSearchForm\" ||\n          selectedTabData.taskType === \"showServiceTypesSearchForm\" ||\n          selectedTabData.taskType === \"showServiceGroupsSearchForm\" ||\n          selectedTabData.taskType === \"showImportFileGIKForm\" ||\n          selectedTabData.taskType === \"showQuestinariesGIKSearchForm\" ||\n          selectedTabData.taskType === \"showAccountsGIKSearchForm\" ||\n          selectedTabData.taskType === \"showReportsSelectingForm\" ||\n          selectedTabData.taskType === \"showTariffsRegistrarsSearchForm\" ||\n          selectedTabData.taskType === \"showTradesSearchForm\" ||\n          selectedTabData.taskType === \"showContractsSearchForm\" ||\n          selectedTabData.taskType === \"CorporativeActionsForm\" ||\n          selectedTabData.taskType === \"showStockSecuritySearchForm\" ||\n          selectedTabData.taskType === \"showStockCurrencySearchForm\" ||\n          selectedTabData.taskType === \"showUploadDataToTSForm\" ||\n          selectedTabData.taskType === \"showLoadDataFromTSForm\" ||\n          selectedTabData.taskType === \"showFormsEditForm\" ||\n          selectedTabData.taskType === \"showTariffsCDSearchForm\" ||\n          selectedTabData.taskType === \"showFormsSearchForm\" ||\n          selectedTabData.taskType === \"showAccountingEntrySearchForm\" ||\n          selectedTabData.taskType === \"showSecuritiesOrdersHistorySearchForm\" ||\n          selectedTabData.taskType === \"showCurrenciesOrdersHistorySearchForm\" ||\n          selectedTabData.taskType === \"showSecuritiesTradesHistorySearchForm\" ||\n          selectedTabData.taskType === \"showCurrenciesTradesHistorySearchForm\" ||\n          selectedTabData.taskType === \"showLoadDataFromTSSecuritiesForm\" ||\n          selectedTabData.taskType === \"showUploadDataToTSSecuritiesForm\" ||\n          selectedTabData.taskType === \"showLoadDataFromTSCurrenciesForm\" ||\n          selectedTabData.taskType === \"showUploadDataToTSCurrenciesForm\" ||\n          selectedTabData.taskType === \"showOperationDayForm\" ||\n          selectedTabData.taskType === \"showRegistrarsSearchForm\" ||\n          selectedTabData.taskType === \"showTariffsCorrDepositorySearchForm\" ||\n          selectedTabData.taskType === \"showCoefficientDepositorsSearchForm\" ||\n          selectedTabData.taskType === \"showInstructionsTypeSelectingForm\" ||\n          selectedTabData.taskType === \"showReportsCreatingForm\" ||\n          selectedTabData.taskType === \"showTransferOrdersSearchForm\" ||\n          selectedTabData.taskType === \"corporativeActionsMainForm\" ||\n          selectedTabData.taskType === \"showCorrDepositoriesSearchForm\" ||\n          selectedTabData.taskType === \"showNewSecurityApplicationsSearchForm\" ||\n          selectedTabData.taskType === \"showMortgageSecuritiesSearchForm\" ||\n          selectedTabData.taskType === \"showExchangeTSFilesSearchForm\" ||\n          selectedTabData.taskType === \"showExchangeTSFilesListForm\" ||\n          selectedTabData.taskType === \"error\") {\n          sendFieldValues(commandJson)\n          closeTab(tabId)\n        }\n        else handleOpenSwal(\"Вы действительно хотите закрыть вкладку?\", { yes: \"Да\", no: \"Нет\" }, tabId)\n      }\n    }\n  }\n  // Custom allert component\n  function handleOpenSwal(text, swalButtons, tabId) {\n    return (\n      swal({\n        text: text,\n        icon: \"warning\",\n        buttons: swalButtons\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            handleCloseCurrentTabModal(tabId)\n          }\n        })\n    )\n  }\n  // Close current tab from opened alert component\n  function handleCloseCurrentTabModal(tabId) {\n    var selectedTabData = tabData.get(tabId)\n    var commandJson =\n    {\n      commandType: \"completeTask\",\n      session_id: selectedTabData.session_id,\n      process_id: selectedTabData.process_id,\n      taskID: selectedTabData.taskID,\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        userAction: { value: \"cancel\" },\n        userId: { value: userProfile.userId },\n        userRole: { value: userProfile.userRole }\n      }\n    }\n    sendFieldValues(commandJson)\n    closeTab(tabId)\n  }\n\n  // wrap up menu items\n  function handleOpenMenuClick(name) {\n    // console.log(\"Event\", name)\n    for (var i = 0; i < menuItemStates.length; i++) {\n      if (menuItemStates[i].name === name) {\n        if (menuItemStates[i].state === true) {\n          menuItemStates[i].state = false\n        }\n        else {\n          menuItemStates[i].state = true\n        }\n      }\n    }\n    setOpennav(!opennav)\n  }\n  // launch process related to menu button\n  function handleMenuButtonClick(button) {\n    // console.log(\"Menu button clicked\", button)\n    if (button.name !== \"insertForm\" && button.name !== \"redeploy\") {\n      var process_id = getUUID()\n      let updatedTabs = tabs.slice()\n      updatedTabs.push({ id: process_id, name: process_id, label: button.parentLabel + \" \" + tabCounter })\n      setTabs(updatedTabs)\n      setSelectedTab(process_id)\n      setTabCounter(tabCounter + 1)\n    }\n    const commandJson =\n    {\n      commandType: button.commandType,\n      processKey: button.processKey,\n      process_id: process_id,\n      session_id: session_id,\n      userId: userProfile.userId,\n      token: \"Bearer \" + keycloak.token,\n      variables: {\n        user_session_id: { value: session_id },\n        process_id: { value: process_id },\n        userAction: { value: \"filter\" },\n        userId: { value: userProfile.userId },\n        userRole: { value: userProfile.userRole },\n        tabLabel: { value: button.parentLabel },\n        authorization: { value: \"Bearer \" + keycloak.token }\n      }\n    }\n    sendFieldValues(commandJson)\n    // console.log(\"Menu Button \", commandJson)\n  }\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\")\n    return uuidv1()\n  }\n  async function handleTabChange(event, newValue) {\n    setSelectedTab(newValue)\n    // console.log(\"TAB CHANGE\", event, newValue)\n  }\n  function clearTabData(process_id) {\n    tabData.remove(process_id)\n    setCurrTaskId(null)\n    // console.log(\"Clearing TabData\", tabData, \"ID\", process_id)\n  }\n  // close selected tab clear it\"s data from cache & change tab counter\n  function closeTab(process_id) {\n    if (process_id !== undefined) {\n      // console.log(\"Closing TAB\", process_id)\n      let updatedTabs = tabs.slice()\n      for (var i = 0; i < updatedTabs.length; i++) {\n        if (updatedTabs[i].id === process_id) {\n          // console.log(\"INDEX\", i)\n          updatedTabs.splice(i, 1)\n        }\n      }\n      if (updatedTabs[0] === undefined) {\n        setSelectedTab(null)\n        setTabCounter(1)\n      }\n      else setSelectedTab(updatedTabs[0].id)\n      setTabs(updatedTabs)\n    }\n    // console.log(\"Closing TAB\", process_id)\n    let updatedTabs = tabs.slice()\n    for (i = 0; i < updatedTabs.length; i++) {\n      if (updatedTabs[i].id === process_id) {\n        // console.log(\"INDEX\", i)\n        updatedTabs.splice(i, 1)\n      }\n    }\n    if (Object.keys(updatedTabs).length === 0) {\n      setSelectedTab(null)\n      setTabCounter(1)\n    }\n    else {\n      setSelectedTab(updatedTabs[0].id)\n      setTabs(updatedTabs)\n    }\n  }\n  // Creating Menu Levels 1-3\n  function getLevel1Items(level1, index) {\n    // console.log(\"Creating Menu menuItemStates\", menuItemStates)\n    if (level1.level2 === undefined) {\n      return (\n        <ListItem button\n          key={index}\n          className={classesnav.level1}\n          onClick={() => handleMenuButtonClick(level1)}\n        >\n          <ExitToAppIcon />\n          <div className={classesnav.listItemText}>{openDrawer === true ? level1.label : \"\"}</div>\n        </ListItem>\n      )\n    }\n    else {\n      for (var i = 0; i < menuItemStates.length; i++) {\n        if (menuItemStates[i].name === level1.name) {\n          return (\n            <List key={index}>\n              <ListItem\n                button\n                key={index}\n                className={classesnav.level1}\n                onClick={() => handleOpenMenuClick(level1.name)}\n              >\n                <AddCircleIcon style={{ height: 20 }} />\n                <div className={classesnav.listItemText} style={{ \"fontWeight\": \"bold\" }}>{openDrawer === true ? level1.label : \"\"}</div>\n                {(menuItemStates[i].state === true) ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={menuItemStates[i].state} timeout=\"auto\" unmountOnExit>\n                {level1.level2.map((level2Item, index) =>\n                  getLevel2Items(level2Item, index)\n                )}\n              </Collapse>\n            </List>\n          )\n        }\n      }\n    }\n  }\n  function getLevel2Items(level2, index) {\n    // console.log(\"Level2\", level2)\n    if (level2.level3 === undefined) {\n      return (\n        <ListItem button\n          className={classesnav.level2}\n          key={index}\n          onClick={() => handleMenuButtonClick(level2)}\n        >\n          <ExitToAppIcon style={{ height: 20 }} />\n          <div className={classesnav.listItemText}>{openDrawer === true ? level2.label : \"\"}</div>\n        </ListItem>\n      )\n    }\n    else {\n      for (var i = 0; i < menuItemStates.length; i++) {\n        if (menuItemStates[i].name === level2.name) {\n          return (\n            <List component=\"div\" disablePadding key={index}>\n              <ListItem button\n                className={classesnav.level2}\n                key={index}\n                onClick={() => handleOpenMenuClick(level2.name)}\n              >\n                <AddCircleIcon style={{ height: 20 }} />\n                <div className={classesnav.listItemText} style={{ \"fontWeight\": \"bold\" }}>{openDrawer === true ? level2.label : \"\"}</div>\n                {(menuItemStates[i].state === true) ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={menuItemStates[i].state} timeout=\"auto\" unmountOnExit>\n                {level2.level3.map((level3Item, index) =>\n                  getLevel3Items(level3Item, index)\n                )}\n              </Collapse>\n            </List>\n          )\n        }\n      }\n    }\n  }\n  function getLevel3Items(level3, index) {\n    return (\n      <ListItem button\n        className={classesnav.level3}\n        key={index}\n        onClick={() => handleMenuButtonClick(level3)}\n      >\n        <ExitToAppIcon style={{ height: 20, color: \"grey\", marginLeft: \"4px\" }} />\n        <div className={classesnav.listItemText}>{openDrawer === true ? level3.label : \"\"}</div>\n      </ListItem>\n    )\n  }\n  if (menuItemStates.length === 0) {\n    return (\n      <div align=\"center\" style={{ paddingTop: 20 }}>\n        <CircularProgress />\n        <div>Loading...</div>\n      </div>\n    )\n  }\n  function handleOperDayClick(){\n    if(userProfile.userRole === \"1\" || userProfile.userRole === \"7\"){\n      handleMenuButtonClick({ commandType: \"launchProcess\", processKey: \"process_e79e1386-4473-4d35-8106-acd3fafaa129\", parentLabel: \"Операц-й день\" })\n    }\n  }\n  return (\n    <Grid>\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar style={{ position: \"fixed\" }} className={clsx(classes.appBar, openDrawer && classes.appBarShift)}>\n          <Toolbar className={classes.toolbar}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              onClick={handleDrawerOpen}\n              className={clsx(classes.menuButton, openDrawer && classes.menuButtonHidden)}\n            >\n              <MenuIcon />\n            </IconButton>\n\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" className={classes.title}>\n              ЦД\n            </Typography>\n            {userProfile.userId !== undefined &&\n              <table>\n                <tbody>\n                  <tr>\n                    <td style={{ paddingRight: 15 }}>\n                      {moment(new Date()).format(\"DD.MM.YYYY\")}\n                    </td>\n                    {operDayIsOpened !== null &&\n                      <td\n                        style={{ paddingRight: 15, cursor: \"pointer\" }}\n                        onClick={() => handleOperDayClick()}\n                      >\n                        Операционный день: {operDayIsOpened === true ? \"Открыт\" : \"Закрыт\"}\n                      </td>\n                    }\n                    {operDayIsOpened !== null && operDayIsOpened === false &&\n                      <td style={{ paddingRight: 15 }}>\n                        {lastClosedDate}\n                      </td>\n                    }\n\n                    <td>\n                      <Badge badgeContent={unreadDistributions} color=\"primary\">\n                        <EmailIcon\n                          style={{ cursor: \"pointer\" }}\n                          fontSize=\"large\"\n                          color=\"white\"\n                          onClick={() => handleMenuButtonClick({ commandType: \"launchProcess\", processKey: \"process_998ca68e-ee45-4b5b-ba23-5b9af4a34d38\", parentLabel: \"КД\" })}\n                        />\n                      </Badge>\n                    </td>\n                    {(userProfile.userRole === \"1\" || userProfile.userRole === \"7\") &&\n                      <td style={{ paddingRight: 15 }}>\n                        <Badge badgeContent={unreadInstructions} color={unreadInstructions > 0 ? \"secondary\" : \"primary\"}>\n                          <Notification\n                            style={{ cursor: \"pointer\" }}\n                            fontSize=\"large\"\n                            color={urgentUnreadInstructions === true ? \"secondary\" : \"white\"}\n                            onClick={() => handleMenuButtonClick({ commandType: \"launchProcess\", processKey: \"process_892bad05-cc0e-46b2-8e76-6aa1fed7cde0\", parentLabel: \"Поручения\" })}\n                          />\n                        </Badge>\n                      </td>\n                    }\n                  </tr>\n                </tbody>\n              </table>\n            }\n            <AccountCircleIcon fontSize=\"large\" />\n            {!!keycloak.authenticated && (\n              <table>\n                <tbody>\n                  <tr>\n                    <td>\n                      <table>\n                        <tbody>\n                          <tr>\n                            <td style={{ fontSize: 12 }}>ФИО:</td>\n                            <td style={{ fontSize: 12 }}>{userProfile.firstName + \" \" + userProfile.lastName.substring(0, 1) + \".\"}</td>\n                          </tr>\n                          <tr>\n                            <td style={{ fontSize: 12 }}>Роль:</td>\n                            <td style={{ fontSize: 12 }}>{userRoleLabel}</td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </td>\n                    <td>\n                      <Typography>\n                        <IconButton color=\"inherit\" style={{ fontSize: 14 }} onClick={() => keycloak.logout()}>\n                          Выйти\n                        </IconButton>\n                      </Typography>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            )}\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          variant=\"permanent\"\n          classes={{\n            paper: clsx(classes.drawerPaper, !openDrawer && classes.drawerPaperClose),\n          }}\n          open={openDrawer}\n        >\n          <div className={classes.toolbarIcon}>\n            <img src=\"favicon.ico\" height=\"65px\" width=\"65px\" style={{ marginRight: \"100px\" }}></img>\n            <IconButton onClick={handleDrawerClose}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </div>\n          <Divider />\n          {routes.map((level1, index) => (\n            getLevel1Items(level1, index)\n          ))}\n        </Drawer>\n\n        <main className={classes.content}>\n          <a name=\"top\" />\n          {/* <div className={classes.appBarSpacer}/> */}\n          <Grid style={{ paddingLeft: (openDrawer === true) ? drawerWidth : 65 }}>\n            <AppBar color=\"default\" style={{ paddingLeft: (openDrawer === true) ? drawerWidth : 65 }}>\n              <Tabs\n                style={{ height: \"110px\", paddingTop: \"60px\" }}\n                position=\"fixed\"\n                value={selectedTab}\n                onChange={handleTabChange}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                variant=\"scrollable\"\n                scrollButtons=\"auto\"\n              >\n                {tabs.map((tab, index) => (\n                  <Tab\n                    key={tab.id}\n                    index={index}\n                    label={\n                      <Grid style={{ fontSize: 10 }}>\n                        {tab.label}\n                        <IconButton onClick={() => handleCloseCurrentTab(tab.id)}>\n                          <CloseIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                        </IconButton>\n                      </Grid>\n                    }\n                    value={tab.id}\n                    {...a11yProps(tab.id)}\n                  >\n                  </Tab>\n                ))}\n              </Tabs>\n            </AppBar>\n            {webSocketMessage !== null &&\n              tabs.map(tab => (\n                <TabPanel\n                  // position=\"fixed\"\n                  currentTab={tab.id}\n                  selectedTab={selectedTab}\n                  key={tab.id}\n                  style={{ paddingLeft: 10, fontSize: \"0.9rem\" }}\n                  value={tab.id}\n                >\n                  <ComponentManager\n                    // VARS\n                    userProfile={userProfile}\n                    selectedTab={selectedTab}\n                    id={tab.id}\n                    key={tab.id}\n                    esInn={esInn}\n                    esUserFullName={esUserFullName}\n                    esExpiredDate={esExpiredDate}\n                    // closeTab={closeTab}\n                    // mailRest={mailRest}\n                    operDayIsOpened={operDayIsOpened}\n                    userTask={tabData.get(tab.id)}\n                    // FUNCS\n                    callSuccessToast={callSuccessToast}\n                    callErrorToast={callErrorToast}\n                    sendFieldValues={sendFieldValues}\n                    handleCloseCurrentTab={handleCloseCurrentTab}\n                    clearTabData={clearTabData}\n                    updateMailDistributions={updateMailDistributions}\n                    reduceMailDistributions={reduceMailDistributions}\n                    setEsUserFullName={setEsUserFullName}\n                    setEsInn={setEsInn}\n                    setEsExpiredDate={setEsExpiredDate}\n                  />\n                </TabPanel>\n              ))\n            }\n          </Grid>\n          <Modal\n            open={showModalEnterPin}\n            // onClose={handleCloseModalEnterPin}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n          >\n            <div style={modalStyle} className={classes.modal}>\n              <h3 id=\"simple-modal-title\">Ведите ПИН код Рутокена</h3>\n              <FormControl variant=\"outlined\" style={{ width: \"100%\" }} error={wrongPin}>\n                <InputLabel htmlFor=\"outlined-adornment-password\">PIN</InputLabel>\n                <OutlinedInput\n                  type={showPin ? 'text' : 'password'}\n                  defaultValue={rutokenPin}\n                  onChange={handlePinChange}\n                  onKeyPress={onKeyPressModalEnterPin}\n                  autoFocus\n                  endAdornment={\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        aria-label=\"toggle password visibility\"\n                        onClick={handleClickShowPin}\n                        edge=\"end\"\n                      >\n                        {showPin ? <Visibility /> : <VisibilityOff />}\n                      </IconButton>\n                    </InputAdornment>\n                  }\n                  labelWidth={25}\n                />\n              </FormControl>\n              {wrongPin === true && <p color=\"red\">Не верный PIN</p>}\n              <Button\n                variant=\"contained\"\n                onClick={() => buttonClick(\"SignButton\")}\n                style={{\n                  margin: 3,\n                  height: 32,\n                  fontSize: 12,\n                  color: \"white\",\n                  backgroundColor: \"#2862F4\"\n                }}\n              >Ок\n              </Button>\n            </div>\n          </Modal>\n          <ToastContainer />\n          <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" style={{ paddingLeft: openDrawer === true ? drawerWidth : 65, paddingTop: 10 }}>\n            {\"Copyright © \" + new Date().getFullYear() + \" Intersoft Ltd. All rights reserved. \"}\n          </Typography>\n          <table\n            style={{ paddingLeft: openDrawer === true ? drawerWidth : 65 }}\n          >\n            <tr>\n              <td width=\"20%\">\n                <img name=\"USAID_logo\" height={\"80px\"} width=\"auto\" src={\"./USAID_logo.png\"} />\n              </td>\n              <td width=\"80%\">\n                <p style={{ align: \"center\", fontSize: 10 }}>\n                  {\"Данная автоматизированная информационная система стала возможной благодаря помощи американского народа, оказанной через Агентство США по международному развитию (USAID). Закрытое Акционерное Общество (ЗАО) «Центральный депозитарий» Кыргызской Республики несет ответственность за содержание системы, которое не обязательно отражает позицию USAID или Правительства США.\"}\n                </p>\n              </td>\n            </tr>\n          </table>\n          <IconButton href=\"#top\" style={hrefStyleTop} className={classes.hrefStyleTop}>\n            <ArrowUpwardRoundedIcon />\n          </IconButton>\n          <IconButton href=\"#bottom\" style={hrefStyleBottom} className={classes.hrefStyleBottom}>\n            <ArrowDownwardIcon />\n          </IconButton>\n          <a name=\"bottom\" />\n        </main>\n      </div>\n    </Grid>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}