{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\depo\\\\src\\\\components\\\\NewSecurityApplications\\\\NewSecurityApplications.jsx\";\nimport React, { useState, useEffect } from 'react'; // import clsx from 'clsx';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from \"@material-ui/core/Table\"; // Material ui table for usual form\n\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from '@material-ui/core/Button';\nimport { Grid } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport Modal from \"@material-ui/core/Modal\";\nimport Menu from '@mui/material/Menu'; // PIN components\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'; // Accordion\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'; // Icons\n\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded'; // import CloseIcon from '@material-ui/icons/Close';\n// import DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\n\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ReplayIcon from '@material-ui/icons/Replay'; // Form components\n\nimport GridSelect from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport Select from 'react-select';\nimport Checkbox from '@material-ui/core/Checkbox'; // Libraries\n\nimport swal from 'sweetalert'; // https://sweetalert.js.org/guides/\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport numberToWordsRu from 'number-to-words-ru'; // https://www.npmjs.com/package/number-to-words-ru\n\nimport * as rutoken from \"rutoken\";\nimport tableToExcel from \"@linways/table-to-excel\"; // https://github.com/linways/table-to-excel\n\nvar plugin;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nvar generator = require('generate-password');\n\nfunction FloatFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          value: values.value\n        }\n      });\n    },\n    decimalSeparator: \".\",\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }));\n}\n\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction IntegerFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          value: values.value\n        }\n      });\n    },\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }));\n}\n\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: 'auto'\n  },\n  paper: {\n    width: 400,\n    height: 300,\n    overflow: 'auto'\n  },\n  button: {\n    margin: theme.spacing(0.5, 0)\n  },\n  importFile: {\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  },\n  inputFile: {\n    display: 'none'\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalRutoken: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nexport default (props => {\n  // This.state\n  const classes = useStyles();\n  const [userProfile] = useState(props.userProfile);\n  const [session_id] = useState(props.userTask.session_id);\n  const [process_id] = useState(props.userTask.process_id);\n  const [taskID] = useState(props.userTask.taskID);\n  const [Form, setForm] = useState(props.userTask.Form);\n  const [selectedDoc, setSelectedDoc] = useState(null);\n  const [docId, setDocId] = useState(props.userTask.docId);\n  const [formType] = useState(props.userTask.formType);\n  const [docList, setDocList] = useState(null);\n  const [filteredDocList, setFilteredDocList] = useState(null);\n  const [initialDocList, setInitialDocList] = useState(null);\n  const [gridForm, setGridForm] = useState(props.userTask.gridForm);\n  const [gridFormButtons] = useState(props.userTask.gridFormButtons);\n  const [enumData] = useState(props.userTask.enumData);\n  const [enumOptions, setEnumOptions] = useState({});\n  const [gridFormEnumData] = useState(props.userTask.gridFormEnumData);\n  const [fieldValue, setFieldValue] = useState({});\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const [buttons] = useState(props.userTask.buttons);\n  const [page, setPage] = useState(1);\n  const [size, setSize] = useState(10);\n  const [showSnackBar, setShowSnackBar] = useState(false);\n  const [snackBarMessage, setSnackBarMessage] = useState(\"\");\n  const [sectionColor] = useState(\"#B2E0C9\");\n  const [updateState, setUpdateState] = useState(false);\n  const [taskType] = useState(props.userTask.taskType);\n  const [showSavedDocuments, setShowSavedDocuments] = useState(false);\n  const [showAttachedDocuments, setShowAttachedDocuments] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n  const [attachedImgs, setAttachedImgs] = useState([]);\n  const [attachedImgsFiles, setAttachedImgsFiles] = useState([]);\n  const [attachedDocs, setAttachedDocs] = useState([]);\n  const [Blobs, setBlobs] = useState([]);\n  const [selectedImg, setSelectedImg] = useState({});\n  const [savedImgs, setSavedImgs] = useState([]);\n  const [savedImagesFiles, setSavedImagesFiles] = useState([]);\n  const [savedDocs, setSavedDocs] = useState([]);\n  const [buttonFilesWordPdfImgId, setButtonFilesWordPdfImgId] = useState(null);\n  const [sortedColumn, setSortedColumn] = useState(\"null\");\n  const [sortedColumnOrder, setSortedColumnOrder] = useState(1);\n  const [modalStyle] = useState(getModalStyle);\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false);\n  const [rutokenPin, setRutokenPin] = useState(\"\");\n  const [showPin, setShowPin] = useState(false);\n  const [wrongPin, setWrongPin] = useState(false);\n  const [isSearchForm, setIsSearchForm] = useState(null);\n  const [accordionExpanded, setAccordionExpanded] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const openMenu = Boolean(anchorEl);\n  const [gridTableId] = useState(getUUID());\n  const [gridFieldValue, setGridFieldValue] = useState({}); // Set data from props to state of component\n\n  useEffect(() => {\n    console.log(\"NEW APPL PROPS\", props);\n    setButtonFilesWordPdfImgId(getUUID());\n\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList);\n        console.log(\"DOCL\", parsedData);\n        let s = parseInt(props.userTask.size);\n        let p = parseInt(props.userTask.page);\n        setSize(s);\n        setPage(p);\n        setIsSearchForm(true);\n        setFilteredDocList(parsedData);\n        setInitialDocList(parsedData);\n        let sortedDocList = parsedData.sort(dynamicSort(\"id\", -1, \"Int\"));\n\n        if (props.userTask.selectedDoc !== \"null\") {\n          filterDocList(0, s - 1, sortedDocList, JSON.parse(props.userTask.selectedDoc));\n        } else {\n          fetchBySize(0, s - 1, sortedDocList);\n        }\n      } catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType);\n        setFilteredDocList([]);\n        setIsSearchForm(true);\n        setInitialDocList([]);\n        setDocList([]);\n      }\n    } else {\n      setIsSearchForm(false);\n    }\n\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc);\n      let fields = {}; // let Form = props.userTask.Form\n\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          let fieldName = Form.sections[s].contents[c].name;\n          fields[fieldName] = parsedSelectedDoc[fieldName];\n        }\n      }\n\n      console.log(\"SDOC\", parsedSelectedDoc); // console.log(\"FIELDVAL\", fields)\n\n      setSelectedDoc(parsedSelectedDoc);\n      setFieldValue(fields);\n    }\n\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      let newEnumOptions = {};\n\n      for (let i = 0; i < props.userTask.enumData.length; i++) {\n        if (props.userTask.enumData[i] !== null) {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Пусто\",\n            \"name\": props.userTask.enumData[i].name\n          }];\n\n          for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n            options.push({\n              \"value\": props.userTask.enumData[i].data[d].id,\n              \"label\": props.userTask.enumData[i].data[d].label,\n              \"name\": props.userTask.enumData[i].name\n            });\n          }\n\n          newEnumOptions[props.userTask.enumData[i].name] = options;\n        } else {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Ошибка...\",\n            \"name\": getLostEnumName(i)\n          }];\n          newEnumOptions[getLostEnumName(i)] = options;\n          props.callErrorToast(\"Ошибка сбора справочной информации \" + getLostEnumName(i));\n        }\n      }\n\n      setEnumOptions(newEnumOptions);\n    }\n\n    if (props.userTask.taskType === \"showNewSecurityApplicationsCreatingForm\") {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc);\n      setShowAttachedDocuments(true);\n\n      for (let i = 0; i < props.userTask.enumData.length; i++) {\n        if (props.userTask.enumData[i].name === \"partners\") {\n          for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n            if (props.userTask.enumData[i].data[d].id === parseInt(userProfile.partner)) {\n              setFieldValue({\n                depositor: props.userTask.enumData[i].data[d].label,\n                application_type: parsedSelectedDoc.application_type\n              });\n            }\n          }\n        }\n      } // setFieldValue({depositor: userProfile.firstName + \" \" + userProfile.lastName, application_type: parsedSelectedDoc.application_type})\n\n    }\n\n    if (props.userTask.taskType === \"showNewSecurityApplicationsEditForm\") {\n      setShowAttachedDocuments(true);\n      setShowSavedDocuments(true);\n    }\n\n    if (props.userTask.savedDocs.length !== 0) {\n      for (let d = 0; d < props.userTask.savedDocs.length; d++) {\n        let extension = props.userTask.savedDocs[d].extension;\n\n        if (extension === \".png\") {\n          convertBase64ToFile(\"data:image/png;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".jpeg\" || extension === \".jpg\") {\n          convertBase64ToFile(\"data:image/jpeg;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".doc\") {\n          convertBase64ToFile(\"data:application/msword;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".docx\") {\n          convertBase64ToFile(\"data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".xlsx\") {\n          convertBase64ToFile(\"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".pdf\") {\n          convertBase64ToFile(\"data:application/pdf;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        }\n      }\n    }\n\n    if (gridForm !== null) {\n      let newFields = {};\n\n      for (let s = 0; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n          newFields[gridForm.sections[s].contents[c].name] = gridForm.sections[s].contents[c].show;\n        }\n      }\n\n      setGridFieldValue(newFields);\n    }\n\n    setUpdateState(getUUID());\n  }, []);\n\n  function getLostEnumName(i) {\n    let enumI = 0;\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (Form.sections[s].contents[c].type === \"Enum\") {\n          if (enumI === i) {\n            return Form.sections[s].contents[c].name;\n          } else {\n            enumI += 1;\n          }\n        }\n      }\n    }\n  } // RuToken functions\n\n\n  rutoken.ready // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n  .then(function () {\n    if (window.chrome || typeof InstallTrigger !== 'undefined') {\n      return rutoken.isExtensionInstalled();\n    } else {\n      return Promise.resolve(true);\n    }\n  }) // Проверка установки Рутокен Плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.isPluginInstalled();\n    } else {// alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n    }\n  }) // Загрузка плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.loadPlugin();\n    } else {// alert(\"Не удаётся найти Плагин\");\n    }\n  }) //Можно начинать работать с плагином\n  .then(function (result) {\n    if (!result) {\n      return; // alert(\"Не удаётся загрузить Плагин\")\n    } else {\n      plugin = result;\n      return Promise.resolve();\n    }\n  }); // catch errors while signing docs\n\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true);\n          break;\n\n        default:\n          alert(\"Неизвестная ошибка\");\n      }\n    }\n  } // Sign transfer order with rutoken\n\n\n  function sign(commandJson) {\n    try {\n      if (plugin !== undefined) {\n        // Перебор подключенных Рутокенов\n        plugin.enumerateDevices().then(function (devices) {\n          if (devices.length > 0) {\n            return Promise.resolve(devices[0]);\n          } else {// alert(\"Рутокен не обнаружен\");\n          }\n        }) // Проверка залогиненности\n        .then(function (firstDevice) {\n          rutokenHandle = firstDevice;\n          return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n        }) // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n        .then(function (isLoggedIn) {\n          if (isLoggedIn) {\n            return Promise.resolve();\n          } else {\n            return plugin.login(rutokenHandle, rutokenPin); // 240699\n          }\n        }) // Перебор пользовательских сертификатов на токене\n        .then(function () {\n          return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n        }).then(function (certs) {\n          if (certs.length > 0) {\n            certHandle = certs[0];\n            return plugin.parseCertificate(rutokenHandle, certs[0]);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        }) // Подписание данных из текстового поля на первом найденом сертификате\n        .then(function (certs) {\n          certData = certs;\n\n          if (certHandle.length > 0) {\n            var options = {};\n            let inn = \"\";\n            let fullName = \"\";\n\n            for (let i = 0; i < certData.subject.length; i++) {\n              if (certData.subject[i].rdn === \"serialNumber\") {\n                inn = certData.subject[i].value;\n              }\n\n              if (certData.subject[i].rdn === \"commonName\") {\n                fullName = certData.subject[i].value;\n              }\n            }\n\n            props.setEsInn(inn);\n            props.setEsUserFullName(fullName);\n            props.setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1));\n            let applicationToSign = commandJson.variables.document.value;\n            applicationToSign[\"status\"] = 0;\n            applicationToSign[\"es_inn\"] = inn;\n            applicationToSign[\"es_full_name\"] = fullName;\n            applicationToSign[\"es_date\"] = props.getCurrentFullDateTime();\n            applicationToSign[\"depositor_authorized_person\"] = fullName;\n            commandJson.variables.document.value = JSON.stringify(applicationToSign);\n            console.log(\"SIGN\", applicationToSign, commandJson);\n            handleCloseModalEnterPin();\n            swAllert(\"Документ успешно подписан!\", \"success\");\n            props.sendFieldValues(commandJson);\n            props.clearTabData(commandJson.process_id);\n            return plugin.sign(rutokenHandle, certHandle, \"textToSign\", plugin.DATA_FORMAT_PLAIN, options);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        }) // Закрытие сессии\n        .then(function () {\n          plugin.logout(rutokenHandle);\n        }, handleError);\n      } else {\n        swAllert(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\");\n      }\n    } catch (er) {\n      console.log(\"Rutoken ERR\");\n    }\n  }\n\n  function handleExpandAccordion() {\n    setAccordionExpanded(!accordionExpanded);\n  }\n\n  const handleOpenModal = () => {\n    setOpenModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setOpenModal(false);\n  };\n\n  const handleOpenModalEnterPin = () => {\n    setShowModalEnterPin(true);\n  };\n\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false);\n  };\n\n  function handlePinChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    setRutokenPin(event.target.value);\n    console.log(\"PIN\", event.target.value);\n  }\n\n  function handleClickShowPin() {\n    setShowPin(!showPin);\n  }\n\n  const handleCheckboxChange = event => {\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: event.target.checked\n    });\n  }; // Integer input handler\n\n\n  const handleIntChange = event => {\n    console.log(\"EVENT\", event.target.name, event.target.value);\n    let stringNum = event.target.value.toString().replace(/ /g, '');\n    let int = parseInt(stringNum);\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: int\n    });\n\n    if (event.target.name === \"securities_quantity_int\") {\n      let converted = numberToWordsRu.convert(stringNum, {\n        currency: {\n          currencyNameCases: ['ценная бумага', 'ценных бумаги', 'ценных бумаг'],\n          fractionalPartNameCases: ['', '', ''],\n          declension: 'nominative',\n          currencyNounGender: {\n            integer: 1 // 1 => Женский род ('одна', 'две'...)\n\n          }\n        },\n        showNumberParts: {\n          integer: true,\n          fractional: false\n        }\n      }); // console.log(\"WORD\", converted)\n\n      setFieldValue({ ...fieldValue,\n        [\"securities_quantity_text\"]: converted,\n        [event.target.name]: int\n      });\n    }\n  }; // Float input handler\n\n\n  const handleFloatChange = event => {\n    let stringNum = event.target.value.toString().replace(/ /g, '');\n    let float = parseFloat(stringNum);\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: float\n    });\n    console.log(\"FLOAT CHANGE\", event.target.name, fieldValue);\n  };\n\n  function handleChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value;\n    setFieldValue(fieldValue);\n    console.log(\"FIELDVALUE\", fieldValue);\n  }\n\n  function handleSelectChange(option) {\n    fieldValue[option.name] = option.value;\n    console.log(\"OPT\", option.name, option.value);\n    var updateSelectedOptions = selectedOptions.slice();\n    let noSuchOption = true;\n\n    for (let i = 0; i < updateSelectedOptions.length; i++) {\n      if (option.name === updateSelectedOptions[i].name) {\n        updateSelectedOptions[i] = option;\n        noSuchOption = false;\n        setSelectedOptions(updateSelectedOptions);\n        break;\n      } else {\n        noSuchOption = true;\n      }\n    }\n\n    if (noSuchOption === true) {\n      updateSelectedOptions.push(option);\n      setSelectedOptions(updateSelectedOptions);\n    }\n\n    if (option.name === \"payer_type\" && (taskType === \"showPaymentsForCDServicesCreatingForm\" || taskType === \"showPaymentsForCDServicesViewForm\" || taskType === \"showPaymentsForCDServicesSearchForm\")) {\n      // console.log(\"SEL\", option.name, option.value)\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          if (Form.sections[s].contents[c].name === \"depositor\") {\n            if (option.value === 1) {\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"issuer\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"issuer\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"issuer\"\n                  };\n                  setSelectedOptions(updateSelectedOptions);\n                  break;\n                }\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n\n          if (Form.sections[s].contents[c].name === \"issuer\") {\n            if (option.value === 2) {\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"depositor\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"depositor\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"depositor\"\n                  };\n                  setSelectedOptions(updateSelectedOptions);\n                  break;\n                }\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n        }\n      }\n\n      setForm(Form); // console.log(\"NEW ENUMS\")\n    } else if (option.name === \"recipient_type\" && (taskType === \"showTransitChargeForCDServicesCreatingForm\" || taskType === \"showTransitChargeForCDServicesEditForm\" || taskType === \"showTransitPaymentsForCDServicesCreatingForm\" || taskType === \"showTransitPaymentsForCDServicesEditForm\" || taskType === \"showTransitPaymentsForCDServicesSearchForm\")) {\n      console.log(\"RECIPIENT\", option.name, option.value, fieldValue);\n\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          if (Form.sections[s].contents[c].name === \"registrar\") {\n            if (option.value === 1) {\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"corr_depository\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"corr_depository\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"corr_depository\"\n                  };\n                  setSelectedOptions(updateSelectedOptions);\n                  break;\n                }\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n\n          if (Form.sections[s].contents[c].name === \"corr_depository\") {\n            if (option.value === 2) {\n              Form.sections[s].contents[c].show = true;\n              Form.sections[s].contents[c].edit = true;\n              fieldValue[\"registrar\"] = null;\n\n              for (let i = 0; i < updateSelectedOptions.length; i++) {\n                if (updateSelectedOptions[i].name === \"registrar\") {\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\": \"registrar\"\n                  };\n                  setSelectedOptions(updateSelectedOptions);\n                  break;\n                }\n              }\n            } else {\n              Form.sections[s].contents[c].show = false;\n              Form.sections[s].contents[c].edit = false;\n            }\n          }\n        }\n      }\n\n      setForm(Form); // console.log(\"NEW ENUMS\")\n    }\n  }\n\n  function handleDateTimeChange(event) {\n    let fullDate = props.parseDate(event.target.value);\n    var hours = new Date().getHours();\n    var minutes = new Date().getMinutes();\n    var seconds = new Date().getSeconds();\n    var convertedDate = fullDate + \" \" + hours + \":\" + minutes + \":\" + seconds + \".123456+06\";\n    fieldValue[event.target.name] = convertedDate;\n    setFieldValue(fieldValue); // console.log(\"DATE CHANGE\", event.target.value)\n  }\n\n  function getContentType(key) {\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (key === Form.sections[s].contents[c].name) {\n          return Form.sections[s].contents[c].type;\n        }\n      }\n    }\n  } // filter docList by filled parameters\n\n\n  function filterDocList(fetchFrom, fetchTo, Data, fields) {\n    var newDocList = [];\n\n    if (Object.keys(fields).length === 0) {\n      newDocList = Data;\n    } else {\n      for (let i = 0; i < Data.length; i++) {\n        let match = false;\n\n        for (let key in fields) {\n          if (fields[key] === null || fields[key] === \"\" || fields[key] === undefined) {\n            match = true;\n          } else {\n            if (Data[i][key] !== null) {\n              let contentType = getContentType(key);\n\n              if (contentType === \"Text\") {\n                try {\n                  let searchField = fields[key].toLowerCase();\n                  let dataField = Data[i][key].toLowerCase();\n                  let includeSearch = dataField.includes(searchField);\n\n                  if (includeSearch === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                } catch (er) {\n                  console.log(\"ERR\", er);\n                  match = true;\n                }\n              } else if (contentType === \"Int\" || contentType === \"Float\") {\n                if (fields[key] >= 0 || fields[key] < 0) {\n                  let searchField = fields[key].toString();\n                  let dataField = Data[i][key].toString();\n                  let includeSearch = dataField.includes(searchField);\n\n                  if (includeSearch === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                } else {\n                  match = true;\n                }\n              } else if (contentType === \"Enum\") {\n                if (fields[key] === Data[i][key]) {\n                  // console.log(\"ENUMS\", key, fields[key], Data[i][key])\n                  match = true;\n                } else {\n                  match = false;\n                  break;\n                }\n              } else if (contentType === \"DateTime\") {\n                let searchField = props.parseDate(fields[key]);\n                let dataField = props.parseDate(Data[i][key]); // console.log(\"DATES\", searchField, dataField, searchField.includes(dataField))\n\n                if (searchField === \"NaN-NaN-NaN\") {\n                  match = true;\n                } else {\n                  if (searchField.includes(dataField) === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                }\n              } else if (contentType === \"Bool\") {\n                if (fields[key] === Data[i][key]) {\n                  match = true;\n                } else {\n                  match = false;\n                  break;\n                }\n              }\n            } else {\n              match = false;\n              break;\n            }\n          }\n        }\n\n        if (match === true) {\n          newDocList.push(Data[i]);\n        }\n      }\n    }\n\n    setFilteredDocList(newDocList);\n    fetchBySize(fetchFrom, fetchTo, newDocList);\n  } // get rows amount of filtered docList by size\n\n\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    // console.log(\"fetchFrom\", \"fetchTo\")\n    let newDocList = [];\n\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i]);\n      }\n    }\n\n    setDocList(newDocList);\n  } // Pagination functions\n\n\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1);\n      fetchBySize(0, size - 1, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1;\n      setPage(prevPage);\n      let fetchFrom = (prevPage - 1) * size; //10\n\n      let fetchTo = size * prevPage - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\");\n      setShowSnackBar(true);\n    } else {\n      setPage(page + 1);\n      let fetchFrom = size * page;\n      let fetchTo = (page + 1) * size - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    }\n  }\n\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value);\n    setPage(1);\n    fetchBySize(0, event.target.value - 1, filteredDocList);\n  }\n\n  function GoToPage() {\n    let fetchFrom = page * size - 1 - size;\n    let fetchTo = page * size - 1;\n    fetchBySize(fetchFrom, fetchTo, filteredDocList);\n  }\n\n  function handlePageChange(event) {\n    setPage(event.target.value);\n  }\n\n  function handleCloseSnackBar() {\n    setShowSnackBar(false);\n  }\n\n  function getPageAmount() {\n    let pagesFloat = filteredDocList.length / size;\n    let mathRoundOfPages = Math.round(pagesFloat);\n\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1;\n    } else {\n      return mathRoundOfPages;\n    }\n  } // random UUID generator\n\n\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\");\n\n    return uuidv1();\n  } // random numbers generator\n\n\n  function keyGen(length) {\n    var password = generator.generate({\n      length: length,\n      numbers: true\n    });\n    return password;\n  }\n\n  function swAllert(text, icon) {\n    return swal({\n      text: text,\n      icon: icon,\n      buttons: {\n        ok: \"Ок\"\n      }\n    }) // .then((click) => {\n    //   if(click === \"ok\"){\n    //     console.log(\"CLICK OK\", click)\n    //   }\n    // })\n    ;\n  } // Collect data to save doc\n\n\n  function getFieldValuesSaveDocument() {\n    let docToSave = {};\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name;\n\n        if (Form.sections[s].contents[c].type === \"Bool\" && fieldValue[fieldName] === undefined) {\n          docToSave[fieldName] = false;\n        } else {\n          docToSave[fieldName] = fieldValue[fieldName];\n        }\n      }\n    }\n\n    return docToSave;\n  }\n\n  function getFieldValuesUpdateDocument() {\n    let docToUpdate = {};\n    docToUpdate[\"created_at\"] = selectedDoc.created_at;\n    docToUpdate[\"id\"] = selectedDoc.id;\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name;\n\n        if (Form.sections[s].contents[c].type === \"Bool\" && (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null)) {\n          docToUpdate[fieldName] = false;\n        } else {\n          docToUpdate[fieldName] = fieldValue[fieldName];\n        }\n      }\n    }\n\n    return docToUpdate;\n  }\n\n  function checkForRequieredFields() {\n    let checkedSuccessfuly = false;\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name;\n\n        if (Form.sections[s].contents[c].required === true && (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null || fieldValue[fieldName] === \"NaN.NaN.NaN\" || fieldValue[fieldName].length === 0)) {\n          checkedSuccessfuly = false;\n          swAllert(\"Внимание заполните поле \\\"\" + Form.sections[s].contents[c].label + \"\\\"\");\n          break;\n        } else {\n          checkedSuccessfuly = true;\n        }\n      }\n    }\n\n    return checkedSuccessfuly;\n  }\n\n  function buttonClick(buttonName, item) {\n    if (buttonName === \"findDocument\") {\n      filterDocList(0, size, initialDocList, fieldValue);\n    } else if (buttonName === \"openDocument\") {\n      // console.log(\"ITEM\", item)\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          selectedDoc: {\n            value: JSON.stringify(item)\n          },\n          userAction: {\n            value: \"openDocument\"\n          },\n          docId: {\n            value: item.id\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"button openDocument: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"updateDocument\") {\n      let updateBody = getFieldValuesUpdateDocument();\n      updateBody.files_directory = selectedDoc.files_directory;\n      let commandJson = {\n        commandType: \"saveDocumentsWithFiles\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        blobs: Blobs,\n        directory: selectedDoc.files_directory,\n        variables: {\n          userAction: {\n            value: \"updateDocument\"\n          },\n          document: {\n            value: JSON.stringify(updateBody)\n          }\n        }\n      };\n      console.log(\"updateDocument:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"createDocument\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"createDocument\"\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"createDocument:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"selectApplicationType\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"selectApplicationType\"\n          },\n          selectedDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"selectApplicationType:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"signApplication\") {\n      if (props.esInn === null) {\n        handleOpenModalEnterPin();\n      } else {\n        let docToSave = getFieldValuesSaveDocument();\n        let dir = getUUID();\n        docToSave.files_directory = dir;\n        docToSave[\"status\"] = 0;\n        docToSave[\"es_inn\"] = props.esInn;\n        docToSave[\"es_full_name\"] = props.esUserFullName;\n        docToSave[\"es_date\"] = props.getCurrentFullDateTime();\n        docToSave[\"depositor_authorized_person\"] = props.esUserFullName;\n        const commandJson = {\n          commandType: \"saveDocumentsWithFiles\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          blobs: Blobs,\n          directory: dir,\n          variables: {\n            userAction: {\n              value: \"saveDocument\"\n            },\n            document: {\n              value: JSON.stringify(docToSave)\n            }\n          }\n        };\n        console.log(\"button signInstruction: \", commandJson);\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"SignApplicationSaveButton\") {\n      let docToSave = getFieldValuesSaveDocument();\n      let dir = getUUID();\n      docToSave.files_directory = dir;\n      const commandJson = {\n        commandType: \"saveDocumentsWithFiles\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        blobs: Blobs,\n        directory: dir,\n        variables: {\n          userAction: {\n            value: \"saveDocument\"\n          },\n          document: {\n            value: docToSave\n          }\n        }\n      };\n      console.log(\"button SignApplicationSaveButton: \", commandJson);\n      sign(commandJson);\n    } else if (buttonName === \"createSecurity\") {\n      let updateApplication = selectedDoc;\n      updateApplication[\"status\"] = 2;\n      let newSelectedDoc = {\n        security_type: selectedDoc.security_type,\n        is_gov_security: selectedDoc.is_gov_security,\n        code: selectedDoc.code,\n        isin: selectedDoc.isin,\n        nominal: selectedDoc.nominal,\n        currency: selectedDoc.currency,\n        quantity: selectedDoc.securities_quantity_int,\n        reg_date: selectedDoc.securities_placement_begin_date,\n        end_date: selectedDoc.securities_placement_end_date\n      };\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"createSecurity\"\n          },\n          updateApplication: {\n            value: JSON.stringify(updateApplication)\n          },\n          selectedDoc: {\n            value: JSON.stringify(newSelectedDoc)\n          }\n        }\n      };\n      console.log(\"createSecurity:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"updateDocList\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"updateDocList\"\n          }\n        }\n      };\n      console.log(\"button updateDocList: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"back\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"back\"\n          }\n        }\n      };\n      console.log(\"button back:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"cancel\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        userRole: userProfile.userRole,\n        variables: {\n          authorization: {\n            value: \"token\"\n          },\n          userAction: {\n            value: \"cancel\"\n          }\n        }\n      };\n      console.log(\"button cancel: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else {\n      console.log(\"UNKNOWN Button \", buttonName);\n    }\n  } // Create grid form components\n\n\n  function getGridFormItems(dataItem, contentItem) {\n    let value = dataItem[contentItem.name];\n    let name = contentItem.name;\n    let type = contentItem.type;\n\n    if (type === \"Enum\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          align: \"center\",\n          style: {\n            color: \"black\",\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1194,\n            columnNumber: 14\n          }\n        }, \"-\");\n      } else {\n        for (let i = 0; i < gridFormEnumData.length; i++) {\n          if (gridFormEnumData[i] !== null) {\n            if (name === gridFormEnumData[i].name) {\n              for (let l = 0; l < gridFormEnumData[i].data.length; l++) {\n                if (gridFormEnumData[i].data[l].id === parseInt(value)) {\n                  return gridFormEnumData[i].data[l].label;\n                }\n              }\n            }\n          }\n        }\n      }\n    } else if (type === \"Bool\") {\n      // console.log(\"ITEM\", name, value, type)\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        style: {\n          maxWidth: 20,\n          height: 15,\n          color: value === false ? \"red\" : \"green\"\n        },\n        checked: value === false || value === null || value === undefined ? false : true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1213,\n          columnNumber: 7\n        }\n      });\n    } else if (type === \"DateTime\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          align: \"center\",\n          style: {\n            color: \"black\",\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1221,\n            columnNumber: 14\n          }\n        }, \"-\");\n      } else {\n        // console.log(\"ITEM\", dataItem, value)\n        let Date = value.substring(0, 10);\n        let Time = value.substring(11, 16);\n        return Date + \" \" + Time;\n      }\n    } else if (type === \"Text\") {\n      // console.log(\"ITEM\", name, value, type)\n      if (name === \"instructionStatus\") {\n        let status = \"-\";\n\n        if (dataItem[\"filled\"] === true) {\n          status = \"Введено\";\n        }\n\n        if (dataItem[\"onExecution\"] === true) {\n          status = \"Введено -> На исполнении\";\n        }\n\n        if (dataItem[\"executed\"] === true) {\n          status = \"На исполнении -> Исполнено\";\n        }\n\n        if (dataItem[\"canceled\"] === true) {\n          status = \"На исполнении -> Отменено\";\n        }\n\n        return status;\n      } else {\n        if (value === null || value === \"\" || value === undefined) {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            align: \"center\",\n            style: {\n              color: \"black\",\n              fontSize: 12\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1250,\n              columnNumber: 16\n            }\n          }, \"-\");\n        } else {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 16\n            }\n          }, value);\n        }\n      }\n    } else {\n      if (value === null || value === \"\" || value === undefined) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          align: \"center\",\n          style: {\n            color: \"black\",\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1259,\n            columnNumber: 14\n          }\n        }, \"-\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1262,\n            columnNumber: 14\n          }\n        }, value);\n      }\n    }\n  } // attached documents\n\n\n  function handleAttachFile(e) {\n    let selectedFiles = e.target.files;\n    console.log(\"A DOCS\", selectedFiles);\n\n    if (selectedFiles && selectedFiles[0]) {\n      for (let i = 0; i < selectedFiles.length; i++) {\n        if (selectedFiles[i].type === \"application/pdf\" || selectedFiles[i].type === \"application/msword\" || selectedFiles[i].type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" || selectedFiles[i].type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\") {\n          attachedDocs.push(selectedFiles[i]);\n          setAttachedDocs(attachedDocs);\n          setUpdateState(getUUID()); // console.log(\"A DOCS\", attachedDocs)\n        } else {\n          let reader = new FileReader();\n\n          reader.onload = async function (e) {\n            // push new images to list and show in UI\n            let image = {\n              item: /*#__PURE__*/React.createElement(\"img\", {\n                name: selectedFiles[i].name,\n                height: \"150\",\n                width: \"auto\",\n                src: e.target.result,\n                onClick: () => attachedImgClick(selectedFiles[i].name),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1285,\n                  columnNumber: 32\n                }\n              })\n            };\n            attachedImgs.push(image);\n            setAttachedImgs(attachedImgs);\n            setUpdateState(getUUID()); // console.log(\"IMGLIST\", attachedImgs)\n          };\n\n          reader.readAsDataURL(selectedFiles[i]);\n          attachedImgsFiles.push(selectedFiles[i]); // pushAttachedImage(selectedFiles[i])\n\n          setAttachedImgsFiles(attachedImgsFiles); // console.log(\"A IMGS\", attachedImgsFiles)\n        }\n\n        pushNewBlob(selectedFiles[i]);\n      }\n    }\n  }\n\n  async function pushNewBlob(f) {\n    var blobToBase64 = function (f, cb) {\n      let reader = new FileReader();\n\n      reader.onload = function () {\n        // converts blob to base64\n        var dataUrl = reader.result;\n        var base64 = dataUrl.split(\",\")[1];\n        cb(base64);\n      };\n\n      reader.readAsDataURL(f);\n    };\n\n    blobToBase64(f, async function (base64) {\n      // encode blobs to send to socket\n      let newBlob = {\n        \"name\": f.name,\n        \"blob\": base64,\n        \"size\": f.size,\n        type: f.type\n      };\n      Blobs.push(newBlob);\n      setBlobs(Blobs);\n      console.log(\"BLOBS\", Blobs);\n    });\n  }\n\n  async function attachedImgClick(name) {\n    for (let l = 0; l < attachedImgs.length; l++) {\n      if (attachedImgs[l].item.props.name === name) {\n        console.log(\"IMG\", attachedImgs[l]);\n        setSelectedImg({\n          name: attachedImgs[l].item.props.name,\n          height: \"700\",\n          width: \"auto\",\n          src: attachedImgs[l].item.props.src\n        });\n      }\n    }\n\n    handleOpenModal();\n    let newId = getUUID();\n    setUpdateState(newId);\n  }\n\n  function attachedDocsList() {\n    console.log(\"A DOCS\", attachedDocs);\n    let selDocsList = [];\n\n    for (let i = 0; i < attachedDocs.length; i++) {\n      selDocsList.push( /*#__PURE__*/React.createElement(Card, {\n        style: {\n          margin: 3,\n          backgroundColor: \"#E2E2E2\",\n          paddingLeft: 20,\n          minWidth: \"500px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1342,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1343,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1344,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"#1B2CE8\",\n          fontWeight: \"bold\",\n          width: \"95%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1345,\n          columnNumber: 13\n        }\n      }, attachedDocs[i].name + \" \", \"(\" + Math.round(attachedDocs[i].size / 1000) + \")\" + \"КБ\")))));\n    }\n\n    return selDocsList;\n  }\n\n  function attachedImgsList() {\n    var imgs = [];\n\n    for (let l = 0; l < attachedImgs.length; l++) {\n      imgs.push( /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1359,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1360,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1361,\n          columnNumber: 13\n        }\n      }, attachedImgs[l].item))));\n    }\n\n    if (Object.keys(imgs).length !== 0) {\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"flex-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1370,\n          columnNumber: 9\n        }\n      }, imgs);\n    }\n  } // Previosly saved documents\n\n\n  function convertBase64ToFile(dataurl, fileName) {\n    var arr = dataurl.split(','),\n        mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]),\n        n = bstr.length,\n        u8arr = new Uint8Array(n);\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n\n    let convFile = new File([u8arr], fileName, {\n      type: mime\n    });\n    handleAttachSavedFile(convFile);\n    console.log(\"CONV FILE\", convFile);\n  }\n\n  function handleAttachSavedFile(file) {\n    console.log(\"FILE\", file);\n\n    if (file.type === \"application/pdf\" || file.type === \"application/msword\" || file.type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" || file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\") {\n      savedDocs.push(file);\n      setSavedDocs(savedDocs);\n    } else {\n      savedImagesFiles.push(file);\n      setSavedImagesFiles(savedImagesFiles);\n      pushSavedImage(file);\n    } // setUpdateState(getUUID())\n\n  }\n\n  async function pushSavedImage(f) {\n    let reader = new FileReader();\n\n    reader.onload = async function (e) {\n      // push new images to list and show in UI\n      let image = {\n        item: /*#__PURE__*/React.createElement(\"img\", {\n          name: f.name,\n          height: \"150\",\n          width: \"auto\",\n          src: e.target.result,\n          onClick: () => savedImgClick(f.name),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1410,\n            columnNumber: 26\n          }\n        })\n      };\n      savedImgs.push(image); // console.log(\"IMGLIST\", savedImgs)\n\n      setSavedImgs(savedImgs);\n      setUpdateState(getUUID());\n    };\n\n    reader.readAsDataURL(f);\n  }\n\n  async function savedImgClick(name) {\n    for (let l = 0; l < savedImgs.length; l++) {\n      if (savedImgs[l].item.props.name === name) {\n        console.log(\"IMG\", savedImgs[l]);\n        setSelectedImg({\n          name: savedImgs[l].item.props.name,\n          height: \"700\",\n          width: \"auto\",\n          src: savedImgs[l].item.props.src\n        });\n      }\n    }\n\n    handleOpenModal();\n    let newId = getUUID();\n    setUpdateState(newId);\n  }\n\n  function savedDocsList() {\n    console.log(\"SAVEDOCS\", savedDocs);\n    let savedDocsList = [];\n\n    for (let i = 0; i < savedDocs.length; i++) {\n      savedDocsList.push( /*#__PURE__*/React.createElement(Card, {\n        style: {\n          margin: 3,\n          backgroundColor: \"#E2E2E2\",\n          paddingLeft: 20,\n          minWidth: \"500px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1439,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1440,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1441,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"#1B2CE8\",\n          fontWeight: \"bold\",\n          width: \"95%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1442,\n          columnNumber: 13\n        }\n      }, savedDocs[i].name + \" \", \"(\" + Math.round(savedDocs[i].size / 1000) + \")\" + \"КБ\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1445,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: URL.createObjectURL(savedDocs[i]),\n        download: savedDocs[i].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(GetAppIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1451,\n          columnNumber: 17\n        }\n      }))))))); // console.log(\"FILE\", savedDocs[i])\n    }\n\n    return savedDocsList;\n  }\n\n  function savedImgsList() {\n    console.log(\"SAVEDIMGS\", savedImgs);\n    var imgs = [];\n\n    for (let l = 0; l < savedImgs.length; l++) {\n      let blob = converFileToBlob(savedImgs[l].item.props.src);\n      imgs.push( /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1467,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1468,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1469,\n          columnNumber: 13\n        }\n      }, savedImgs[l].item)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1473,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1474,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: URL.createObjectURL(blob),\n        download: savedImgs[l].item.props.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1475,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(GetAppIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1480,\n          columnNumber: 17\n        }\n      }))))));\n    }\n\n    if (Object.keys(imgs).length !== 0) {\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"flex-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1489,\n          columnNumber: 9\n        }\n      }, imgs);\n    }\n  }\n\n  function converFileToBlob(src) {\n    var byteString = atob(src.split(',')[1]);\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n\n    return new Blob([ab], {\n      type: 'image/jpeg'\n    });\n  }\n\n  function checkToShowSection(section) {\n    let showSection = false;\n\n    for (let i = 0; i < section.contents.length; i++) {\n      if (section.contents[i].show === true) {\n        showSection = true;\n        break;\n      }\n    }\n\n    return showSection;\n  }\n\n  function checkSectionOnLastChild(i) {\n    let lastSection = true;\n\n    if (i === gridForm.sections.length - 1) {\n      // The last section\n      return true;\n    } else {\n      let nextS = i + 1;\n      console.log(\"IT\", i, gridForm.sections[nextS]);\n\n      for (let s = nextS; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n          // Check next section\n          if (gridForm.sections[s].contents[c].show === true) {\n            lastSection = false;\n            break;\n          }\n        }\n      }\n    }\n\n    return lastSection;\n  }\n\n  function onKeyPressModalEnterPin(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      buttonClick(\"SignApplicationSaveButton\", null);\n    }\n  }\n\n  function dynamicSort(property, sortOrder, type) {\n    if (type === \"DateTime\" || type === \"Bool\") {\n      sortOrder = sortOrder * -1;\n    } // console.log(\"SORT\", property, sortOrder, type)\n\n\n    if (type === \"DateTime\") {\n      return function (a, b) {\n        if (a[property] !== null && b[property] !== null) {\n          let dateA = new Date(a[property].substring(0, 19));\n          let timeInSecA = dateA.getTime() / 1000; // console.log(\"timeInSecA\", timeInSecA)\n\n          let dateB = new Date(b[property].substring(0, 19));\n          let timeInSecB = dateB.getTime() / 1000; // console.log(\"timeInSecB\", timeInSecB)\n\n          var result = timeInSecA < timeInSecB ? -1 : timeInSecA > timeInSecB ? 1 : 0;\n          return result * sortOrder;\n        } else {\n          if (a[property] === null) {\n            return -1 * sortOrder;\n          }\n\n          return 1 * sortOrder;\n        }\n      };\n    } else if (type === \"Int\" || type === \"Text\" || type === \"Float\" || type === \"Bool\") {\n      return function (a, b) {\n        var result = a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n        return result * sortOrder;\n      };\n    } else if (type === \"Enum\") {\n      return function (a, b) {\n        if (a[property] === null) {\n          return 1 * sortOrder;\n        } else {\n          let labelA = getEnumLabel(property, a[property]); // console.log(\"A\", property, a[property], labelA)\n\n          let labelB = getEnumLabel(property, b[property]); // console.log(\"labelB\", labelB, property, b)\n\n          var result = labelA < labelB ? -1 : labelA > labelB ? 1 : 0;\n          return result * sortOrder;\n        }\n      };\n    }\n  }\n\n  function sortDataByColumn(name, type) {\n    let sortOrder = 1;\n\n    if (sortedColumn === name) {\n      sortOrder = sortedColumnOrder * -1;\n    }\n\n    setSortedColumnOrder(sortOrder);\n    setSortedColumn(name);\n    let sortedDocList = filteredDocList.sort(dynamicSort(name, sortOrder, type)); // let fetchFrom = (page*size-1)-size\n    // let fetchTo = page*size-1\n\n    setPage(1);\n    let fetchFrom = 0;\n    let fetchTo = size - 1;\n    setFilteredDocList(sortedDocList);\n    fetchBySize(fetchFrom, fetchTo, sortedDocList);\n  }\n\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === name) {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].label;\n          }\n        }\n      }\n    }\n  }\n\n  function getForm() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1618,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: isSearchForm === true ? 12 : 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1619,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1620,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      style: {\n        width: \"100%\",\n        \"border-collapse\": \"collapse\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1621,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622,\n        columnNumber: 15\n      }\n    }, Form.sections.map(section => {\n      return sectionBuilder(section);\n    }))))));\n  } // Create sections with labels and call bodyBuilder function\n\n\n  function sectionBuilder(section) {\n    return /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      key: keyGen(5),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1636,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1637,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      style: {\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1638,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      key: keyGen(5),\n      style: {\n        color: \"black\",\n        fontSize: 14,\n        backgroundColor: sectionColor,\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1639,\n        columnNumber: 13\n      }\n    }, section.label))), bodyBuilder(section));\n  } // Create body of each section and call contentBuilder function\n\n\n  function bodyBuilder(section) {\n    return /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1658,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1659,\n        columnNumber: 9\n      }\n    }, section.contents.map(contentItem => contentItem.show === true && /*#__PURE__*/React.createElement(TableRow, {\n      key: keyGen(5),\n      style: {\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1662,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      key: keyGen(5),\n      align: \"left\",\n      style: {\n        width: \"40%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1663,\n        columnNumber: 17\n      }\n    }, contentItem.label), /*#__PURE__*/React.createElement(TableCell, {\n      key: keyGen(5),\n      align: \"left\",\n      style: {\n        width: \"60%\",\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1669,\n        columnNumber: 17\n      }\n    }, contentBuilder(contentItem))))));\n  } // Creating components by it's type\n\n\n  function contentBuilder(contentItem) {\n    if (contentItem.type === \"Text\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressText,\n        multiline: !isSearchForm,\n        onBlur: handleChange,\n        name: contentItem.name,\n        style: {\n          width: \"100%\"\n        },\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        defaultValue: fieldValue[contentItem.name] ? fieldValue[contentItem.name] : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1685,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Enum\") {\n      let selectedOption = {\n        \"value\": \"\",\n        \"label\": \"Пусто\",\n        \"name\": contentItem.name\n      };\n\n      if (fieldValue[contentItem.name] !== undefined) {\n        for (let i = 0; i < enumOptions[contentItem.name].length; i++) {\n          if (parseInt(fieldValue[contentItem.name]) === enumOptions[contentItem.name][i].value) {\n            selectedOption = enumOptions[contentItem.name][i];\n            break;\n          }\n        }\n      }\n\n      if (selectedOptions.length !== 0) {\n        for (let i = 0; i < selectedOptions.length; i++) {\n          if (contentItem.name === selectedOptions[i].name) {\n            selectedOption = selectedOptions[i];\n          }\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Select, {\n        name: contentItem.name,\n        value: selectedOption,\n        onChange: handleSelectChange,\n        options: enumOptions[contentItem.name],\n        isDisabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        menuPortalTarget: document.body,\n        styles: {\n          menuPortal: base => ({ ...base,\n            zIndex: 9999\n          })\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1718,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Bool\") {\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        style: {\n          maxWidth: 20,\n          height: 15,\n          color: formType === \"view\" || contentItem.edit === false ? \"grey\" : \"green\"\n        },\n        name: contentItem.name,\n        onChange: handleCheckboxChange,\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        checked: fieldValue[contentItem.name] === false || fieldValue[contentItem.name] === null || fieldValue[contentItem.name] === undefined ? false : true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1731,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Int\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressInt,\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        style: {\n          width: \"100%\"\n        },\n        defaultValue: fieldValue[contentItem.name] !== undefined ? fieldValue[contentItem.name] : \"\" // value = {(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name]: \"\"}\n        ,\n        onBlur: handleIntChange,\n        name: contentItem.name,\n        InputProps: {\n          inputComponent: IntegerFormat\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1742,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Float\") {\n      console.log(\"FLOAT VAL\", fieldValue[contentItem.name]);\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressFloat,\n        name: contentItem.name // defaultValue = {(fieldValue[contentItem.name]) ? fieldValue[contentItem.name]: \"\"}\n        ,\n        onBlur: handleFloatChange,\n        value: fieldValue[contentItem.name],\n        style: {\n          width: \"100%\"\n        },\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputProps: {\n          inputComponent: FloatFormat\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1757,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"DateTime\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressDateTime,\n        type: \"date\",\n        name: contentItem.name,\n        onBlur: handleDateTimeChange,\n        style: {\n          width: \"100%\"\n        },\n        defaultValue: fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null ? props.parseDate(fieldValue[contentItem.name]) : \"\",\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputLabelProps: {\n          shrink: true\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1771,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"FullDateTime\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        name: contentItem.name,\n        onBlur: handleDateTimeChange,\n        style: {\n          width: \"100%\"\n        },\n        value: fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null ? props.parseFullDateTime(fieldValue[contentItem.name]) : \"\",\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputLabelProps: {\n          shrink: true\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1787,\n          columnNumber: 9\n        }\n      });\n    }\n  } // Key press handlers for some fields\n\n\n  function onKeyPressText(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleChange(event);\n          buttonClick(\"findDocument\", null);\n        }\n      }\n    }\n  }\n\n  function onKeyPressDateTime(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleDateTimeChange(event);\n          buttonClick(\"findDocument\", null);\n        }\n      }\n    }\n  }\n\n  function onKeyPressInt(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          let stringNum = event.target.value.toString().replace(/ /g, '');\n          let int = parseInt(stringNum);\n          fieldValue[event.target.name] = int;\n          setFieldValue(fieldValue);\n          filterDocList(0, size - 1, initialDocList, fieldValue);\n        }\n      }\n    }\n  }\n\n  function onKeyPressFloat(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          let stringNum = event.target.value.toString().replace(/ /g, '');\n          let float = parseFloat(stringNum);\n          fieldValue[event.target.name] = float;\n          setFieldValue(fieldValue);\n          filterDocList(0, size - 1, initialDocList, fieldValue);\n        }\n      }\n    }\n  }\n\n  function calculateColSpan(contents) {\n    let num = 0;\n\n    for (let i = 0; i < contents.length; i++) {\n      if (contents[i].show === true) {\n        num += 1;\n      }\n    }\n\n    return num;\n  }\n\n  const handleContextMenu = event => {\n    event.preventDefault();\n    console.log(\"CONT MENU\");\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null); // console.log(\"CLOSE\", fieldValue)\n\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        gridForm.sections[s].contents[c].show = gridFieldValue[gridForm.sections[s].contents[c].name];\n      }\n    }\n\n    console.log(\"nForm\", gridForm);\n    setGridForm(gridForm);\n    setUpdateState(getUUID());\n  };\n\n  function createMenuItems() {\n    let columns = [];\n    columns.push( /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1884,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        paddingLeft: 5,\n        cursor: \"pointer\"\n      },\n      name: \"selectAll\",\n      onClick: () => handleTableCheckboxChange(\"selectAll\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1885,\n        columnNumber: 9\n      }\n    }, \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1892,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      style: {\n        maxWidth: 20,\n        height: 15,\n        color: \"green\"\n      },\n      name: \"selectAll\",\n      onChange: handleGridCheckboxChange,\n      checked: gridFieldValue[\"selectAll\"] === false || gridFieldValue[\"selectAll\"] === null || gridFieldValue[\"selectAll\"] === undefined ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1893,\n        columnNumber: 11\n      }\n    }))));\n\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        let name = gridForm.sections[s].contents[c].name;\n        columns.push( /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1906,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          style: {\n            paddingLeft: 5,\n            cursor: \"pointer\",\n            background: gridFieldValue[name] === true ? \"#E2E2E2\" : \"white\"\n          },\n          name: name,\n          onClick: () => handleTableCheckboxChange(name),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1907,\n            columnNumber: 13\n          }\n        }, gridForm.sections[s].contents[c].label), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1914,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          style: {\n            maxWidth: 20,\n            height: 15,\n            color: \"green\"\n          },\n          name: name,\n          onChange: handleGridCheckboxChange,\n          checked: gridFieldValue[name] === false || gridFieldValue[name] === null || gridFieldValue[name] === undefined ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1915,\n            columnNumber: 13\n          }\n        }))));\n      }\n    }\n\n    return columns;\n  }\n\n  function downloadExcel() {\n    tableToExcel.convert(document.getElementById(gridTableId));\n  }\n\n  const handleGridCheckboxChange = event => {\n    // console.log(\"CHBX\", event.target.name, event.target.checked)\n    if (event.target.name === \"selectAll\") {\n      let newFields = {\n        [event.target.name]: event.target.checked\n      };\n\n      for (let key in gridFieldValue) {\n        newFields[key] = !gridFieldValue[event.target.name];\n      } // console.log(\"selectAll\", newFields)\n\n\n      setGridFieldValue(newFields);\n    } else {\n      setGridFieldValue({ ...gridFieldValue,\n        [event.target.name]: event.target.checked\n      });\n    }\n  };\n\n  const handleTableCheckboxChange = name => {\n    // console.log(\"TD CHBX\", name)\n    if (name === \"selectAll\") {\n      let newFields = { ...gridFieldValue\n      };\n\n      for (let key in newFields) {\n        newFields[key] = !gridFieldValue[name];\n      }\n\n      setGridFieldValue(newFields);\n    } else {\n      setGridFieldValue({ ...gridFieldValue,\n        [name]: !gridFieldValue[name]\n      });\n    }\n  };\n\n  if (updateState !== null) {\n    try {\n      return /*#__PURE__*/React.createElement(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1961,\n          columnNumber: 9\n        }\n      }, isSearchForm !== null && isSearchForm === true ? /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"flex-start\",\n        spacing: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1965,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1966,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Accordion, {\n        expanded: accordionExpanded,\n        onChange: () => handleExpandAccordion(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1967,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1969,\n            columnNumber: 33\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1968,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1971,\n          columnNumber: 21\n        }\n      }, Form.label)), /*#__PURE__*/React.createElement(AccordionDetails, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1973,\n          columnNumber: 19\n        }\n      }, getForm())))) : getForm(), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"flex-start\",\n        spacing: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1982,\n          columnNumber: 11\n        }\n      }, buttons.map((button, index) => /*#__PURE__*/React.createElement(Button, {\n        name: button.name,\n        variant: \"outlined\",\n        onClick: () => buttonClick(button.name, null),\n        style: {\n          margin: 3,\n          color: button.fontColor,\n          backgroundColor: button.backgroundColor,\n          height: 32,\n          fontSize: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1984,\n          columnNumber: 15\n        }\n      }, button.label))), isSearchForm === true && /*#__PURE__*/React.createElement(ReplayIcon, {\n        style: {\n          paddingTop: 3\n        },\n        onClick: () => buttonClick(\"updateDocList\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2000,\n          columnNumber: 13\n        }\n      }), showAttachedDocuments === true && /*#__PURE__*/React.createElement(Paper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2003,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2004,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2005,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.importFile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2006,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        accept: \"image/*, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n        className: classes.inputFile,\n        id: buttonFilesWordPdfImgId,\n        multiple: true,\n        type: \"file\",\n        onChange: handleAttachFile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2007,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: buttonFilesWordPdfImgId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2015,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        component: \"span\",\n        key: keyGen(5),\n        variant: \"outlined\",\n        style: {\n          margin: 3,\n          color: \"white\",\n          backgroundColor: \"#BB7100\",\n          borderColor: \"#161C87\",\n          height: 32,\n          fontSize: 12\n        },\n        endIcon: /*#__PURE__*/React.createElement(AttachFileIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2028,\n            columnNumber: 34\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2016,\n          columnNumber: 23\n        }\n      }, \"\\u041F\\u0440\\u0438\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B\\u044B\"))))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        justify: \"flex-start\",\n        alignItems: \"flex-start\",\n        className: classes.root,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2035,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: \"auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2036,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"column\",\n        spacing: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2037,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingLeft: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2038,\n          columnNumber: 21\n        }\n      }, \"\\u041F\\u0440\\u0438\\u043A\\u0440\\u0435\\u043F\\u043B\\u0435\\u043D\\u043D\\u044B\\u0435 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\"), attachedDocsList(), attachedImgsList()))), showSavedDocuments === true && /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        justify: \"flex-start\",\n        alignItems: \"flex-start\",\n        className: classes.root,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2045,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: \"auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2046,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"column\",\n        spacing: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2047,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingLeft: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2048,\n          columnNumber: 19\n        }\n      }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\"), savedDocsList(), savedImgsList())))), docList !== null && /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"flex-start\",\n        spacing: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2058,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: \"auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2059,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2060,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: \"500px\",\n          overflow: \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2061,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        size: \"small\",\n        class: \"main-table-style\",\n        id: gridTableId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2062,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        class: \"thead-style\",\n        style: {\n          position: \"sticky\",\n          top: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2063,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2065,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"td-head-first-child\",\n        onContextMenu: ev => handleContextMenu(ev),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2066,\n          columnNumber: 27\n        }\n      }), gridForm.sections.map((section, index) => {\n        let showSection = checkToShowSection(section);\n\n        if (showSection === true) {\n          let lastSection = checkSectionOnLastChild(index);\n          return /*#__PURE__*/React.createElement(\"td\", {\n            class: lastSection === true ? \"td-head-last-child\" : \"td-head-style\",\n            colSpan: calculateColSpan(section.contents),\n            onContextMenu: ev => handleContextMenu(ev),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2072,\n              columnNumber: 33\n            }\n          }, section.label);\n        }\n      })), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2082,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"td-head-style-2row\",\n        rowSpan: \"2\",\n        style: {\n          \"minWidth\": \"65px\"\n        },\n        onContextMenu: ev => handleContextMenu(ev),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2083,\n          columnNumber: 27\n        }\n      }, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"), gridForm.sections.map(section => section.contents.map(contentItem => {\n        if (contentItem.show === true) {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            rowSpan: \"2\",\n            onClick: () => sortDataByColumn(contentItem.name, contentItem.type),\n            onContextMenu: ev => handleContextMenu(ev),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2095,\n              columnNumber: 35\n            }\n          }, contentItem.label, sortedColumn === contentItem.name ? sortedColumnOrder === 1 ? /*#__PURE__*/React.createElement(ArrowDropDownIcon, {\n            style: {\n              marginBottom: -8\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2102,\n              columnNumber: 100\n            }\n          }) : /*#__PURE__*/React.createElement(ArrowDropUpIcon, {\n            style: {\n              marginBottom: -8\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2102,\n              columnNumber: 150\n            }\n          }) : \"\");\n        }\n      })))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2110,\n          columnNumber: 23\n        }\n      }, Object.keys(docList).length !== 0 && docList.map(dataItem => /*#__PURE__*/React.createElement(\"tr\", {\n        key: keyGen(5),\n        style: {\n          \"height\": 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2113,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"td-style\",\n        style: {\n          \"maxWidth\": 34\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2114,\n          columnNumber: 31\n        }\n      }, gridFormButtons !== \"null\" && gridFormButtons.map(button => /*#__PURE__*/React.createElement(Button, {\n        key: button.name,\n        name: button.name,\n        variant: \"outlined\" // id={dataItem.id}\n        ,\n        value: button.name,\n        onClick: () => buttonClick(button.name, dataItem),\n        style: {\n          margin: 1,\n          height: 24,\n          fontSize: 10,\n          maxWidth: 32,\n          backgroundColor: button.backgroundColor,\n          borderColor: \"darkgreen\",\n          color: \"darkgreen\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2117,\n          columnNumber: 35\n        }\n      }, button.label))), gridForm.sections.map(section => section.contents.map(contentItem => {\n        if (contentItem.show === true) {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-body-style\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2141,\n              columnNumber: 39\n            }\n          }, getGridFormItems(dataItem, contentItem));\n        }\n      }))))))), /*#__PURE__*/React.createElement(\"tfoot\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2154,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2155,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingLeft: \"3px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2156,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"outlined\",\n        style: {\n          background: \"#047535\",\n          color: \"white\",\n          height: 28\n        },\n        onClick: () => downloadExcel(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2157,\n          columnNumber: 25\n        }\n      }, \"\\u0412 EXCEL\")), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingLeft: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2164,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          minWidth: 90,\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2165,\n          columnNumber: 25\n        }\n      }, \"\\u041A\\u043E\\u043B-\\u0432\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439\")), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingLeft: \"3px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2167,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        style: {\n          minWidth: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2168,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(GridSelect, {\n        onChange: handleChangeRowsPerPage,\n        style: {\n          height: 25,\n          color: \"black\"\n        },\n        value: size,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2172,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        value: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2177,\n          columnNumber: 29\n        }\n      }, \"10\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 20,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2178,\n          columnNumber: 29\n        }\n      }, \"20\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 50,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2179,\n          columnNumber: 29\n        }\n      }, \"50\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2180,\n          columnNumber: 29\n        }\n      }, \"100\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 200,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2181,\n          columnNumber: 29\n        }\n      }, \"200\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 500,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2182,\n          columnNumber: 29\n        }\n      }, \"500\")))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2187,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041D\\u0430 \\u043F\\u0435\\u0440\\u0432\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2188,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: () => KeyboardArrowFirstClick(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2189,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(FirstPageIcon, {\n        style: {\n          fontSize: \"large\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2190,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2194,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041D\\u0430 \\u043F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2195,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: () => KeyboardArrowLeftClick(page),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2196,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2197,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"black\",\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2201,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        style: {\n          maxWidth: 25\n        },\n        value: page,\n        onChange: handlePageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2202,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingLeft: \"3px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2204,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043D\\u0430 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2205,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: () => GoToPage(),\n        variant: \"outlined\",\n        style: {\n          height: 22,\n          backgroundColor: \"#D1D6D6\",\n          fontSize: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2206,\n          columnNumber: 29\n        }\n      }, \"\\u043F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\"))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2218,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"\\u041D\\u0430 \\u0441\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2219,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: () => KeyboardArrowRightClick(page),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2220,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2221,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"pagination-rows-amount-style\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2225,\n          columnNumber: 23\n        }\n      }, \"\\u0421\\u0442\\u0440. \", page, \" \\u0438\\u0437 \", getPageAmount(), \" \\u041E\\u0431\\u0449\\u0435\\u0435 \\u043A\\u043E\\u043B-\\u0432\\u043E \", filteredDocList.length))), /*#__PURE__*/React.createElement(Menu, {\n        anchorEl: anchorEl,\n        open: openMenu,\n        onClose: handleCloseMenu,\n        MenuListProps: {\n          'aria-labelledby': 'basic-button'\n        },\n        style: {\n          paddingLeft: \"100px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2229,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2238,\n          columnNumber: 21\n        }\n      }, createMenuItems()))))), /*#__PURE__*/React.createElement(Modal, {\n        className: classes.modal,\n        open: openModal,\n        onClose: handleCloseModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2246,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.imagePaper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2251,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        name: selectedImg.name,\n        height: 600,\n        width: \"auto\",\n        src: selectedImg.src,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2252,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(Snackbar, {\n        open: showSnackBar,\n        onClose: () => handleCloseSnackBar(),\n        autoHideDuration: 1200,\n        message: snackBarMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2255,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Modal, {\n        open: showModalEnterPin,\n        onClose: handleCloseModalEnterPin,\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2261,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: modalStyle,\n        className: classes.modalRutoken,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2267,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        id: \"simple-modal-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2268,\n          columnNumber: 15\n        }\n      }, \"\\u0412\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041F\\u0418\\u041D \\u043A\\u043E\\u0434 \\u0420\\u0443\\u0442\\u043E\\u043A\\u0435\\u043D\\u0430\"), /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        style: {\n          width: \"100%\"\n        },\n        error: wrongPin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2269,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(InputLabel, {\n        htmlFor: \"outlined-adornment-password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2270,\n          columnNumber: 17\n        }\n      }, \"PIN\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n        type: showPin ? 'text' : 'password',\n        defaultValue: rutokenPin,\n        onChange: handlePinChange,\n        onKeyPress: onKeyPressModalEnterPin,\n        autoFocus: true,\n        endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n          position: \"end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2278,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(IconButton, {\n          \"aria-label\": \"toggle password visibility\",\n          onClick: handleClickShowPin,\n          edge: \"end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2279,\n            columnNumber: 23\n          }\n        }, showPin ? /*#__PURE__*/React.createElement(Visibility, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2284,\n            columnNumber: 36\n          }\n        }) : /*#__PURE__*/React.createElement(VisibilityOff, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2284,\n            columnNumber: 53\n          }\n        }))),\n        labelWidth: 25,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2271,\n          columnNumber: 17\n        }\n      })), wrongPin === true && /*#__PURE__*/React.createElement(\"p\", {\n        color: \"red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2291,\n          columnNumber: 37\n        }\n      }, \"\\u041D\\u0435 \\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 PIN\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        onClick: () => buttonClick(\"SignApplicationSaveButton\"),\n        style: {\n          margin: 3,\n          height: 32,\n          fontSize: 12,\n          color: \"white\",\n          backgroundColor: \"#2862F4\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2292,\n          columnNumber: 15\n        }\n      }, \"\\u041E\\u043A\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        onClick: handleCloseModalEnterPin,\n        style: {\n          margin: 3,\n          height: 32,\n          fontSize: 12,\n          color: \"white\",\n          backgroundColor: \"#E73639\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2304,\n          columnNumber: 15\n        }\n      }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n    } catch (er) {\n      console.log(\"ERROR\", er);\n      return /*#__PURE__*/React.createElement(LinearProgress, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2324,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","makeStyles","Table","TableHead","TableRow","TableBody","TableCell","Button","Grid","Paper","Snackbar","NumberFormat","PropTypes","Card","Modal","Menu","FormControl","FormControlLabel","OutlinedInput","InputLabel","InputAdornment","Visibility","VisibilityOff","Accordion","AccordionDetails","AccordionSummary","Typography","ExpandMoreIcon","AttachFileIcon","MenuItem","FirstPageIcon","ArrowForwardIosIcon","ArrowBackIosIcon","LinearProgress","IconButton","ArrowUpwardRoundedIcon","GetAppIcon","ArrowDropDownIcon","ArrowDropUpIcon","ReplayIcon","GridSelect","TextField","Select","Checkbox","swal","Tooltip","numberToWordsRu","rutoken","tableToExcel","plugin","rutokenHandle","certHandle","certData","cmsData","generator","require","FloatFormat","props","inputRef","onChange","other","values","target","value","propTypes","func","isRequired","IntegerFormat","useStyles","theme","root","margin","paper","width","height","overflow","button","spacing","importFile","inputFile","display","modal","alignItems","justifyContent","modalRutoken","position","backgroundColor","palette","background","border","boxShadow","shadows","padding","getModalStyle","top","left","transform","classes","userProfile","session_id","userTask","process_id","taskID","Form","setForm","selectedDoc","setSelectedDoc","docId","setDocId","formType","docList","setDocList","filteredDocList","setFilteredDocList","initialDocList","setInitialDocList","gridForm","setGridForm","gridFormButtons","enumData","enumOptions","setEnumOptions","gridFormEnumData","fieldValue","setFieldValue","selectedOptions","setSelectedOptions","buttons","page","setPage","size","setSize","showSnackBar","setShowSnackBar","snackBarMessage","setSnackBarMessage","sectionColor","updateState","setUpdateState","taskType","showSavedDocuments","setShowSavedDocuments","showAttachedDocuments","setShowAttachedDocuments","openModal","setOpenModal","attachedImgs","setAttachedImgs","attachedImgsFiles","setAttachedImgsFiles","attachedDocs","setAttachedDocs","Blobs","setBlobs","selectedImg","setSelectedImg","savedImgs","setSavedImgs","savedImagesFiles","setSavedImagesFiles","savedDocs","setSavedDocs","buttonFilesWordPdfImgId","setButtonFilesWordPdfImgId","sortedColumn","setSortedColumn","sortedColumnOrder","setSortedColumnOrder","modalStyle","showModalEnterPin","setShowModalEnterPin","rutokenPin","setRutokenPin","showPin","setShowPin","wrongPin","setWrongPin","isSearchForm","setIsSearchForm","accordionExpanded","setAccordionExpanded","anchorEl","setAnchorEl","openMenu","Boolean","gridTableId","getUUID","gridFieldValue","setGridFieldValue","console","log","parsedData","JSON","parse","s","parseInt","p","sortedDocList","sort","dynamicSort","filterDocList","fetchBySize","er","callErrorToast","undefined","parsedSelectedDoc","fields","sections","length","c","contents","fieldName","name","newEnumOptions","i","options","d","data","push","id","label","getLostEnumName","partner","depositor","application_type","extension","convertBase64ToFile","content","fileName","newFields","show","enumI","type","ready","then","window","chrome","InstallTrigger","isExtensionInstalled","Promise","resolve","result","isPluginInstalled","loadPlugin","handleError","reason","isNaN","message","errorCodes","PIN_INCORRECT","alert","sign","commandJson","enumerateDevices","devices","firstDevice","getDeviceInfo","TOKEN_INFO_IS_LOGGED_IN","isLoggedIn","login","enumerateCertificates","CERT_CATEGORY_UNSPEC","certs","parseCertificate","inn","fullName","subject","rdn","setEsInn","setEsUserFullName","setEsExpiredDate","validNotAfter","substring","applicationToSign","variables","document","getCurrentFullDateTime","stringify","handleCloseModalEnterPin","swAllert","sendFieldValues","clearTabData","DATA_FORMAT_PLAIN","logout","handleExpandAccordion","handleOpenModal","handleCloseModal","handleOpenModalEnterPin","handlePinChange","event","handleClickShowPin","handleCheckboxChange","checked","handleIntChange","stringNum","toString","replace","int","converted","convert","currency","currencyNameCases","fractionalPartNameCases","declension","currencyNounGender","integer","showNumberParts","fractional","handleFloatChange","float","parseFloat","handleChange","handleSelectChange","option","updateSelectedOptions","slice","noSuchOption","edit","handleDateTimeChange","fullDate","parseDate","hours","Date","getHours","minutes","getMinutes","seconds","getSeconds","convertedDate","getContentType","key","fetchFrom","fetchTo","Data","newDocList","Object","keys","match","contentType","searchField","toLowerCase","dataField","includeSearch","includes","KeyboardArrowFirstClick","KeyboardArrowLeftClick","prevPage","KeyboardArrowRightClick","handleChangeRowsPerPage","GoToPage","handlePageChange","handleCloseSnackBar","getPageAmount","pagesFloat","mathRoundOfPages","Math","round","uuidv1","keyGen","password","generate","numbers","text","icon","ok","getFieldValuesSaveDocument","docToSave","getFieldValuesUpdateDocument","docToUpdate","created_at","checkForRequieredFields","checkedSuccessfuly","required","buttonClick","buttonName","item","commandType","userId","userRole","userAction","searchDoc","updateBody","files_directory","blobs","directory","esInn","dir","esUserFullName","updateApplication","newSelectedDoc","security_type","is_gov_security","code","isin","nominal","quantity","securities_quantity_int","reg_date","securities_placement_begin_date","end_date","securities_placement_end_date","authorization","getGridFormItems","dataItem","contentItem","color","fontSize","l","maxWidth","Time","status","handleAttachFile","e","selectedFiles","files","reader","FileReader","onload","image","attachedImgClick","readAsDataURL","pushNewBlob","f","blobToBase64","cb","dataUrl","base64","split","newBlob","src","newId","attachedDocsList","selDocsList","paddingLeft","minWidth","fontWeight","attachedImgsList","imgs","dataurl","arr","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","convFile","File","handleAttachSavedFile","file","pushSavedImage","savedImgClick","savedDocsList","URL","createObjectURL","savedImgsList","blob","converFileToBlob","byteString","ab","ArrayBuffer","ia","Blob","checkToShowSection","section","showSection","checkSectionOnLastChild","lastSection","nextS","onKeyPressModalEnterPin","charCode","property","sortOrder","a","b","dateA","timeInSecA","getTime","dateB","timeInSecB","labelA","getEnumLabel","labelB","sortDataByColumn","getForm","map","sectionBuilder","bodyBuilder","contentBuilder","onKeyPressText","selectedOption","body","menuPortal","base","zIndex","onKeyPressInt","inputComponent","onKeyPressFloat","onKeyPressDateTime","shrink","parseFullDateTime","calculateColSpan","num","handleContextMenu","preventDefault","currentTarget","handleCloseMenu","createMenuItems","columns","cursor","handleTableCheckboxChange","handleGridCheckboxChange","downloadExcel","getElementById","index","fontColor","paddingTop","borderColor","ev","marginBottom","imagePaper"],"sources":["C:/Users/SERGO/Desktop/depo/src/components/NewSecurityApplications/NewSecurityApplications.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react';\n// import clsx from 'clsx';\nimport { makeStyles} from '@material-ui/core/styles';\nimport Table from \"@material-ui/core/Table\"; // Material ui table for usual form\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from '@material-ui/core/Button';\nimport { Grid } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport Modal from \"@material-ui/core/Modal\";\nimport Menu from '@mui/material/Menu';\n// PIN components\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n// Accordion\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n// Icons\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded';\n\n// import CloseIcon from '@material-ui/icons/Close';\n// import DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ReplayIcon from '@material-ui/icons/Replay';\n// Form components\nimport GridSelect from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport Select from 'react-select';\nimport Checkbox from '@material-ui/core/Checkbox';\n// Libraries\nimport swal from 'sweetalert' // https://sweetalert.js.org/guides/\nimport Tooltip from '@material-ui/core/Tooltip';\nimport numberToWordsRu from 'number-to-words-ru'; // https://www.npmjs.com/package/number-to-words-ru\nimport * as rutoken from \"rutoken\";\nimport tableToExcel from \"@linways/table-to-excel\"; // https://github.com/linways/table-to-excel\nvar plugin;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nvar generator = require('generate-password');\n\nfunction FloatFormat(props){\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            value: values.value,\n          },\n        });\n      }}\n      decimalSeparator={\".\"}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nfunction IntegerFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: 'auto',\n  },\n  paper: {\n    width: 400,\n    height: 300,\n    overflow: 'auto',\n  },\n  button: {\n    margin: theme.spacing(0.5, 0),\n  },\n  importFile: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  inputFile: {\n    display: 'none',\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalRutoken: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  }\n}))\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\nexport default (props) => {\n    // This.state\n  const classes = useStyles();\n  const [userProfile] = useState(props.userProfile)\n  const [session_id] = useState(props.userTask.session_id)\n  const [process_id] = useState(props.userTask.process_id)\n  const [taskID] = useState(props.userTask.taskID)\n  const [Form, setForm] = useState(props.userTask.Form)\n  const [selectedDoc, setSelectedDoc] = useState(null)\n  const [docId, setDocId] = useState(props.userTask.docId)\n  const [formType] = useState(props.userTask.formType)\n  const [docList, setDocList] = useState(null)\n  const [filteredDocList, setFilteredDocList] = useState(null)\n  const [initialDocList, setInitialDocList] = useState(null)\n  const [gridForm, setGridForm] = useState(props.userTask.gridForm)\n  const [gridFormButtons] = useState(props.userTask.gridFormButtons)\n  const [enumData] = useState(props.userTask.enumData)\n  const [enumOptions, setEnumOptions] = useState({})\n  const [gridFormEnumData] = useState(props.userTask.gridFormEnumData)\n  const [fieldValue, setFieldValue] = useState({})\n  const [selectedOptions, setSelectedOptions] = useState([])\n  const [buttons] = useState(props.userTask.buttons)\n  const [page, setPage] = useState(1)\n  const [size, setSize] = useState(10)\n  const [showSnackBar, setShowSnackBar] = useState(false)\n  const [snackBarMessage, setSnackBarMessage] = useState(\"\")\n  const [sectionColor] = useState(\"#B2E0C9\")\n  const [updateState, setUpdateState] = useState(false)\n  const [taskType] = useState(props.userTask.taskType)\n  const [showSavedDocuments, setShowSavedDocuments] = useState(false)\n  const [showAttachedDocuments, setShowAttachedDocuments] = useState(false)\n\n  const [openModal, setOpenModal] = useState(false)\n  const [attachedImgs, setAttachedImgs] = useState([])\n  const [attachedImgsFiles, setAttachedImgsFiles] = useState([])\n  const [attachedDocs, setAttachedDocs] = useState([])\n  const [Blobs, setBlobs] = useState([])\n  const [selectedImg, setSelectedImg] = useState({})\n  const [savedImgs, setSavedImgs] = useState([])\n  const [savedImagesFiles, setSavedImagesFiles] = useState([])\n  const [savedDocs, setSavedDocs] = useState([])\n  const [buttonFilesWordPdfImgId, setButtonFilesWordPdfImgId] = useState(null)\n\n  const [sortedColumn, setSortedColumn] = useState(\"null\")\n  const [sortedColumnOrder, setSortedColumnOrder] = useState(1)\n\n  const [modalStyle] = useState(getModalStyle)\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false)\n  const [rutokenPin, setRutokenPin] = useState(\"\")\n  const [showPin, setShowPin] = useState(false)\n  const [wrongPin, setWrongPin] = useState(false)\n\n  const [isSearchForm, setIsSearchForm] = useState(null)\n  const [accordionExpanded, setAccordionExpanded] = useState(false)\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const openMenu = Boolean(anchorEl)\n  const [gridTableId] = useState(getUUID())\n  const [gridFieldValue, setGridFieldValue] = useState({})\n  \n   // Set data from props to state of component\n   useEffect(()=>{\n    console.log(\"NEW APPL PROPS\", props)\n    setButtonFilesWordPdfImgId(getUUID())\n    if(props.userTask.docList !== \"null\" && props.userTask.docList !== null){\n      try{\n        let parsedData  = JSON.parse(props.userTask.docList)\n        console.log(\"DOCL\", parsedData)\n        let s = parseInt(props.userTask.size)\n        let p = parseInt(props.userTask.page)\n        setSize(s)\n        setPage(p)\n        setIsSearchForm(true)\n        setFilteredDocList(parsedData)\n        setInitialDocList(parsedData)\n        let sortedDocList = parsedData.sort(dynamicSort(\"id\", -1, \"Int\"))\n        if(props.userTask.selectedDoc !== \"null\"){\n          filterDocList(0, s-1, sortedDocList, JSON.parse(props.userTask.selectedDoc))\n        }\n        else{fetchBySize(0, s-1, sortedDocList)}\n      }\n      catch(er){\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType)\n        setFilteredDocList([])\n        setIsSearchForm(true)\n        setInitialDocList([])\n        setDocList([])\n      }\n    }\n    else{setIsSearchForm(false)}\n    if(props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null){\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc)\n      let fields = {}\n      // let Form = props.userTask.Form\n      for(let s=0; s<Form.sections.length; s++){\n        for(let c=0; c<Form.sections[s].contents.length; c++){\n          let fieldName = Form.sections[s].contents[c].name\n          fields[fieldName] = parsedSelectedDoc[fieldName]\n        }\n      }\n      console.log(\"SDOC\", parsedSelectedDoc)\n      // console.log(\"FIELDVAL\", fields)\n      setSelectedDoc(parsedSelectedDoc)\n      setFieldValue(fields)\n    }\n    if(props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\"){\n      let newEnumOptions = {}\n      for(let i=0; i<props.userTask.enumData.length; i++){\n        if(props.userTask.enumData[i] !== null){\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Пусто\",\n            \"name\" : props.userTask.enumData[i].name\n          }]\n          for(let d=0; d<props.userTask.enumData[i].data.length; d++){\n              options.push({\n              \"value\": props.userTask.enumData[i].data[d].id,\n              \"label\": props.userTask.enumData[i].data[d].label,\n              \"name\" : props.userTask.enumData[i].name\n            })\n          }\n          newEnumOptions[props.userTask.enumData[i].name] = options\n        }\n        else{\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Ошибка...\",\n            \"name\" : getLostEnumName(i)\n          }]\n          newEnumOptions[getLostEnumName(i)] = options\n          props.callErrorToast(\"Ошибка сбора справочной информации \" + getLostEnumName(i))\n        }\n      }\n      setEnumOptions(newEnumOptions)\n    }\n    if(props.userTask.taskType === \"showNewSecurityApplicationsCreatingForm\"){\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc)\n      setShowAttachedDocuments(true)\n      for(let i=0; i<props.userTask.enumData.length; i++){\n        if(props.userTask.enumData[i].name === \"partners\"){\n          for(let d=0; d<props.userTask.enumData[i].data.length; d++){\n            if(props.userTask.enumData[i].data[d].id === parseInt(userProfile.partner)){\n              setFieldValue({depositor: props.userTask.enumData[i].data[d].label, application_type: parsedSelectedDoc.application_type})\n            }\n          }\n        }\n      }\n      // setFieldValue({depositor: userProfile.firstName + \" \" + userProfile.lastName, application_type: parsedSelectedDoc.application_type})\n    }\n    if(props.userTask.taskType === \"showNewSecurityApplicationsEditForm\"){\n      setShowAttachedDocuments(true)\n      setShowSavedDocuments(true)\n    }\n    if(props.userTask.savedDocs.length !== 0){\n      for(let d=0; d<props.userTask.savedDocs.length; d++){\n        let extension = props.userTask.savedDocs[d].extension\n        if(extension === \".png\"){\n          convertBase64ToFile(\"data:image/png;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if(extension === \".jpeg\" || extension === \".jpg\"){\n          convertBase64ToFile(\"data:image/jpeg;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if(extension === \".doc\"){\n          convertBase64ToFile(\"data:application/msword;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if(extension === \".docx\"){\n          convertBase64ToFile(\"data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if(extension === \".xlsx\"){\n          convertBase64ToFile(\"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if(extension === \".pdf\"){\n          convertBase64ToFile(\"data:application/pdf;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n      }\n    }\n    if(gridForm !== null){\n      let newFields = {}\n      for(let s=0; s<gridForm.sections.length; s++){\n        for(let c=0; c<gridForm.sections[s].contents.length; c++){\n          newFields[gridForm.sections[s].contents[c].name] = gridForm.sections[s].contents[c].show\n        }\n      }\n      setGridFieldValue(newFields)\n    }\n    setUpdateState(getUUID())\n  },[])\n  function getLostEnumName(i){\n    let enumI = 0\n    for(let s=0; s<Form.sections.length; s++){\n      for(let c=0; c<Form.sections[s].contents.length; c++){\n        if(Form.sections[s].contents[c].type === \"Enum\"){\n          if(enumI === i){\n            return Form.sections[s].contents[c].name\n          }\n          else{enumI += 1}\n        }\n      }\n    }\n  }\n  // RuToken functions\n  rutoken.ready\n  // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n  .then(function () {\n    if (window.chrome || typeof InstallTrigger !== 'undefined') {\n      return rutoken.isExtensionInstalled()\n    } else {\n      return Promise.resolve(true)\n    }\n  })\n  // Проверка установки Рутокен Плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.isPluginInstalled()\n    } else {\n      // alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n    }\n  })\n  // Загрузка плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.loadPlugin()\n    } else {\n      // alert(\"Не удаётся найти Плагин\");\n    }\n  })\n  //Можно начинать работать с плагином\n  .then(function (result) {\n    if (!result) {\n      return // alert(\"Не удаётся загрузить Плагин\")\n    } else {\n      plugin = result\n      return Promise.resolve()\n    }\n  })\n  \n  // catch errors while signing docs\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true)\n          break;\n        default:\n          alert(\"Неизвестная ошибка\");\n      }\n    }\n  }\n  // Sign transfer order with rutoken\n  function sign(commandJson) {\n    try{\n      if(plugin !== undefined){\n        // Перебор подключенных Рутокенов\n        plugin.enumerateDevices()\n        .then(function (devices) {\n          if (devices.length > 0) {\n            return Promise.resolve(devices[0]);\n          } else {\n            // alert(\"Рутокен не обнаружен\");\n          }\n        })\n        // Проверка залогиненности\n        .then(function (firstDevice) {\n          rutokenHandle = firstDevice;\n          return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n        })\n        // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n        .then(function (isLoggedIn) {\n          if (isLoggedIn) {\n            return Promise.resolve();\n          } else {\n            return plugin.login(rutokenHandle, rutokenPin); // 240699\n          }\n        })\n        // Перебор пользовательских сертификатов на токене\n        .then(function () {\n          return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n        })\n        .then(function (certs) {\n          if (certs.length > 0) {\n            certHandle = certs[0];\n            return plugin.parseCertificate(rutokenHandle, certs[0]);\n          }  else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        })\n        // Подписание данных из текстового поля на первом найденом сертификате\n        .then(function (certs) {\n          certData = certs\n          if (certHandle.length > 0) {\n            var options = {};\n            let inn = \"\"\n            let fullName = \"\"\n            for(let i=0; i<certData.subject.length; i++){\n              if(certData.subject[i].rdn === \"serialNumber\"){\n                inn = certData.subject[i].value\n              }\n              if(certData.subject[i].rdn === \"commonName\"){\n                fullName = certData.subject[i].value\n              }\n            }\n            props.setEsInn(inn)\n            props.setEsUserFullName(fullName)\n            props.setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length-1))\n            let applicationToSign = commandJson.variables.document.value\n\n            applicationToSign[\"status\"] = 0\n            applicationToSign[\"es_inn\"] = inn\n            applicationToSign[\"es_full_name\"] = fullName\n            applicationToSign[\"es_date\"] = props.getCurrentFullDateTime()\n            applicationToSign[\"depositor_authorized_person\"] = fullName\n\n            commandJson.variables.document.value = JSON.stringify(applicationToSign)\n            console.log(\"SIGN\", applicationToSign, commandJson)\n            handleCloseModalEnterPin()\n            swAllert(\"Документ успешно подписан!\", \"success\")\n            props.sendFieldValues(commandJson)\n            props.clearTabData(commandJson.process_id)\n            return plugin.sign(rutokenHandle, certHandle, \"textToSign\", plugin.DATA_FORMAT_PLAIN, options);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\")\n          }\n        })\n        // Закрытие сессии\n        .then(function () {\n          plugin.logout(rutokenHandle)\n        }, handleError)\n      }\n      else{swAllert(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\")}\n      }\n    catch(er){\n      console.log(\"Rutoken ERR\")\n    }\n  }\n\n  function handleExpandAccordion(){\n    setAccordionExpanded(!accordionExpanded)\n  }\n  \n  const handleOpenModal = () => {\n    setOpenModal(true)\n  }\n  const handleCloseModal = () => {\n    setOpenModal(false)\n  }\n  const handleOpenModalEnterPin = () => {\n    setShowModalEnterPin(true)\n  }\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false)\n  }\n  function handlePinChange(event){\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    setRutokenPin(event.target.value)\n    console.log(\"PIN\", event.target.value)\n  }\n  function handleClickShowPin(){\n    setShowPin(!showPin)\n  }\n  const handleCheckboxChange = (event) => {\n    setFieldValue({ ...fieldValue, [event.target.name]: event.target.checked });\n  }\n  // Integer input handler\n  const handleIntChange = (event) => {\n    console.log(\"EVENT\", event.target.name, event.target.value)\n    let stringNum = event.target.value.toString().replace(/ /g,'')\n    let int = parseInt(stringNum)\n    setFieldValue({ ...fieldValue, [event.target.name]: int })\n    if(event.target.name === \"securities_quantity_int\"){\n      let converted = numberToWordsRu.convert(stringNum, {\n        currency: {\n          currencyNameCases: ['ценная бумага', 'ценных бумаги', 'ценных бумаг'],\n          fractionalPartNameCases: ['', '', ''],\n          declension: 'nominative',\n          currencyNounGender: {\n            integer: 1, // 1 => Женский род ('одна', 'две'...)\n          }\n        },\n        showNumberParts: {\n          integer: true,\n          fractional: false\n        }\n      })\n      // console.log(\"WORD\", converted)\n      setFieldValue({ ...fieldValue, [\"securities_quantity_text\"]: converted, [event.target.name]: int })\n    }\n  }\n  // Float input handler\n  const handleFloatChange = (event) => {\n    let stringNum = event.target.value.toString().replace(/ /g,'');\n    let float = parseFloat(stringNum)\n    setFieldValue({...fieldValue, [event.target.name]: float})\n    console.log(\"FLOAT CHANGE\", event.target.name, fieldValue)\n  }\n  function handleChange(event){\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value\n    setFieldValue(fieldValue)\n    console.log(\"FIELDVALUE\", fieldValue)\n  }\n  function handleSelectChange(option){\n    fieldValue[option.name] = option.value\n    console.log(\"OPT\", option.name, option.value)\n    var updateSelectedOptions = selectedOptions.slice()\n    let noSuchOption = true\n    for(let i=0; i<updateSelectedOptions.length; i++){\n      if(option.name === updateSelectedOptions[i].name){\n        updateSelectedOptions[i] = option\n        noSuchOption = false\n        setSelectedOptions(updateSelectedOptions)\n        break\n      }\n      else {\n        noSuchOption = true\n      }\n    }\n    if(noSuchOption === true){\n      updateSelectedOptions.push(option)\n      setSelectedOptions(updateSelectedOptions)\n    }\n    if(option.name === \"payer_type\" && (taskType === \"showPaymentsForCDServicesCreatingForm\" || \n    taskType === \"showPaymentsForCDServicesViewForm\" || taskType === \"showPaymentsForCDServicesSearchForm\")){\n      // console.log(\"SEL\", option.name, option.value)\n      for(let s=0; s<Form.sections.length; s++){\n        for(let c=0; c<Form.sections[s].contents.length; c++){\n          if(Form.sections[s].contents[c].name === \"depositor\"){\n            if(option.value === 1){\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"issuer\"] = null\n              for(let i=0; i<updateSelectedOptions.length; i++){\n                if(updateSelectedOptions[i].name === \"issuer\"){\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\" : \"issuer\"\n                  }\n                  setSelectedOptions(updateSelectedOptions)\n                  break\n                }\n              }\n            }\n            else{\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n          if(Form.sections[s].contents[c].name === \"issuer\"){\n            if(option.value === 2){\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"depositor\"] = null\n              for(let i=0; i<updateSelectedOptions.length; i++){\n                if(updateSelectedOptions[i].name === \"depositor\"){\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\" : \"depositor\"\n                  }\n                  setSelectedOptions(updateSelectedOptions)\n                  break\n                }\n              }\n            }\n            else{\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n        }\n      }\n      setForm(Form)\n      \n      // console.log(\"NEW ENUMS\")\n    }\n    else if(option.name === \"recipient_type\" && (taskType === \"showTransitChargeForCDServicesCreatingForm\" || \n    taskType === \"showTransitChargeForCDServicesEditForm\" ||\n    taskType === \"showTransitPaymentsForCDServicesCreatingForm\" ||\n    taskType === \"showTransitPaymentsForCDServicesEditForm\" ||\n    taskType === \"showTransitPaymentsForCDServicesSearchForm\")){\n      console.log(\"RECIPIENT\", option.name, option.value, fieldValue)\n      for(let s=0; s<Form.sections.length; s++){\n        for(let c=0; c<Form.sections[s].contents.length; c++){\n          if(Form.sections[s].contents[c].name === \"registrar\"){\n            if(option.value === 1){\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"corr_depository\"] = null\n              for(let i=0; i<updateSelectedOptions.length; i++){\n                if(updateSelectedOptions[i].name === \"corr_depository\"){\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\" : \"corr_depository\"\n                  }\n                  setSelectedOptions(updateSelectedOptions)\n                  break\n                }\n              }\n            }\n            else{\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n          if(Form.sections[s].contents[c].name === \"corr_depository\"){\n            if(option.value === 2){\n              Form.sections[s].contents[c].show = true\n              Form.sections[s].contents[c].edit = true\n              fieldValue[\"registrar\"] = null\n              for(let i=0; i<updateSelectedOptions.length; i++){\n                if(updateSelectedOptions[i].name === \"registrar\"){\n                  updateSelectedOptions[i] = {\n                    \"value\": \"\",\n                    \"label\": \"Пусто\",\n                    \"name\" : \"registrar\"\n                  }\n                  setSelectedOptions(updateSelectedOptions)\n                  break\n                }\n              }\n            }\n            else{\n              Form.sections[s].contents[c].show = false\n              Form.sections[s].contents[c].edit = false\n            }\n          }\n        }\n      }\n      setForm(Form)\n      // console.log(\"NEW ENUMS\")\n    }\n  }\n  function handleDateTimeChange(event){\n    let fullDate = props.parseDate(event.target.value)\n    var hours = new Date().getHours()\n    var minutes = new Date().getMinutes()\n    var seconds = new Date().getSeconds()\n    var convertedDate = fullDate + \" \" + hours + \":\" + minutes + \":\" + seconds + \".123456+06\"\n    fieldValue[event.target.name] = convertedDate\n    setFieldValue(fieldValue)\n    // console.log(\"DATE CHANGE\", event.target.value)\n  }\n\n  function getContentType(key){\n    for(let s=0; s<Form.sections.length; s++){\n      for(let c=0; c<Form.sections[s].contents.length; c++){\n        if(key === Form.sections[s].contents[c].name){\n          return Form.sections[s].contents[c].type\n        }\n      }\n    }\n  }\n  // filter docList by filled parameters\n  function filterDocList(fetchFrom, fetchTo, Data, fields){\n    var newDocList = []\n    if(Object.keys(fields).length === 0){\n      newDocList = Data\n    }\n    else{\n      for(let i=0; i<Data.length; i++){\n        let match = false\n        for(let key in fields){\n          if(fields[key] === null || fields[key] === \"\" || fields[key] === undefined){\n            match = true\n          }\n          else{\n            if(Data[i][key] !== null){\n              let contentType = getContentType(key)\n              if(contentType === \"Text\"){\n                try{\n                  let searchField = fields[key].toLowerCase()\n                  let dataField = Data[i][key].toLowerCase()\n                  let includeSearch = dataField.includes(searchField)\n                  if(includeSearch === true){\n                    match = true\n                  }\n                  else{\n                    match = false\n                    break\n                  }\n                }\n                catch(er){\n                  console.log(\"ERR\", er)\n                  match = true\n                }\n              }\n              else if(contentType === \"Int\" || contentType === \"Float\"){\n                if(fields[key] >= 0 || fields[key] < 0){\n                  let searchField = fields[key].toString()\n                  let dataField = Data[i][key].toString()\n                  let includeSearch = dataField.includes(searchField)\n                  if(includeSearch === true){\n                    match = true\n                  }\n                  else{\n                    match = false\n                    break\n                  }\n                }\n                else{match = true}\n              }\n              else if(contentType === \"Enum\"){\n                \n                if(fields[key] === Data[i][key]){\n                  // console.log(\"ENUMS\", key, fields[key], Data[i][key])\n                  match = true\n                }\n                else{\n                  match = false\n                  break\n                }\n              }\n              else if(contentType === \"DateTime\"){\n                let searchField = props.parseDate(fields[key])\n                let dataField = props.parseDate(Data[i][key])\n                // console.log(\"DATES\", searchField, dataField, searchField.includes(dataField))\n                if(searchField === \"NaN-NaN-NaN\"){\n                  match = true\n                }\n                else{\n                  if(searchField.includes(dataField) === true){\n                    match = true\n                  }\n                  else{\n                    match = false\n                    break\n                  }\n                }\n              }\n              else if(contentType === \"Bool\"){\n                if(fields[key] === Data[i][key]){\n                  match = true\n                }\n                else{\n                  match = false\n                  break\n                }\n              }\n            }\n            else{\n              match = false\n              break\n            }\n          }\n        }\n        if(match === true){\n          newDocList.push(Data[i])\n        }\n      }\n    }\n    setFilteredDocList(newDocList)\n    fetchBySize(fetchFrom, fetchTo, newDocList)\n  }\n  // get rows amount of filtered docList by size\n  function fetchBySize(fetchFrom, fetchTo, Data){\n    // console.log(\"fetchFrom\", \"fetchTo\")\n    let newDocList = []\n    for(let i=fetchFrom; i<=fetchTo; i++){\n      if(Data[i] !== undefined){\n        newDocList.push(Data[i])\n      }\n    }\n    setDocList(newDocList)\n  }\n  // Pagination functions\n  function KeyboardArrowFirstClick(){\n    if(page !== 1){\n      setPage(1)\n      fetchBySize(0, size-1, filteredDocList)\n    }\n    else{\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowLeftClick(page){\n    if(page !== 1){\n      var prevPage = page - 1\n      setPage(prevPage)\n      let fetchFrom = ((prevPage -1) * size) //10\n      let fetchTo = (size * prevPage)-1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n    else{\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowRightClick(page){\n    if(docList.length < size-1){\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\")\n      setShowSnackBar(true)\n    } \n    else{\n      setPage(page + 1)\n      let fetchFrom = (size * page)\n      let fetchTo = ((page + 1) * size)-1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n    \n  }\n  function handleChangeRowsPerPage(event){\n    setSize(event.target.value)\n    setPage(1)\n    fetchBySize(0, event.target.value-1, filteredDocList)\n  } \n  function GoToPage(){\n    let fetchFrom = (page*size-1)-size\n    let fetchTo = page*size-1\n    fetchBySize(fetchFrom, fetchTo, filteredDocList)\n  }\n  function handlePageChange(event){\n    setPage(event.target.value)\n  }\n  function handleCloseSnackBar(){\n    setShowSnackBar(false)\n  }\n  function getPageAmount(){\n    let pagesFloat = (filteredDocList.length)/size\n    let mathRoundOfPages = Math.round(pagesFloat)\n    if(pagesFloat > mathRoundOfPages){\n      return mathRoundOfPages + 1\n    }\n    else{\n      return mathRoundOfPages\n    }\n  }\n  // random UUID generator\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\")\n    return uuidv1()\n  }\n  // random numbers generator\n  function keyGen(length){\n    var password = generator.generate({\n      length: length,\n      numbers: true\n    })\n    return password\n  }\n  function swAllert(text, icon){\n    return(\n      swal({\n        text: text,\n        icon: icon,\n        buttons: {ok: \"Ок\"},\n      })\n      // .then((click) => {\n      //   if(click === \"ok\"){\n      //     console.log(\"CLICK OK\", click)\n      //   }\n      // })\n    )\n  }\n  // Collect data to save doc\n  function getFieldValuesSaveDocument(){\n    let docToSave = {}\n    for(let s=0; s<Form.sections.length; s++){\n      for(let c=0; c<Form.sections[s].contents.length; c++){\n        let fieldName = Form.sections[s].contents[c].name\n        if(Form.sections[s].contents[c].type === \"Bool\" && fieldValue[fieldName] === undefined){\n          docToSave[fieldName] = false\n        }\n        else{\n          docToSave[fieldName] = fieldValue[fieldName]\n        }\n      }\n    }\n    return docToSave\n  }\n  function getFieldValuesUpdateDocument(){\n    let docToUpdate = {}\n    docToUpdate[\"created_at\"] = selectedDoc.created_at\n    docToUpdate[\"id\"] = selectedDoc.id\n    for(let s=0; s<Form.sections.length; s++){\n      for(let c=0; c<Form.sections[s].contents.length; c++){\n        let fieldName = Form.sections[s].contents[c].name\n        if(Form.sections[s].contents[c].type === \"Bool\" && (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null)){\n          docToUpdate[fieldName] = false\n        }\n        else{\n          docToUpdate[fieldName] = fieldValue[fieldName]\n        }\n      }\n    }\n    return docToUpdate\n  }\n  function checkForRequieredFields(){\n    let checkedSuccessfuly = false\n    for(let s=0; s<Form.sections.length; s++){\n      for(let c=0; c<Form.sections[s].contents.length; c++){\n        let fieldName = Form.sections[s].contents[c].name\n        if(Form.sections[s].contents[c].required === true && (fieldValue[fieldName] === undefined || \n          fieldValue[fieldName] === null || fieldValue[fieldName] === \"NaN.NaN.NaN\" || fieldValue[fieldName].length === 0)){\n          checkedSuccessfuly = false\n          swAllert(\"Внимание заполните поле \\\"\" +  Form.sections[s].contents[c].label + \"\\\"\")\n          break\n        }\n        else{\n          checkedSuccessfuly = true\n        }\n      }\n    }\n    return checkedSuccessfuly\n  }\n  function buttonClick(buttonName, item){      \n    if(buttonName === \"findDocument\"){\n      filterDocList(0, size, initialDocList, fieldValue)\n    }\n    else if(buttonName === \"openDocument\"){\n      // console.log(\"ITEM\", item)\n      let commandJson = \n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          selectedDoc: {value: JSON.stringify(item)},\n          userAction: {value: \"openDocument\"},\n          docId: {value: item.id},\n          searchDoc: {value: JSON.stringify(fieldValue)}\n        }\n      }\n      console.log(\"button openDocument: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if(buttonName === \"updateDocument\"){\n      let updateBody = getFieldValuesUpdateDocument()\n      updateBody.files_directory = selectedDoc.files_directory\n      let commandJson = \n      {\n        commandType: \"saveDocumentsWithFiles\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        blobs: Blobs,\n        directory: selectedDoc.files_directory,\n        variables: {\n          userAction: {value: \"updateDocument\"},\n          document: {value: JSON.stringify(updateBody)}\n        }\n      }\n      console.log(\"updateDocument:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if(buttonName === \"createDocument\"){\n      let commandJson = \n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {value: \"createDocument\"},\n          searchDoc: {value: JSON.stringify(fieldValue)}\n        }\n      }\n      console.log(\"createDocument:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if(buttonName === \"selectApplicationType\"){\n      let commandJson = \n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {value: \"selectApplicationType\"},\n          selectedDoc: {value: JSON.stringify(fieldValue)}\n        }\n      }\n      console.log(\"selectApplicationType:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if(buttonName === \"signApplication\"){\n      if(props.esInn === null){\n        handleOpenModalEnterPin()\n      }\n      else{\n        let docToSave = getFieldValuesSaveDocument()\n        let dir = getUUID()\n        docToSave.files_directory = dir\n        docToSave[\"status\"] = 0\n        docToSave[\"es_inn\"] = props.esInn\n        docToSave[\"es_full_name\"] = props.esUserFullName\n        docToSave[\"es_date\"] = props.getCurrentFullDateTime()\n        docToSave[\"depositor_authorized_person\"] = props.esUserFullName\n        const commandJson = \n        {\n          commandType: \"saveDocumentsWithFiles\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          userId: userProfile.userId,\n          userRole: userProfile.userRole,\n          blobs: Blobs,\n          directory: dir,\n          variables: {\n            userAction: {value: \"saveDocument\"},\n            document: {value: JSON.stringify(docToSave)}\n          }\n        }\n        console.log(\"button signInstruction: \", commandJson)\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if(buttonName === \"SignApplicationSaveButton\"){\n      let docToSave = getFieldValuesSaveDocument()\n      let dir = getUUID()\n      docToSave.files_directory = dir\n      const commandJson = \n      {\n        commandType: \"saveDocumentsWithFiles\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        blobs: Blobs,\n        directory: dir,\n        variables: {\n          userAction: {value: \"saveDocument\"},\n          document: {value: docToSave}\n        }\n      }\n      console.log(\"button SignApplicationSaveButton: \", commandJson)\n      sign(commandJson)\n    }\n    else if(buttonName === \"createSecurity\"){\n      let updateApplication = selectedDoc\n      updateApplication[\"status\"] = 2\n      let newSelectedDoc = {\n        security_type: selectedDoc.security_type,\n        is_gov_security: selectedDoc.is_gov_security,\n        code: selectedDoc.code,\n        isin: selectedDoc.isin,\n        nominal: selectedDoc.nominal,\n        currency: selectedDoc.currency,\n        quantity: selectedDoc.securities_quantity_int,\n        reg_date: selectedDoc.securities_placement_begin_date,\n        end_date: selectedDoc.securities_placement_end_date\n      }\n      let commandJson = \n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {value: \"createSecurity\"},\n          updateApplication: {value: JSON.stringify(updateApplication)},\n          selectedDoc: {value: JSON.stringify(newSelectedDoc)}\n        }\n      }\n      console.log(\"createSecurity:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if(buttonName === \"updateDocList\"){\n      const commandJson = \n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {value: \"updateDocList\"},\n        }\n      }\n      console.log(\"button updateDocList: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"back\"){\n      let commandJson = \n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {value: \"back\"},\n        }\n      }\n      console.log(\"button back:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if(buttonName === \"cancel\"){\n      const commandJson = \n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        userRole: userProfile.userRole,\n        variables: {\n          authorization: {value: \"token\"},\n          userAction: {value: \"cancel\"},\n        }\n      }\n      console.log(\"button cancel: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else{\n      console.log(\"UNKNOWN Button \", buttonName)\n    }\n  }\n\n // Create grid form components\n function getGridFormItems(dataItem, contentItem){\n  let value = dataItem[contentItem.name]\n  let name = contentItem.name\n  let type = contentItem.type\n  if(type === \"Enum\"){\n    if(value === null || value === \"\" || value === undefined){\n      return(<td align=\"center\" style={{color: \"black\", fontSize: 12}}>-</td>)\n    }\n    else{\n      for(let i=0; i<gridFormEnumData.length; i++){\n        if(gridFormEnumData[i] !== null){\n          if(name === gridFormEnumData[i].name){\n            for(let l=0; l<gridFormEnumData[i].data.length; l++){\n              if(gridFormEnumData[i].data[l].id === parseInt(value)){\n                return gridFormEnumData[i].data[l].label\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  else if(type === \"Bool\"){\n    // console.log(\"ITEM\", name, value, type)\n    return(\n      <Checkbox\n        style={{maxWidth: 20, height: 15, color: value === false ? \"red\" : \"green\"}}\n        checked = {(value === false || value === null || value === undefined) ? false : true}\n      />\n    )\n  }\n  else if(type === \"DateTime\"){\n    if(value === null || value === \"\" || value === undefined){\n      return(<td align=\"center\" style={{color: \"black\", fontSize: 12}}>-</td>)\n    }\n    else{\n      // console.log(\"ITEM\", dataItem, value)\n      let Date = value.substring(0, 10)\n      let Time = value.substring(11, 16)\n      return Date + \" \" + Time\n    }\n  }\n  else if(type === \"Text\"){\n    // console.log(\"ITEM\", name, value, type)\n    if(name === \"instructionStatus\"){\n      let status = \"-\"\n      if(dataItem[\"filled\"] === true){\n        status = \"Введено\"\n      }\n      if(dataItem[\"onExecution\"] === true){\n        status = \"Введено -> На исполнении\"\n      }\n      if(dataItem[\"executed\"] === true){\n        status = \"На исполнении -> Исполнено\"\n      }\n      if(dataItem[\"canceled\"] === true){\n        status = \"На исполнении -> Отменено\"\n      }\n      return status\n    }\n    else{\n      if(value === null || value === \"\" || value === undefined){\n        return(<td align=\"center\" style={{color: \"black\", fontSize: 12}}>-</td>)\n      }\n      else{\n        return(<td>{value}</td>)\n      }\n    }\n  }\n  else{\n    if(value === null || value === \"\" || value === undefined){\n      return(<td align=\"center\" style={{color: \"black\", fontSize: 12}}>-</td>)\n    }\n    else{\n      return(<td>{value}</td>)\n    }\n  }\n}\n  // attached documents\n  function handleAttachFile(e){\n    let selectedFiles = e.target.files\n    console.log(\"A DOCS\", selectedFiles)\n    if(selectedFiles && selectedFiles[0]){\n      for(let i=0; i<selectedFiles.length; i++){\n        if(selectedFiles[i].type === \"application/pdf\" ||\n          selectedFiles[i].type === \"application/msword\" ||\n          selectedFiles[i].type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" ||\n          selectedFiles[i].type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"){\n          attachedDocs.push(selectedFiles[i])\n          setAttachedDocs(attachedDocs)\n          setUpdateState(getUUID())\n          // console.log(\"A DOCS\", attachedDocs)\n        }\n        else{\n          let reader = new FileReader()\n          reader.onload = async function(e){\n            // push new images to list and show in UI\n            let image = {item: <img name={selectedFiles[i].name} height=\"150\" width=\"auto\" src={e.target.result} onClick={()=> attachedImgClick(selectedFiles[i].name)}/>}\n            attachedImgs.push(image)\n            setAttachedImgs(attachedImgs)\n            setUpdateState(getUUID())\n            // console.log(\"IMGLIST\", attachedImgs)\n          }\n          reader.readAsDataURL(selectedFiles[i])\n          attachedImgsFiles.push(selectedFiles[i])\n          // pushAttachedImage(selectedFiles[i])\n          setAttachedImgsFiles(attachedImgsFiles)\n          // console.log(\"A IMGS\", attachedImgsFiles)\n        }\n        pushNewBlob(selectedFiles[i])\n      }\n    }\n    \n  }\n  async function pushNewBlob(f){\n    var blobToBase64 = function(f, cb) {\n      let reader = new FileReader()\n      reader.onload = function(){\n        // converts blob to base64\n        var dataUrl = reader.result\n        var base64 = dataUrl.split(\",\")[1]\n        cb(base64)\n      }\n      reader.readAsDataURL(f)\n    }\n    blobToBase64(f,  async function(base64){\n      // encode blobs to send to socket\n      let newBlob = {\"name\": f.name, \"blob\": base64, \"size\": f.size, type: f.type}\n      Blobs.push(newBlob)\n      setBlobs(Blobs)\n      console.log(\"BLOBS\", Blobs)\n    })\n  }\n  async function attachedImgClick(name){\n    for(let l=0; l<attachedImgs.length; l++){\n      if(attachedImgs[l].item.props.name === name){\n        console.log(\"IMG\", attachedImgs[l])\n        setSelectedImg({\n          name: attachedImgs[l].item.props.name,\n          height: \"700\",\n          width: \"auto\",\n          src: attachedImgs[l].item.props.src\n        })\n      }\n    }\n    handleOpenModal()\n    let newId = getUUID()\n    setUpdateState(newId)\n  }\n  function attachedDocsList(){\n    console.log(\"A DOCS\", attachedDocs)\n    let selDocsList = []\n    for(let i=0; i<attachedDocs.length; i++){\n      selDocsList.push(\n      <Card style={{margin: 3, backgroundColor:\"#E2E2E2\", paddingLeft: 20, minWidth: \"500px\"}}>\n        <table>\n          <tr>\n            <td style={{color: \"#1B2CE8\", fontWeight: \"bold\", width: \"95%\"}}>\n               {attachedDocs[i].name + \" \"}{\"(\" + Math.round(attachedDocs[i].size/1000) + \")\" + \"КБ\"}\n            </td>\n          </tr>\n        </table>\n    </Card>)\n    \n    }\n    return(selDocsList)\n  }\n  function attachedImgsList(){\n    var imgs = []\n    for(let l=0; l<attachedImgs.length; l++){\n      imgs.push(\n        <TableBody>\n          <TableRow>\n            <TableCell>\n              {attachedImgs[l].item}\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      )\n    }\n    if(Object.keys(imgs).length !== 0){\n      return(\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"flex-start\">\n          {imgs}\n        </Grid>\n      ) \n    }\n  }\n  // Previosly saved documents\n  function convertBase64ToFile(dataurl, fileName){\n    var arr = dataurl.split(','),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n)\n    \n    while(n--){\n      u8arr[n] = bstr.charCodeAt(n)\n    }\n    let convFile = new File([u8arr], fileName, {type: mime})\n    handleAttachSavedFile(convFile)\n    console.log(\"CONV FILE\", convFile)\n  }\n  function handleAttachSavedFile(file){\n    console.log(\"FILE\", file)\n    if(file.type === \"application/pdf\" || file.type === \"application/msword\" ||\n      file.type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" ||\n      file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"){\n      savedDocs.push(file)\n      setSavedDocs(savedDocs)\n    }\n    else{\n      savedImagesFiles.push(file)\n      setSavedImagesFiles(savedImagesFiles)\n      pushSavedImage(file)\n    }\n    // setUpdateState(getUUID())\n  }\n  async function pushSavedImage(f){\n    let reader = new FileReader()\n    reader.onload = async function(e){\n      // push new images to list and show in UI\n      let image = {item: <img name={f.name} height=\"150\" width=\"auto\" src={e.target.result} onClick={()=> savedImgClick(f.name)}/>}\n      savedImgs.push(image)\n      // console.log(\"IMGLIST\", savedImgs)\n      setSavedImgs(savedImgs)\n      setUpdateState(getUUID())\n    }\n    reader.readAsDataURL(f)\n  }\n  async function savedImgClick(name){\n    for(let l=0; l<savedImgs.length; l++){\n      if(savedImgs[l].item.props.name === name){\n        console.log(\"IMG\", savedImgs[l])\n        setSelectedImg({\n          name: savedImgs[l].item.props.name,\n          height: \"700\",\n          width: \"auto\",\n          src: savedImgs[l].item.props.src\n        })\n      }\n    }\n    handleOpenModal()\n    let newId = getUUID()\n    setUpdateState(newId)\n  }\n  function savedDocsList(){\n    console.log(\"SAVEDOCS\", savedDocs)\n    let savedDocsList = []\n    for(let i=0; i<savedDocs.length; i++){\n      savedDocsList.push(\n      <Card style={{margin: 3, backgroundColor:\"#E2E2E2\", paddingLeft: 20, minWidth: \"500px\"}}>\n        <table>\n          <tr>\n            <td style={{color: \"#1B2CE8\", fontWeight: \"bold\", width: \"95%\"}}>\n               {savedDocs[i].name + \" \"}{\"(\" + Math.round(savedDocs[i].size/1000) + \")\" + \"КБ\"}\n            </td>\n            <td>\n              <IconButton\n                component=\"a\"\n                href={URL.createObjectURL(savedDocs[i])}\n                download={savedDocs[i].name}\n              >\n                <GetAppIcon style={{fontSize: \"medium\", color: \"black\"}}/>\n              </IconButton>\n            </td>\n          </tr>\n        </table>\n    </Card>)\n    // console.log(\"FILE\", savedDocs[i])\n    }\n    return(savedDocsList)\n  }\n  function savedImgsList(){\n    console.log(\"SAVEDIMGS\", savedImgs)\n    var imgs = []\n    for(let l=0; l<savedImgs.length; l++){\n      let blob = converFileToBlob(savedImgs[l].item.props.src)\n      imgs.push(\n        <TableBody>\n          <TableRow>\n            <TableCell>\n              {savedImgs[l].item}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"center\">\n              <IconButton \n                component=\"a\"\n                href={URL.createObjectURL(blob)}\n                download={savedImgs[l].item.props.name}\n              >\n                <GetAppIcon style={{fontSize: \"medium\", color: \"black\"}}/>\n              </IconButton>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      )\n    }\n    if(Object.keys(imgs).length !== 0){\n      return(\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"flex-start\">\n          {imgs}\n        </Grid>\n      ) \n    }\n  }\n  function converFileToBlob(src){\n    var byteString = atob(src.split(',')[1])\n    var ab = new ArrayBuffer(byteString.length)\n    var ia = new Uint8Array(ab)\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i)\n    }\n    return new Blob([ab], { type: 'image/jpeg' })\n  }\n  function checkToShowSection(section){\n    let showSection = false\n    for(let i=0; i<section.contents.length; i++){\n      if(section.contents[i].show === true){\n        showSection = true \n        break\n      }\n    }\n    return showSection\n  }\n  function checkSectionOnLastChild(i){\n    let lastSection = true\n    if(i === gridForm.sections.length-1){ // The last section\n      return true\n    }\n    else{\n      let nextS = i+1\n      console.log(\"IT\", i, gridForm.sections[nextS])\n      for(let s=nextS; s<gridForm.sections.length; s++){\n        for(let c=0; c<gridForm.sections[s].contents.length; c++){ // Check next section\n          if(gridForm.sections[s].contents[c].show === true){\n            lastSection = false\n            break\n          }\n        }\n      }\n    }\n    return lastSection\n  }\n  function onKeyPressModalEnterPin(event){\n    let code = event.charCode\n    if(code === 13){\n      buttonClick(\"SignApplicationSaveButton\", null)\n    }\n  }\n\n  function dynamicSort(property, sortOrder, type) {\n    if(type === \"DateTime\" || type === \"Bool\"){\n      sortOrder = sortOrder * -1\n    }\n    // console.log(\"SORT\", property, sortOrder, type)\n    if(type === \"DateTime\"){\n      return function(a, b){\n        if(a[property] !== null && b[property] !== null){\n          let dateA = new Date(a[property].substring(0, 19))\n          let timeInSecA =  dateA.getTime()/1000\n          // console.log(\"timeInSecA\", timeInSecA)\n          let dateB = new Date(b[property].substring(0, 19))\n          let timeInSecB =  dateB.getTime()/1000\n          // console.log(\"timeInSecB\", timeInSecB)\n          var result = (timeInSecA < timeInSecB) ? -1 : (timeInSecA > timeInSecB) ? 1 : 0\n          return result * sortOrder\n        }\n        else{\n          if(a[property] === null){\n            return -1 * sortOrder\n          }\n          return 1 * sortOrder\n        }\n      }\n    }\n    else if(type === \"Int\" || type === \"Text\" || type === \"Float\" || type === \"Bool\"){\n      return function(a, b){\n        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0\n        return result * sortOrder\n      }\n    }\n    else if(type === \"Enum\"){\n      return function(a, b){\n        if(a[property] === null){\n          return 1 * sortOrder\n        }\n        else{\n          let labelA = getEnumLabel(property, a[property])\n          // console.log(\"A\", property, a[property], labelA)\n          let labelB = getEnumLabel(property, b[property])\n          // console.log(\"labelB\", labelB, property, b)\n          var result = (labelA < labelB) ? -1 : (labelA > labelB) ? 1 : 0\n          return result * sortOrder\n        }\n        \n      }\n    }\n  }\n  function sortDataByColumn(name, type){\n    let sortOrder = 1\n    if(sortedColumn === name){\n      sortOrder = sortedColumnOrder * -1\n    }\n    setSortedColumnOrder(sortOrder)\n    setSortedColumn(name)\n    let sortedDocList = filteredDocList.sort(dynamicSort(name, sortOrder, type))\n    // let fetchFrom = (page*size-1)-size\n    // let fetchTo = page*size-1\n    setPage(1)\n    let fetchFrom = 0\n    let fetchTo = size-1\n    setFilteredDocList(sortedDocList)\n    fetchBySize(fetchFrom, fetchTo, sortedDocList)\n  }\n  function getEnumLabel(name, id){\n    for(let i=0; i<enumData.length; i++){\n      if(enumData[i].name === name){\n        for(let d=0; d<enumData[i].data.length; d++){\n          if(enumData[i].data[d].id === id){\n            return enumData[i].data[d].label\n          }\n        }\n      }\n    }\n  }\n  function getForm(){\n    return(\n      <Grid container direction=\"row\" justify=\"flex-start\" spacing={0}>\n        <Grid item xs={isSearchForm === true ? 12 : 8}>\n          <Paper>\n            <Table style={{width:\"100%\", \"border-collapse\": \"collapse\"}}>\n              <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                {Form.sections.map(section => {\n                  return sectionBuilder(section)\n                })}\n              </Grid>\n            </Table>  \n          </Paper>\n        </Grid>\n      </Grid>\n    )\n  }\n  // Create sections with labels and call bodyBuilder function\n  function sectionBuilder(section){\n    return (\n      <Table size=\"small\" key={keyGen(5)}>\n        <TableHead>\n          <TableRow style={{height: 30}}>\n            <TableCell \n              key={keyGen(5)} \n              style={{\n                color: \"black\", \n                fontSize: 14,\n                backgroundColor: sectionColor,\n                width: \"100%\"\n              }}>\n                {section.label}\n            </TableCell> \n          </TableRow>\n        </TableHead>\n        {bodyBuilder(section)}\n      </Table>\n    )\n  }\n  // Create body of each section and call contentBuilder function\n  function bodyBuilder(section){\n    return(\n      <Table size=\"small\">\n        <TableBody>\n          {section.contents.map(contentItem=> (\n            contentItem.show === true &&\n              <TableRow key = {keyGen(5)} style={{height: 30}}> \n                <TableCell\n                  key = {keyGen(5)}\n                  align=\"left\"\n                  style={{width: \"40%\"}}>\n                  {contentItem.label}\n                </TableCell>                           \n                <TableCell\n                  key = {keyGen(5)}\n                  align=\"left\"\n                  style={{width: \"60%\", height: 30}}\n                  >{contentBuilder(contentItem)}\n                </TableCell>\n              </TableRow>\n          ))} \n        </TableBody>\n      </Table>\n    )\n  }\n  // Creating components by it's type\n  function contentBuilder(contentItem){\n    if (contentItem.type === \"Text\"){\n      return (\n        <TextField\n          onKeyPress={onKeyPressText}\n          multiline={!isSearchForm}\n          onBlur = {handleChange}\n          name = {contentItem.name}\n          style={{width: \"100%\"}}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          defaultValue = {(fieldValue[contentItem.name]) ? fieldValue[contentItem.name]: \"\"}\n        />\n      )\n    }  \n    else if (contentItem.type === \"Enum\"){\n      let selectedOption = {\n        \"value\": \"\",\n        \"label\": \"Пусто\",\n        \"name\" : contentItem.name\n      }\n      if(fieldValue[contentItem.name] !== undefined){\n        for(let i=0; i<enumOptions[contentItem.name].length; i++){\n          if(parseInt(fieldValue[contentItem.name]) === enumOptions[contentItem.name][i].value){\n            selectedOption = enumOptions[contentItem.name][i]\n            break\n          }\n        }\n      }\n      if(selectedOptions.length !== 0){\n        for(let i=0; i<selectedOptions.length; i++){\n          if(contentItem.name === selectedOptions[i].name){\n            selectedOption = selectedOptions[i]\n          }\n        }\n      }\n      return (\n        <Select\n          name = {contentItem.name}\n          value = {selectedOption}\n          onChange={handleSelectChange}\n          options={enumOptions[contentItem.name]}\n          isDisabled ={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          menuPortalTarget={document.body}\n          styles={{ menuPortal: base => ({ ...base, zIndex: 9999 }) }}\n        />\n      )\n    }\n    else if(contentItem.type === \"Bool\"){\n      return(\n        <Checkbox\n          style={{maxWidth: 20, height: 15, color: (formType === \"view\" || contentItem.edit === false) ? \"grey\" : \"green\"}}\n          name = {contentItem.name}\n          onChange={handleCheckboxChange}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          checked = {(fieldValue[contentItem.name] === false || fieldValue[contentItem.name] === null || fieldValue[contentItem.name] === undefined) ? false : true}\n        />\n      )\n    }\n    else if(contentItem.type === \"Int\"){\n      return (\n        <TextField\n          onKeyPress={onKeyPressInt}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          style={{width: \"100%\"}}\n          defaultValue = {(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name]: \"\"}\n          // value = {(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name]: \"\"}\n          onBlur = {handleIntChange}\n          name = {contentItem.name}\n          InputProps={{inputComponent: IntegerFormat}}\n        />\n      )\n    }\n    else if(contentItem.type === \"Float\"){\n      console.log(\"FLOAT VAL\", fieldValue[contentItem.name])\n      return(\n        <TextField\n          onKeyPress={onKeyPressFloat}\n          name = {contentItem.name}\n          // defaultValue = {(fieldValue[contentItem.name]) ? fieldValue[contentItem.name]: \"\"}\n          onBlur = {handleFloatChange}\n          value = {fieldValue[contentItem.name]}\n          style={{width: \"100%\"}}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputProps={{inputComponent: FloatFormat}}\n        />\n      )\n    }\n    else if (contentItem.type === \"DateTime\"){\n      return (\n        <TextField\n          onKeyPress={onKeyPressDateTime}\n          type=\"date\"\n          name = {contentItem.name}\n          onBlur = {handleDateTimeChange}\n          style={{width: \"100%\"}}\n          defaultValue = {(fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null) ? props.parseDate(fieldValue[contentItem.name]): \"\"}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputLabelProps={{\n            shrink: true,\n          }}\n        />\n      )\n    }\n    else if (contentItem.type === \"FullDateTime\"){\n      return (\n        <TextField\n          name = {contentItem.name}\n          onBlur = {handleDateTimeChange}\n          style={{width: \"100%\"}}\n          value={(fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null) ? props.parseFullDateTime(fieldValue[contentItem.name]):\"\"}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputLabelProps={{\n            shrink: true\n          }}\n        />\n      )\n    }\n  }\n  // Key press handlers for some fields\n  function onKeyPressText(event){\n    let code = event.charCode\n    if(code === 13){\n      for(let i=0; i<buttons.length; i++){\n        if(buttons[i].name === \"findDocument\"){\n          // console.log(\"CODE\", code)\n          handleChange(event)\n          buttonClick(\"findDocument\", null)\n        }\n      }\n    }\n  }\n  function onKeyPressDateTime(event){\n    let code = event.charCode\n    if(code === 13){\n      for(let i=0; i<buttons.length; i++){\n        if(buttons[i].name === \"findDocument\"){\n          // console.log(\"CODE\", code)\n          handleDateTimeChange(event)\n          buttonClick(\"findDocument\", null)\n        }\n      }\n    }\n  }\n  function onKeyPressInt(event){\n    let code = event.charCode\n    if(code === 13){\n      for(let i=0; i<buttons.length; i++){\n        if(buttons[i].name === \"findDocument\"){\n          // console.log(\"CODE\", code)\n          let stringNum = event.target.value.toString().replace(/ /g,'')\n          let int = parseInt(stringNum)\n          fieldValue[event.target.name] = int\n          setFieldValue(fieldValue)\n          filterDocList(0, size-1, initialDocList, fieldValue)\n        }\n      }\n    }\n  }\n  function onKeyPressFloat(event){\n    let code = event.charCode\n    if(code === 13){\n      for(let i=0; i<buttons.length; i++){\n        if(buttons[i].name === \"findDocument\"){\n          let stringNum = event.target.value.toString().replace(/ /g,'')\n          let float = parseFloat(stringNum)\n          fieldValue[event.target.name] = float\n          setFieldValue(fieldValue)\n          filterDocList(0, size-1, initialDocList, fieldValue)\n        }\n      }\n    }\n  }\n\n  function calculateColSpan(contents){\n    let num = 0\n    for(let i=0; i<contents.length; i++){\n      if(contents[i].show === true){\n        num += 1\n      }\n    }\n    return num\n  }\n  const handleContextMenu = (event) => {\n    event.preventDefault()\n    console.log(\"CONT MENU\")\n    setAnchorEl(event.currentTarget)\n  }\n  const handleCloseMenu = () => {\n    setAnchorEl(null)\n    // console.log(\"CLOSE\", fieldValue)\n    for(let s=0; s<gridForm.sections.length; s++){\n      for(let c=0; c<gridForm.sections[s].contents.length; c++){\n        gridForm.sections[s].contents[c].show = gridFieldValue[gridForm.sections[s].contents[c].name]\n      }\n    }\n    console.log(\"nForm\", gridForm)\n    setGridForm(gridForm)\n    setUpdateState(getUUID())\n  }\n  function createMenuItems(){\n    let columns = []\n    columns.push(  \n      <tr>\n        <td\n          style={{paddingLeft: 5, cursor: \"pointer\"}}\n          name={\"selectAll\"}\n          onClick={()=>handleTableCheckboxChange(\"selectAll\")}\n        >\n          Выбрать все\n        </td>\n        <td>\n          <Checkbox\n            style={{maxWidth: 20, height: 15, color: \"green\"}}\n            name={\"selectAll\"}\n            onChange={handleGridCheckboxChange}\n            checked={(gridFieldValue[\"selectAll\"] === false || gridFieldValue[\"selectAll\"] === null || gridFieldValue[\"selectAll\"] === undefined) ? false : true}\n          />\n        </td>\n      </tr>\n    )\n    for(let s=0; s<gridForm.sections.length; s++){\n      for(let c=0; c<gridForm.sections[s].contents.length; c++){\n        let name = gridForm.sections[s].contents[c].name\n        columns.push(\n          <tr>\n            <td\n              style={{paddingLeft: 5, cursor: \"pointer\", background: gridFieldValue[name] === true ? \"#E2E2E2\" : \"white\"}}\n              name={name}\n              onClick={()=>handleTableCheckboxChange(name)}\n            >\n              {gridForm.sections[s].contents[c].label}\n            </td>\n            <td>\n            <Checkbox\n              style={{maxWidth: 20, height: 15, color: \"green\"}}\n              name={name}\n              onChange={handleGridCheckboxChange}\n              checked={(gridFieldValue[name] === false || gridFieldValue[name] === null || gridFieldValue[name] === undefined) ? false : true}\n            />\n            </td>\n          </tr>\n        )\n      }\n    }\n    return columns\n  }\n  function downloadExcel(){\n    tableToExcel.convert(document.getElementById(gridTableId))\n  }\n  const handleGridCheckboxChange = (event) => {\n    // console.log(\"CHBX\", event.target.name, event.target.checked)\n    if(event.target.name === \"selectAll\"){\n      let newFields = {[event.target.name]: event.target.checked}\n      for(let key in gridFieldValue){\n        newFields[key] = !gridFieldValue[event.target.name]\n      }\n      // console.log(\"selectAll\", newFields)\n      setGridFieldValue(newFields)\n    }\n    else{\n      setGridFieldValue({ ...gridFieldValue, [event.target.name]: event.target.checked })\n    }\n  }\n  const handleTableCheckboxChange = (name) => {\n    // console.log(\"TD CHBX\", name)\n    if(name === \"selectAll\"){\n      let newFields = {...gridFieldValue}\n      for(let key in newFields){\n        newFields[key] = !gridFieldValue[name]\n      }\n      setGridFieldValue(newFields)\n    }\n    else{\n      setGridFieldValue({ ...gridFieldValue, [name]: !gridFieldValue[name] })\n    }\n  }\n  if(updateState !== null){\n    try{\n      return(\n        <Grid>\n          {isSearchForm !== null &&\n            isSearchForm === true \n            ?\n            <Grid container direction=\"row\" justify=\"flex-start\" spacing={1}>\n              <Grid item xs={8}>\n                <Accordion expanded={accordionExpanded} onChange={() => handleExpandAccordion()}>\n                  <AccordionSummary\n                    expandIcon={<ExpandMoreIcon/>}\n                  >\n                    <Typography>{Form.label}</Typography>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    {getForm()}\n                  </AccordionDetails>\n                </Accordion>\n              </Grid>\n            </Grid>\n            :\n            getForm()\n          }\n          <Grid container direction=\"row\" justify=\"flex-start\" spacing={0}>\n            {buttons.map((button, index) => (\n              <Button\n                name={button.name}\n                variant=\"outlined\"\n                onClick = {() => buttonClick(button.name, null)}\n                style={{\n                  margin: 3,\n                  color: button.fontColor,\n                  backgroundColor: button.backgroundColor,\n                  height: 32,\n                  fontSize: 12\n                }}\n              >{button.label}\n              </Button>\n            ))}\n          </Grid>\n          {isSearchForm === true &&\n            <ReplayIcon style={{paddingTop: 3}} onClick={()=> buttonClick(\"updateDocList\")}/>\n          }\n          {showAttachedDocuments === true && \n            <Paper>\n              <Grid item>\n                <Grid container direction=\"row\">         \n                  <div className={classes.importFile}>\n                    <input\n                      accept=\"image/*, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n                      className={classes.inputFile}\n                      id={buttonFilesWordPdfImgId}\n                      multiple\n                      type=\"file\"\n                      onChange={handleAttachFile}\n                    />\n                    <label htmlFor={buttonFilesWordPdfImgId}>\n                      <Button\n                        component=\"span\"\n                        key={keyGen(5)}\n                        variant=\"outlined\"\n                        style={{\n                          margin: 3,\n                          color: \"white\",\n                          backgroundColor: \"#BB7100\",\n                          borderColor: \"#161C87\",\n                          height: 32,\n                          fontSize: 12\n                        }}\n                        endIcon={<AttachFileIcon/>}\n                      >Прикрепить файлы\n                      </Button>\n                    </label>\n                  </div>\n                </Grid>\n              </Grid>\n              <Grid container spacing={2} justify=\"flex-start\" alignItems=\"flex-start\" className={classes.root}>\n                <Grid item xs={\"auto\"}>\n                  <Grid container direction=\"column\" spacing={1}>\n                    <div style={{paddingLeft: 10}}>Прикрепленные документы</div>\n                    {attachedDocsList()}\n                    {attachedImgsList()}\n                  </Grid>\n                </Grid>\n              </Grid>\n          {showSavedDocuments === true &&\n            <Grid container spacing={2} justify=\"flex-start\" alignItems=\"flex-start\" className={classes.root}>\n              <Grid item xs={\"auto\"}>\n                <Grid container direction=\"column\" spacing={1}>\n                  <div style={{paddingLeft: 10}}>Сохраненные документы</div>\n                  {savedDocsList()}\n                  {savedImgsList()}\n                </Grid>\n              </Grid>\n            </Grid>\n          }\n            </Paper>\n          }\n          {docList !== null &&\n            <Grid container direction=\"row\" justify=\"flex-start\" spacing={0}>\n              <Grid item sm={\"auto\"}>\n                <Paper>\n                  <div style={{height: \"500px\", overflow: \"auto\"}}>\n                    <table size=\"small\" class=\"main-table-style\" id={gridTableId}>\n                      <thead class=\"thead-style\" style={{position: \"sticky\", top: 0}}>\n                        {/* 1st Row Sections Labels */}\n                        <tr>\n                          <td class=\"td-head-first-child\" onContextMenu={(ev)=> handleContextMenu(ev)}></td>\n                          {gridForm.sections.map((section, index) => {\n                            let showSection = checkToShowSection(section)\n                            if(showSection === true){\n                              let lastSection = checkSectionOnLastChild(index)\n                              return (\n                                <td \n                                  class={lastSection === true ? \"td-head-last-child\" : \"td-head-style\"}\n                                  colSpan={calculateColSpan(section.contents)}\n                                  onContextMenu={(ev)=> handleContextMenu(ev)}\n                                >{section.label}</td>\n                              )\n                            }\n                          })}\n                        </tr>\n                        {/* 2nd Row Sections Contents labels */}\n                        <tr>\n                          <td \n                            class=\"td-head-style-2row\"\n                            rowSpan=\"2\" \n                            style={{\"minWidth\": \"65px\"}}\n                            onContextMenu={(ev)=> handleContextMenu(ev)}\n                          >\n                            Действие\n                          </td>\n                          {gridForm.sections.map(section =>\n                            section.contents.map(contentItem => {\n                              if(contentItem.show === true){\n                                return (\n                                  <td \n                                    class=\"td-head-style-2row\"\n                                    rowSpan=\"2\"\n                                    onClick={()=> sortDataByColumn(contentItem.name, contentItem.type)}\n                                    onContextMenu={(ev)=> handleContextMenu(ev)}\n                                  >\n                                    {contentItem.label}\n                                    {sortedColumn === contentItem.name ? sortedColumnOrder === 1 ? <ArrowDropDownIcon style={{marginBottom: -8}}/> : <ArrowDropUpIcon style={{marginBottom: -8}}/> : \"\"}\n                                  </td>\n                                )\n                              }\n                            })\n                          )}\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {Object.keys(docList).length !== 0 &&\n                          docList.map(dataItem => (\n                            <tr key={keyGen(5)} style={{\"height\": 30}}>\n                              <td class=\"td-style\" style={{\"maxWidth\": 34}}>\n                                {gridFormButtons !== \"null\" &&\n                                  gridFormButtons.map(button => \n                                  <Button\n                                    key={button.name}\n                                    name={button.name}\n                                    variant=\"outlined\"\n                                    // id={dataItem.id}\n                                    value={button.name}                               \n                                    onClick = {() => buttonClick(button.name, dataItem)}\n                                    style={{\n                                      margin: 1,\n                                      height: 24,\n                                      fontSize: 10,\n                                      maxWidth: 32,\n                                      backgroundColor: button.backgroundColor,\n                                      borderColor: \"darkgreen\",\n                                      color: \"darkgreen\"\n                                    }}\n                                  >{button.label}\n                                  </Button>\n                                )}\n                              </td>\n                              {gridForm.sections.map(section => (\n                                section.contents.map(contentItem => {\n                                  if(contentItem.show === true){\n                                    return(\n                                      <td class=\"td-body-style\">\n                                        {getGridFormItems(dataItem, contentItem)}\n                                      </td>\n                                    )\n                                  }\n                                })\n                              ))}\n                            </tr>\n                          )\n                        )}                    \n                      </tbody>\n                    </table> \n                  </div>\n                  <tfoot>\n                    <tr>\n                      <td style={{paddingLeft: \"3px\"}}>\n                        <Button\n                          variant=\"outlined\"\n                          style={{background: \"#047535\", color: \"white\", height: 28}}\n                          onClick={()=> downloadExcel()}\n                          >В EXCEL\n                        </Button>\n                      </td>\n                      <td style={{paddingLeft: \"20px\"}}>\n                        <div style={{minWidth: 90, color: \"black\"}}>Кол-во записей</div>\n                      </td>                    \n                      <td style={{paddingLeft: \"3px\"}}>\n                        <FormControl\n                          variant=\"outlined\"\n                          style={{minWidth: 30}}\n                        >\n                          <GridSelect \n                            onChange={handleChangeRowsPerPage}\n                            style={{height: 25, color: \"black\"}}\n                            value = {size}\n                            > \n                            <MenuItem value = {10}>10</MenuItem>\n                            <MenuItem value = {20}>20</MenuItem>\n                            <MenuItem value = {50}>50</MenuItem>\n                            <MenuItem value = {100}>100</MenuItem>\n                            <MenuItem value = {200}>200</MenuItem>\n                            <MenuItem value = {500}>500</MenuItem>\n                          </GridSelect>\n                        </FormControl>\n                      </td>\n                      \n                      <td>\n                        <Tooltip title=\"На первую страницу\">\n                          <IconButton onClick={() => KeyboardArrowFirstClick()}>\n                            <FirstPageIcon style={{fontSize: \"large\", color: \"black\"}}/>\n                          </IconButton>\n                        </Tooltip>\n                      </td>\n                      <td>\n                        <Tooltip title=\"На предыдущюю страницу\">\n                          <IconButton onClick={() => KeyboardArrowLeftClick(page)}>\n                            <ArrowBackIosIcon style={{fontSize: \"medium\", color: \"black\"}}/>\n                          </IconButton>\n                        </Tooltip>\n                      </td>\n                      <td style={{color: \"black\", fontSize: 16}}>\n                        <input style={{maxWidth: 25}} value={page} onChange={handlePageChange}></input>\n                      </td>\n                      <td style={{paddingLeft: \"3px\"}}>\n                        <Tooltip title=\"Перейти на указанную страницу\">                              \n                            <Button\n                              onClick={()=> GoToPage()}\n                              variant=\"outlined\"\n                              style={{\n                                height: 22,\n                                backgroundColor: \"#D1D6D6\",\n                                fontSize: 12\n                              }}\n                            >перейти\n                            </Button>\n                        </Tooltip>\n                      </td>\n                      <td>\n                        <Tooltip title=\"На следующюю страницу\">\n                          <IconButton onClick={() => KeyboardArrowRightClick(page)}>\n                            <ArrowForwardIosIcon style={{fontSize: \"medium\", color: \"black\"}}/>\n                          </IconButton>\n                        </Tooltip>\n                      </td>\n                      <td class=\"pagination-rows-amount-style\">Стр. {page} из {getPageAmount()} Общее кол-во {filteredDocList.length}</td>                 \n                    </tr>\n                    \n                  </tfoot>\n                  <Menu\n                    anchorEl={anchorEl}\n                    open={openMenu}\n                    onClose={handleCloseMenu}\n                    MenuListProps={{\n                      'aria-labelledby': 'basic-button',\n                    }}\n                    style={{paddingLeft: \"100px\"}}\n                  >\n                    <table>\n                      {createMenuItems()}\n                    </table>\n                  </Menu>             \n                </Paper>\n              </Grid>\n            </Grid>\n          }\n          <Modal\n            className={classes.modal}\n            open={openModal}\n            onClose={handleCloseModal}\n          >\n            <div className={classes.imagePaper}>\n              <img name={selectedImg.name} height={600} width=\"auto\" src={selectedImg.src}/>\n            </div>\n          </Modal>\n          <Snackbar\n            open={showSnackBar}\n            onClose={()=> handleCloseSnackBar()}\n            autoHideDuration={1200}\n            message={snackBarMessage}\n          />\n          <Modal\n            open={showModalEnterPin}\n            onClose={handleCloseModalEnterPin}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n          >\n            <div style={modalStyle} className={classes.modalRutoken}>\n              <h3 id=\"simple-modal-title\">Ведите ПИН код Рутокена</h3>\n              <FormControl variant=\"outlined\" style={{width: \"100%\"}} error={wrongPin}>\n                <InputLabel htmlFor=\"outlined-adornment-password\">PIN</InputLabel>\n                <OutlinedInput\n                  type={showPin ? 'text' : 'password'}\n                  defaultValue={rutokenPin}\n                  onChange={handlePinChange}\n                  onKeyPress={onKeyPressModalEnterPin}\n                  autoFocus\n                  endAdornment={\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        aria-label=\"toggle password visibility\"\n                        onClick={handleClickShowPin}\n                        edge=\"end\"\n                      >\n                        {showPin ? <Visibility /> : <VisibilityOff />}\n                      </IconButton>\n                    </InputAdornment>\n                  }\n                  labelWidth={25}\n                />\n              </FormControl>\n              {wrongPin === true && <p color=\"red\">Не верный PIN</p>}\n              <Button\n                variant=\"contained\"                      \n                onClick={()=> buttonClick(\"SignApplicationSaveButton\")}\n                style={{\n                  margin: 3,\n                  height: 32,\n                  fontSize: 12,\n                  color: \"white\",\n                  backgroundColor: \"#2862F4\"\n                }}\n              >Ок\n              </Button>\n              <Button\n                  variant=\"contained\"                         \n                  onClick={handleCloseModalEnterPin}\n                  style={{\n                    margin: 3,\n                    height: 32,\n                    fontSize: 12,\n                    color: \"white\",\n                    backgroundColor: \"#E73639\"\n                  }}\n                >Отмена\n              </Button>\n            </div>\n          </Modal>\n          \n        </Grid>\n      )\n    }\n    catch(er){\n      console.log(\"ERROR\", er)\n      return <LinearProgress/>\n    }\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}