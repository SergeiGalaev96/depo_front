{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\depo\\\\src\\\\components\\\\CorporativeActions\\\\CorporativeActions.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card'; // Form components\n\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\";\nimport FormControl from '@material-ui/core/FormControl';\nimport MaterialSelect from '@material-ui/core/Select';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Menu from '@material-ui/core/Menu';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem'; // Icons\n\nimport SendIcon from '@material-ui/icons/Send';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'; // Libraries\n\nimport swal from 'sweetalert'; // https://sweetalert.js.org/guides/\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport axios from 'axios';\nimport * as rutoken from \"rutoken\";\nvar plugin;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nvar moment = require('moment');\n\nvar generator = require('generate-password');\n\nfunction FloatFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          value: values.value\n        }\n      });\n    },\n    decimalSeparator: \".\",\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }));\n}\n\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction IntegerFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          name: values.name,\n          value: values.value\n        }\n      });\n    },\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }));\n}\n\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: 'auto'\n  },\n  paper: {\n    width: 400,\n    height: 300,\n    overflow: 'auto'\n  },\n  button: {\n    margin: theme.spacing(0.5, 0)\n  },\n  importFile: {\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  },\n  inputFile: {\n    display: 'none'\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalRutoken: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nfunction not(a, b) {\n  return a.filter(value => b.indexOf(value) === -1);\n}\n\nfunction intersection(a, b) {\n  return a.filter(value => b.indexOf(value) !== -1);\n}\n\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nexport default (props => {\n  // This.state\n  const classes = useStyles();\n  const [userProfile] = useState(props.userProfile);\n  const [session_id] = useState(props.userTask.session_id);\n  const [process_id] = useState(props.userTask.process_id);\n  const [taskID] = useState(props.userTask.taskID);\n  const [enumData] = useState(props.userTask.enumData);\n  const [enumOptions, setEnumOptions] = useState({});\n  const [fieldValue, setFieldValue] = useState({\n    subject: \"\",\n    body: \"\",\n    esDate: \"\",\n    esFullName: \"\",\n    esInn: \"\"\n  });\n  const [searchFieldValue, setSearchFieldValue] = useState(\"\");\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const [updateState, setUpdateState] = useState(false);\n  const [taskType] = useState(props.userTask.taskType);\n  const [docList, setDocList] = useState(null);\n  const [filteredDocList, setFilteredDocList] = useState(null);\n  const [initialDocList, setInitialDocList] = useState(null);\n  const [page, setPage] = useState(1);\n  const [size, setSize] = useState(10);\n  const [showSnackBar, setShowSnackBar] = useState(false);\n  const [snackBarMessage, setSnackBarMessage] = useState(false);\n  const [clickedMessagesType, setClickedMessagesType] = useState(\"inbox\");\n  const [checked, setChecked] = useState([]);\n  const [partners, setPartners] = useState([]);\n  const [selectedPartners, setSelectedPartners] = useState([]);\n  const leftChecked = intersection(checked, partners);\n  const rightChecked = intersection(checked, selectedPartners);\n  const [partnersSearchField, setPartnersSearchField] = useState(\"\");\n  const [selectedPartnersSearchField, setSelectedPartnersSearchField] = useState(\"\");\n  const [focusField, setFocusField] = useState(\"\");\n  const [files, setFiles] = useState([]);\n  const [Blobs, setBlobs] = useState([]);\n  const [corpActionsAttachFileButtonId, setCorpActionsAttachFileButtonId] = useState(null);\n  const [menuId, setMenuId] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [writeMessage, setWriteMessage] = useState(false);\n  const [messageType, setMessageType] = useState(1);\n  const [allMessagesSelected, setAllMessagesSelected] = useState(false);\n  const [selectedMessages, setSelectedMessages] = useState({});\n  const [selectedDoc, setSelectedDoc] = useState(null); // Saved Docs\n\n  const [savedImgs, setSavedImgs] = useState([]);\n  const [savedImagesFiles, setSavedImagesFiles] = useState([]);\n  const [savedDocs, setSavedDocs] = useState([]);\n  const [selectedImg, setSelectedImg] = useState({});\n  const [openModal, setOpenModal] = useState(false); // const [idFromUsers, setIdFromUsers] = useState(false)\n  // Rutoken\n\n  const [modalStyle] = useState(getModalStyle);\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false);\n  const [rutokenPin, setRutokenPin] = useState(\"\");\n  const [showPin, setShowPin] = useState(false);\n  const [wrongPin, setWrongPin] = useState(false); // Set data from props to state of component\n\n  useEffect(() => {\n    console.log(\"CORPACTS PROPS\", props);\n    setCorpActionsAttachFileButtonId(getUUID());\n    setMenuId(getUUID());\n\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      for (let i = 0; i < props.userTask.enumData.length; i++) {\n        if (props.userTask.enumData[i] !== null) {\n          if (props.userTask.enumData[i].name === \"partners\") {\n            let newPartners = [];\n\n            for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n              newPartners.push(props.userTask.enumData[i].data[d].id);\n            }\n\n            setPartners(newPartners);\n          } // else if (props.userTask.enumData[i].name === \"users\") {\n          //   for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n          //     if (props.userTask.enumData[i].data[d].user_id === props.userProfile.userId) {\n          //       setIdFromUsers(props.userTask.enumData[i].data[d].id)\n          //     }\n          //   }\n          // }\n\n        } else {\n          if (i === 0) {\n            setPartners([]);\n            props.callErrorToast(\"Ошибка сбора справочной информации Partners\");\n          } else {\n            props.callErrorToast(\"Ошибка сбора справочной информации Users\");\n          }\n        }\n      }\n    }\n\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList);\n        console.log(\"DOCL\", parsedData);\n        setInitialDocList(parsedData);\n        let filteredDocL = [];\n\n        for (let i = 0; i < parsedData.recipient.length; i++) {\n          if (parsedData.recipient[i].recipient_status === 1 || parsedData.recipient[i].recipient_status === 2) {\n            filteredDocL.push(parsedData.recipient[i]);\n          }\n        }\n\n        fetchBySize(0, 9, filteredDocL);\n        setFilteredDocList(filteredDocL);\n      } catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType);\n        setFilteredDocList([]);\n        setInitialDocList([]);\n        setDocList([]);\n      }\n    }\n\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc);\n      console.log(\"SDOC\", parsedSelectedDoc);\n      setSelectedDoc(parsedSelectedDoc);\n    }\n\n    if (props.userTask.savedDocs.length !== 0) {\n      for (let d = 0; d < props.userTask.savedDocs.length; d++) {\n        let extension = props.userTask.savedDocs[d].extension;\n\n        if (extension === \".png\") {\n          convertBase64ToFile(\"data:image/png;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".jpeg\" || extension === \".jpg\") {\n          convertBase64ToFile(\"data:image/jpeg;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".doc\") {\n          convertBase64ToFile(\"data:application/msword;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".docx\") {\n          convertBase64ToFile(\"data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".xlsx\") {\n          convertBase64ToFile(\"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        } else if (extension === \".pdf\") {\n          convertBase64ToFile(\"data:application/pdf;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName);\n        }\n      }\n    }\n\n    setUpdateState(getUUID());\n  }, []); // RuToken functions\n\n  function handlePinChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    setRutokenPin(event.target.value);\n    console.log(\"PIN\", event.target.value);\n  }\n\n  function handleClickShowPin() {\n    setShowPin(!showPin);\n  }\n\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false);\n  };\n\n  rutoken.ready // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n  .then(function () {\n    if (window.chrome || typeof InstallTrigger !== 'undefined') {\n      return rutoken.isExtensionInstalled();\n    } else {\n      return Promise.resolve(true);\n    }\n  }) // Проверка установки Рутокен Плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.isPluginInstalled();\n    } else {// alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n    }\n  }) // Загрузка плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.loadPlugin();\n    } else {// alert(\"Не удаётся найти Плагин\");\n    }\n  }) //Можно начинать работать с плагином\n  .then(function (result) {\n    if (!result) {\n      return; // alert(\"Не удаётся загрузить Плагин\")\n    } else {\n      plugin = result;\n      return Promise.resolve();\n    }\n  }); // catch errors while signing docs\n\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true);\n          break;\n\n        default:\n          alert(\"Неизвестная ошибка\");\n      }\n    }\n  } // Sign transfer order with rutoken\n\n\n  function sign(commandJson) {\n    try {\n      // Получение текста для подписи\n      if (plugin !== undefined) {\n        // Перебор подключенных Рутокенов\n        plugin.enumerateDevices().then(function (devices) {\n          if (devices.length > 0) {\n            return Promise.resolve(devices[0]);\n          } else {\n            alert(\"Рутокен не обнаружен\");\n          }\n        }) // Проверка залогиненности\n        .then(function (firstDevice) {\n          rutokenHandle = firstDevice;\n          return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n        }) // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n        .then(function (isLoggedIn) {\n          if (isLoggedIn) {\n            return Promise.resolve();\n          } else {\n            return plugin.login(rutokenHandle, rutokenPin);\n          }\n        }) // Перебор пользовательских сертификатов на токене\n        .then(function () {\n          return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n        }).then(function (certs) {\n          if (certs.length > 0) {\n            certHandle = certs[0];\n            return plugin.parseCertificate(rutokenHandle, certs[0]);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        }) // Подписание данных из текстового поля на первом найденом сертификате\n        .then(function (certs) {\n          certData = certs; // console.log(\"RUTDATA\", certData)\n\n          if (certHandle.length > 0) {\n            sendMails();\n            var options = {};\n            let inn = \"\";\n            let fullName = \"\";\n\n            for (let i = 0; i < certData.subject.length; i++) {\n              if (certData.subject[i].rdn === \"serialNumber\") {\n                inn = certData.subject[i].value;\n              }\n\n              if (certData.subject[i].rdn === \"commonName\") {\n                fullName = certData.subject[i].value;\n              }\n            }\n\n            let newMailBody = JSON.parse(commandJson.variables.mailBody.value);\n            newMailBody.mails.es_date = moment(new Date()).format();\n            newMailBody.mails.es_full_name = fullName;\n            newMailBody.mails.es_inn = inn;\n            let newCommandJson = commandJson;\n            newCommandJson.variables.mailBody.value = JSON.stringify(newMailBody);\n            props.setEsInn(inn);\n            props.setEsUserFullName(fullName);\n            props.setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1));\n            handleCloseModalEnterPin();\n            console.log(\"SIGNED CJ\", newCommandJson);\n            props.sendFieldValues(newCommandJson);\n            props.clearTabData(process_id);\n            return plugin.sign(rutokenHandle, certHandle, \"textToSign\", plugin.DATA_FORMAT_PLAIN, options);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        }) // Закрытие сессии\n        .then(function () {\n          plugin.logout(rutokenHandle);\n        }, handleError);\n      } else {\n        swAllert(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\");\n      }\n    } catch (er) {\n      console.log(\"Rutoken ERR\");\n    }\n  } // Documents attached to mail\n\n\n  function convertBase64ToFile(dataurl, fileName) {\n    var arr = dataurl.split(','),\n        mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]),\n        n = bstr.length,\n        u8arr = new Uint8Array(n);\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n\n    let convFile = new File([u8arr], fileName, {\n      type: mime\n    });\n    handleAttachSavedFile(convFile);\n    console.log(\"CONV FILE\", convFile);\n  }\n\n  function handleAttachSavedFile(file) {\n    // console.log(\"FILE\", file)\n    if (file.type === \"application/pdf\" || file.type === \"application/msword\" || file.type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" || file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\") {\n      savedDocs.push(file);\n      setSavedDocs(savedDocs);\n    } else {\n      savedImagesFiles.push(file);\n      setSavedImagesFiles(savedImagesFiles);\n      pushSavedImage(file);\n    } // setUpdateState(getUUID())\n\n  }\n\n  async function pushSavedImage(f) {\n    let reader = new FileReader();\n\n    reader.onload = async function (e) {\n      // push new images to list and show in UI\n      let image = {\n        item: /*#__PURE__*/React.createElement(\"img\", {\n          name: f.name,\n          height: \"150\",\n          width: \"auto\",\n          src: e.target.result,\n          onClick: () => savedImgClick(f.name),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 27\n          }\n        })\n      };\n      savedImgs.push(image); // console.log(\"IMGLIST\", savedImgs)\n\n      setSavedImgs(savedImgs);\n      setUpdateState(getUUID());\n    };\n\n    reader.readAsDataURL(f);\n  }\n\n  async function savedImgClick(name) {\n    for (let l = 0; l < savedImgs.length; l++) {\n      if (savedImgs[l].item.props.name === name) {\n        console.log(\"IMG\", savedImgs[l]);\n        setSelectedImg({\n          name: savedImgs[l].item.props.name,\n          height: \"700\",\n          width: \"auto\",\n          src: savedImgs[l].item.props.src\n        });\n      }\n    }\n\n    handleOpenModal();\n    let newId = getUUID();\n    setUpdateState(newId);\n  }\n\n  const handleOpenModal = () => {\n    setOpenModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setOpenModal(false);\n  };\n\n  const openMenuClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const closeMenuClick = () => {\n    setAnchorEl(null);\n  };\n\n  function handleChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value;\n    setFieldValue(fieldValue);\n    console.log(\"FIELDVALUE\", fieldValue);\n  } // random UUID generator\n\n\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\");\n\n    return uuidv1();\n  } // random numbers generator\n\n\n  function keyGen(length) {\n    var password = generator.generate({\n      length: length,\n      numbers: true\n    });\n    return password;\n  }\n\n  function swAllert(text, icon) {\n    return swal({\n      text: text,\n      icon: icon,\n      buttons: {\n        ok: \"Ок\"\n      }\n    });\n  }\n\n  function getEmail(id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === \"partners\") {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].email;\n          }\n        }\n      }\n    }\n  }\n\n  async function buttonClick(name, item) {\n    if (name === \"send\") {\n      if (selectedPartners.length === 0) {\n        swAllert(\"Выберите как минимум одного получателя!\", \"warning\");\n      } else {\n        sendMails(); // Get sender id by userId in users\n        // let senderId = null\n        // for (let e = 0; e < enumData.length; e++) {\n        //   if (enumData[e].name === \"users\") {\n        //     for (let d = 0; d < enumData[e].data.length; d++) {\n        //       if (enumData[e].data[d].user_id === userProfile.userId) {\n        //         senderId = enumData[e].data[d].id\n        //       }\n        //     }\n        //   }\n        // }\n        // Create Mail Body for local notifications\n\n        let files_dir = getUUID(); // let lostRecipients = []\n\n        let mailBody = {\n          mails: {\n            type: messageType,\n            subject: fieldValue.subject,\n            body: fieldValue.body,\n            files_directory: files_dir,\n            status: 3,\n            // sender: senderId,\n            sender: parseInt(userProfile.partner),\n            es_date: null,\n            es_full_name: null,\n            es_inn: null\n          },\n          mail_distributions: []\n        }; // Push recipient of local system mail\n\n        for (let s = 0; s < selectedPartners.length; s++) {\n          // let recipientId = getRecipientId(selectedPartners[s])\n          // if (recipientId !== null) {\n          let newDistribution = {\n            // sender: senderId,\n            sender: parseInt(userProfile.partner),\n            sender_status: 3,\n            recipient_status: 1,\n            // recipient: recipientId\n            recipient: selectedPartners[s]\n          };\n          mailBody.mail_distributions.push(newDistribution); // }\n\n          console.log(\"mailBody\", mailBody);\n        } // Files attached to mail\n\n\n        let blobs = [];\n\n        for (let f = 0; f < files.length; f++) {\n          for (let b = 0; b < Blobs.length; b++) {\n            if (files[f].name === Blobs[b].name) {\n              // console.log(\"MATCH\", files[f].name, Blobs[b])\n              blobs.push(Blobs[b]);\n            }\n          }\n        }\n\n        const commandJson = {\n          commandType: \"sendMails\",\n          process_id: process_id,\n          session_id: session_id,\n          taskID: taskID,\n          directory: files_dir,\n          blobs: blobs,\n          variables: {\n            userAction: {\n              value: \"sendMail\"\n            },\n            mailBody: {\n              value: JSON.stringify(mailBody)\n            }\n          }\n        }; // console.log(\"button sendMail: \", commandJson)\n\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (name === \"sendWithES\") {\n      if (selectedPartners.length === 0) {\n        swAllert(\"Выберите как минимум одного получателя!\", \"warning\");\n      } else {\n        // // Get sender id by userId in users\n        // let senderId = null\n        // for (let e = 0; e < enumData.length; e++) {\n        //   if (enumData[e].name === \"users\") {\n        //     for (let d = 0; d < enumData[e].data.length; d++) {\n        //       if (enumData[e].data[d].user_id === userProfile.userId) {\n        //         senderId = enumData[e].data[d].id\n        //       }\n        //     }\n        //   }\n        // }\n        // Create Mail Body for local notifications\n        let files_dir = getUUID(); // let lostRecipients = []\n\n        let mailBody = {\n          mails: {\n            type: messageType,\n            subject: fieldValue.subject,\n            body: fieldValue.body,\n            files_directory: files_dir,\n            status: 3,\n            // sender: senderId,\n            sender: parseInt(userProfile.partner),\n            es_date: moment(new Date()).format(),\n            es_full_name: props.esFullName,\n            es_inn: props.esInn\n          },\n          mail_distributions: []\n        };\n        console.log(\"mailBody\", mailBody); // Push recipient of local system mail\n\n        for (let s = 0; s < selectedPartners.length; s++) {\n          // let recipientId = getRecipientId(selectedPartners[s])\n          // if (recipientId !== null) {\n          let newDistribution = {\n            // sender: senderId,\n            sender: parseInt(userProfile.partner),\n            sender_status: 3,\n            recipient_status: 1,\n            // recipient: recipientId\n            recipient: selectedPartners[s]\n          };\n          mailBody.mail_distributions.push(newDistribution); // }\n        } // Files attached to mail\n\n\n        let blobs = [];\n\n        for (let f = 0; f < files.length; f++) {\n          for (let b = 0; b < Blobs.length; b++) {\n            if (files[f].name === Blobs[b].name) {\n              console.log(\"MATCH\", files[f].name, Blobs[b]);\n              blobs.push(Blobs[b]);\n            }\n          }\n        }\n\n        const commandJson = {\n          commandType: \"sendMails\",\n          process_id: process_id,\n          session_id: session_id,\n          taskID: taskID,\n          directory: files_dir,\n          blobs: blobs,\n          variables: {\n            userAction: {\n              value: \"sendMail\"\n            },\n            mailBody: {\n              value: JSON.stringify(mailBody)\n            }\n          }\n        };\n        console.log(\"button sendMail: \", commandJson);\n\n        if (props.esInn !== null) {\n          sendMails();\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        } else {\n          sign(commandJson);\n        }\n      }\n    } else if (name === \"showReport\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"showReport\"\n          },\n          reportName: {\n            value: \"Message_alert\"\n          },\n          reportVars: {\n            value: \"?id=\" + selectedDoc.mail_id\n          }\n        }\n      };\n      console.log(\"button showReport:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (name === \"back\") {\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"back\"\n          }\n        }\n      };\n      console.log(\"button back:\", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    }\n  }\n\n  async function sendMails() {\n    // Create FormData\n    let formData = new FormData();\n    formData.append(\"subject\", fieldValue[\"subject\"]);\n    formData.append(\"body\", fieldValue[\"body\"]);\n\n    for (let i = 0; i < files.length; i++) {\n      formData.append('attachments', files[i], files[i].name);\n    }\n\n    for (let p = 0; p < selectedPartners.length; p++) {\n      formData.append(\"toEmail\", getEmail(selectedPartners[p]));\n      await fetch(props.api + \"/Mail/SendMail\", {\n        mode: 'no-cors',\n        method: 'POST',\n        body: formData\n      }).then(response => {\n        console.log(\"RES SEND MAIL\", response);\n      }).catch(error => console.error(error));\n    }\n  }\n\n  function getRecipientId(partner) {\n    console.log(\"Partner ID\", partner);\n    let recipientId = null;\n\n    for (let e = 0; e < enumData.length; e++) {\n      if (enumData[e].name === \"users\") {\n        for (let d = 0; d < enumData[e].data.length; d++) {\n          let parsedAttr = JSON.parse(enumData[e].data[d].attributes);\n\n          if (partner === parseInt(parsedAttr[\"partner\"])) {\n            recipientId = enumData[e].data[d].id;\n          }\n        }\n      }\n    }\n\n    console.log(\"RES ID\", recipientId);\n    return recipientId;\n  } // Pagination functions\n\n\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1);\n      fetchBySize(0, size - 1, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1;\n      setPage(prevPage);\n      let fetchFrom = (prevPage - 1) * size; //10\n\n      let fetchTo = size * prevPage - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\");\n      setShowSnackBar(true);\n    } else {\n      setPage(page + 1);\n      let fetchFrom = size * page;\n      let fetchTo = (page + 1) * size - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    }\n  }\n\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value);\n    setPage(1);\n    fetchBySize(0, event.target.value - 1, filteredDocList);\n  }\n\n  function GoToPage() {\n    let fetchFrom = page * size - 1 - size;\n    let fetchTo = page * size - 1;\n    fetchBySize(fetchFrom, fetchTo, filteredDocList);\n  }\n\n  function handlePageChange(event) {\n    setPage(event.target.value);\n  }\n\n  function getPageAmount() {\n    let pagesFloat = filteredDocList.length / size;\n    let mathRoundOfPages = Math.round(pagesFloat);\n\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1;\n    } else {\n      return mathRoundOfPages;\n    }\n  }\n\n  function handleCloseSnackBar() {\n    setShowSnackBar(false);\n  } // get rows amount of filtered docs by size\n\n\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    let newDocList = [];\n\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i]);\n      }\n    }\n\n    setDocList(newDocList);\n    setUpdateState(getUUID());\n  } // Convert date to approptiate format\n\n\n  function beautifyDate(date) {\n    try {\n      var newDate = new Date(date); // \"2020-01-26\"\n\n      var dd = String(newDate.getDate()).padStart(2, '0');\n      var mm = String(newDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n      var yyyy = newDate.getFullYear();\n      let beautyDate = \"\";\n\n      if (parseInt(dd) < 10) {\n        let shortdd = dd.substring(1, 2);\n        dd = shortdd + \" \";\n      } else {\n        beautyDate += dd;\n      }\n\n      switch (mm) {\n        case \"01\":\n          {\n            mm = \"янв.\";\n            break;\n          }\n\n        case \"02\":\n          {\n            mm = \"февр.\";\n            break;\n          }\n\n        case \"03\":\n          {\n            mm = \"мар.\";\n            break;\n          }\n\n        case \"04\":\n          {\n            mm = \"апр.\";\n            break;\n          }\n\n        case \"05\":\n          {\n            mm = \"мая\";\n            break;\n          }\n\n        case \"06\":\n          {\n            mm = \"июня\";\n            break;\n          }\n\n        case \"07\":\n          {\n            mm = \"июля\";\n            break;\n          }\n\n        case \"08\":\n          {\n            mm = \"авг.\";\n            break;\n          }\n\n        case \"09\":\n          {\n            mm = \"сент.\";\n            break;\n          }\n\n        case \"10\":\n          {\n            mm = \"окт.\";\n            break;\n          }\n\n        case \"11\":\n          {\n            mm = \"ноя.\";\n            break;\n          }\n\n        case \"12\":\n          {\n            mm = \"дек.\";\n            break;\n          }\n\n        default:\n          {\n            break;\n          }\n      }\n\n      beautyDate += \" \" + mm + \" \" + yyyy.toString().substring(2, 4) + \"г.\"; // console.log(\"beautyDate\", beautyDate)\n\n      return beautyDate;\n    } catch (er) {\n      return \"NaN.NaN.NaN\";\n    }\n  } // multiple selector functions\n\n\n  const handleToggle = value => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n\n  const handleAllRight = () => {\n    if (partnersSearchField === \"\") {\n      setSelectedPartners(selectedPartners.concat(partners));\n      setPartners([]);\n    } else {\n      let filteredSelectedPartners = [];\n      let filteredPartners = [];\n\n      for (let p = 0; p < partners.length; p++) {\n        let searchField = partnersSearchField.toLowerCase();\n        let listItemLabel = getPartnerName(partners[p]).toLowerCase();\n        let includeSearch = listItemLabel.includes(searchField);\n\n        if (includeSearch === true) {\n          filteredSelectedPartners.push(partners[p]);\n        } else {\n          filteredPartners.push(partners[p]);\n        }\n      }\n\n      setSelectedPartners(filteredSelectedPartners.concat(selectedPartners));\n      setPartners(filteredPartners);\n    }\n  };\n\n  const handleCheckedRight = () => {\n    setSelectedPartners(selectedPartners.concat(leftChecked));\n    setPartners(not(partners, leftChecked));\n    setChecked(not(checked, leftChecked));\n  };\n\n  const handleCheckedLeft = () => {\n    setPartners(partners.concat(rightChecked));\n    setSelectedPartners(not(selectedPartners, rightChecked));\n    setChecked(not(checked, rightChecked));\n  };\n\n  const handleAllLeft = () => {\n    if (selectedPartnersSearchField === \"\") {\n      setPartners(partners.concat(selectedPartners));\n      setSelectedPartners([]);\n    } else {\n      let filteredPartners = [];\n      let filteredSelectedPartners = [];\n\n      for (let p = 0; p < selectedPartners.length; p++) {\n        let searchField = selectedPartnersSearchField.toLowerCase();\n        let listItemLabel = getPartnerName(selectedPartners[p]).toLowerCase();\n        let includeSearch = listItemLabel.includes(searchField);\n\n        if (includeSearch === true) {\n          filteredPartners.push(selectedPartners[p]);\n        } else {\n          filteredSelectedPartners.push(selectedPartners[p]);\n        }\n      }\n\n      setSelectedPartners(filteredSelectedPartners);\n      setPartners(filteredPartners.concat(partners));\n    }\n  };\n\n  const partnersList = items => /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1019,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    dense: true,\n    component: \"div\",\n    role: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1020,\n      columnNumber: 7\n    }\n  }, items.map(value => {\n    const labelId = `transfer-list-item-${value}-label`;\n\n    if (partnersSearchField === \"\") {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        key: value,\n        role: \"listitem\",\n        button: true,\n        onClick: handleToggle(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1025,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: checked.indexOf(value) !== -1,\n        tabIndex: -1,\n        disableRipple: true,\n        inputProps: {\n          'aria-labelledby': labelId\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ListItemText, {\n        id: labelId,\n        primary: getPartnerName(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 17\n        }\n      }));\n    } else {\n      let searchField = partnersSearchField.toLowerCase();\n      let listItemLabel = getPartnerName(value).toLowerCase();\n      let includeSearch = listItemLabel.includes(searchField);\n\n      if (includeSearch === true) {\n        return /*#__PURE__*/React.createElement(ListItem, {\n          key: value,\n          role: \"listitem\",\n          button: true,\n          onClick: handleToggle(value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1042,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          checked: checked.indexOf(value) !== -1,\n          tabIndex: -1,\n          disableRipple: true,\n          inputProps: {\n            'aria-labelledby': labelId\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(ListItemText, {\n          id: labelId,\n          primary: getPartnerName(value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1049,\n            columnNumber: 19\n          }\n        }));\n      }\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1056,\n      columnNumber: 9\n    }\n  })));\n\n  function partnersSearchFieldChange(event) {\n    setPartnersSearchField(event.target.value);\n    setFocusField(\"partnersSearhField\");\n  }\n\n  const selectedPartnersList = items => /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1065,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    dense: true,\n    component: \"div\",\n    role: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1066,\n      columnNumber: 7\n    }\n  }, items.map(value => {\n    const labelId = `transfer-list-item-${value}-label`;\n\n    if (selectedPartnersSearchField === \"\") {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        key: value,\n        role: \"listitem\",\n        button: true,\n        onClick: handleToggle(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: checked.indexOf(value) !== -1,\n        tabIndex: -1,\n        disableRipple: true,\n        inputProps: {\n          'aria-labelledby': labelId\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1072,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ListItemText, {\n        id: labelId,\n        primary: getPartnerName(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1078,\n          columnNumber: 17\n        }\n      }));\n    } else {\n      let searchField = selectedPartnersSearchField.toLowerCase();\n      let listItemLabel = getPartnerName(value).toLowerCase();\n      let includeSearch = listItemLabel.includes(searchField);\n\n      if (includeSearch === true) {\n        return /*#__PURE__*/React.createElement(ListItem, {\n          key: value,\n          role: \"listitem\",\n          button: true,\n          onClick: handleToggle(value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          checked: checked.indexOf(value) !== -1,\n          tabIndex: -1,\n          disableRipple: true,\n          inputProps: {\n            'aria-labelledby': labelId\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(ListItemText, {\n          id: labelId,\n          primary: getPartnerName(value),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1095,\n            columnNumber: 19\n          }\n        }));\n      }\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1102,\n      columnNumber: 9\n    }\n  })));\n\n  function selectedPartnersSearchFieldChange(event) {\n    setSelectedPartnersSearchField(event.target.value);\n    setFocusField(\"selectedPartnersSearhField\");\n  }\n\n  function getPartnerName(id) {\n    for (let i = 0; i < props.userTask.enumData.length; i++) {\n      if (props.userTask.enumData[i].name === \"partners\") {\n        for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n          if (props.userTask.enumData[i].data[d].id === id) {\n            return props.userTask.enumData[i].data[d].label;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  const writeMessgeClick = type => {\n    setMessageType(type);\n    setAnchorEl(null);\n    setWriteMessage(true);\n  };\n\n  const handleSelectAllMessagesChange = event => {\n    setAllMessagesSelected(event.target.checked);\n\n    for (let i = 0; i < filteredDocList.length; i++) {\n      selectedMessages[filteredDocList[i].mail_id] = event.target.checked;\n    }\n\n    setSelectedMessages(selectedMessages);\n  };\n\n  const handleSelectMessage = event => {\n    console.log(\"Check MESS\", event.target.id, \"CH \", event.target.checked);\n    setSelectedMessages({ ...selectedMessages,\n      [event.target.id]: event.target.checked\n    });\n  }; // file attachment functions\n\n\n  function handleAttachFile(e) {\n    let selectedFiles = e.target.files;\n\n    if (selectedFiles && selectedFiles[0]) {\n      for (let i = 0; i < selectedFiles.length; i++) {\n        files.push(selectedFiles[i]);\n        pushNewBlob(selectedFiles[i]);\n      }\n\n      setFiles(files);\n    }\n\n    setUpdateState(getUUID());\n    console.log(\"FILES\", files);\n  } // attached documents\n\n\n  async function pushNewBlob(f) {\n    // console.log(\"WRITING BLOBS\")\n    let docUrl = URL.createObjectURL(f);\n    fetch(docUrl).then(res => res.blob()).then(blob => {\n      // blob.name = f.name\n      var blobToBase64 = function (f, cb) {\n        let reader = new FileReader();\n\n        reader.onload = function () {\n          // converts blob to base64\n          var dataUrl = reader.result;\n          var base64 = dataUrl.split(\",\")[1];\n          cb(base64);\n        };\n\n        reader.readAsDataURL(f);\n      };\n\n      blobToBase64(f, async function (base64) {\n        // encode blobs to send to socket\n        let newBlob = {\n          \"name\": f.name,\n          \"blob\": base64,\n          \"size\": f.size\n        };\n        Blobs.push(newBlob);\n        setBlobs(Blobs); // console.log(\"BLOBS\", Blobs)\n      });\n    });\n  }\n\n  function deleteFile(name) {\n    let newFilesList = [];\n\n    for (let i = 0; i < files.length; i++) {\n      if (name !== files[i].name) {\n        newFilesList.push(files[i]);\n      }\n    }\n\n    setFiles(newFilesList);\n    console.log(\"FILES\", newFilesList);\n  }\n\n  function filesList() {\n    let selFilesList = [];\n\n    for (let i = 0; i < files.length; i++) {\n      selFilesList.push( /*#__PURE__*/React.createElement(Card, {\n        style: {\n          margin: 3,\n          backgroundColor: \"#E2E2E2\",\n          paddingLeft: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1192,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1193,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        minWidth: \"500px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1194,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"#1B2CE8\",\n          fontWeight: \"bold\",\n          width: \"95%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1195,\n          columnNumber: 15\n        }\n      }, files[i].name + \" \", \"(\" + Math.round(files[i].size / 1000) + \")\" + \"КБ\"), /*#__PURE__*/React.createElement(\"td\", {\n        align: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1198,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1199,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CloseIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        onClick: () => deleteFile(files[i].name),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1200,\n          columnNumber: 19\n        }\n      })))))));\n      console.log(\"FILE\", files[i]);\n    }\n\n    return selFilesList;\n  }\n\n  function handleSearchChange(event) {\n    setSearchFieldValue(event.target.value);\n    console.log(\"FIELDVALUE\", event.target.value);\n  }\n\n  function handleClickSearch() {\n    console.log(\"SEARCH\", searchFieldValue, clickedMessagesType, filteredDocList);\n\n    if (searchFieldValue === \"\") {\n      if (clickedMessagesType === \"inbox\") {\n        handleInboxMessagesClick();\n      } else if (clickedMessagesType === \"sent\") {\n        handleSentMessagesClick();\n      } else if (clickedMessagesType === \"trash\") {\n        handleTrashMessagesClick();\n      }\n    } else {\n      let newDocList = [];\n\n      if (clickedMessagesType === \"inbox\") {\n        for (let i = 0; i < initialDocList.recipient.length; i++) {\n          if (initialDocList.recipient[i].recipient_status === 1 || initialDocList.recipient[i].recipient_status === 2) {\n            try {\n              let subject = initialDocList.recipient[i].subject.toLowerCase();\n              let body = initialDocList.recipient[i].body.toLowerCase();\n              let searchField = searchFieldValue.toLowerCase();\n\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.recipient[i].subject, initialDocList.recipient[i].body)\n                newDocList.push(initialDocList.recipient[i]);\n              }\n            } catch (er) {\n              console.log(er);\n            }\n          }\n        }\n      } else if (clickedMessagesType === \"sent\") {\n        for (let i = 0; i < initialDocList.sender.length; i++) {\n          if (initialDocList.sender[i].sender_status === 3) {\n            try {\n              let subject = initialDocList.sender[i].subject.toLowerCase();\n              let body = initialDocList.sender[i].body.toLowerCase();\n              let searchField = searchFieldValue.toLowerCase();\n\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.sender[i].subject, initialDocList.sender[i].body)\n                newDocList.push(initialDocList.sender[i]);\n              }\n            } catch (er) {\n              console.log(er);\n            }\n          }\n        }\n      } else if (clickedMessagesType === \"trash\") {\n        for (let i = 0; i < initialDocList.sender.length; i++) {\n          if (initialDocList.sender[i].sender_status === 4) {\n            try {\n              let subject = initialDocList.sender[i].subject.toLowerCase();\n              let body = initialDocList.sender[i].body.toLowerCase();\n              let searchField = searchFieldValue.toLowerCase();\n\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.sender[i].subject, initialDocList.sender[i].body)\n                newDocList.push(initialDocList.sender[i]);\n              }\n            } catch (er) {\n              console.log(er);\n            }\n          }\n        }\n\n        for (let i = 0; i < initialDocList.recipient.length; i++) {\n          if (initialDocList.recipient[i].recipient_status === 4) {\n            try {\n              let subject = initialDocList.recipient[i].subject.toLowerCase();\n              let body = initialDocList.recipient[i].body.toLowerCase();\n              let searchField = searchFieldValue.toLowerCase();\n\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.recipient[i].subject, initialDocList.recipient[i].body)\n                newDocList.push(initialDocList.recipient[i]);\n              }\n            } catch (er) {\n              console.log(er);\n            }\n          }\n        }\n      }\n\n      fetchBySize(0, 9, newDocList);\n      setFilteredDocList(newDocList);\n    }\n  }\n\n  function handleInboxMessagesClick() {\n    setClickedMessagesType(\"inbox\");\n    setAllMessagesSelected(false);\n    let filteredDocL = [];\n\n    for (let i = 0; i < initialDocList.recipient.length; i++) {\n      if (initialDocList.recipient[i].recipient_status === 1 || initialDocList.recipient[i].recipient_status === 2) {\n        filteredDocL.push(initialDocList.recipient[i]);\n      }\n    }\n\n    fetchBySize(0, 9, filteredDocL);\n    setFilteredDocList(filteredDocL);\n    console.log(\"INBOX\");\n  }\n\n  function handleSentMessagesClick() {\n    setClickedMessagesType(\"sent\");\n    setAllMessagesSelected(false);\n    let filteredDocL = [];\n\n    for (let i = 0; i < initialDocList.sender.length; i++) {\n      if (initialDocList.sender[i].sender_status === 3) {\n        filteredDocL.push(initialDocList.sender[i]);\n      }\n    }\n\n    fetchBySize(0, 9, filteredDocL);\n    setFilteredDocList(filteredDocL);\n    console.log(\"SENT\");\n  }\n\n  function handleTrashMessagesClick() {\n    setClickedMessagesType(\"trash\");\n    setAllMessagesSelected(false);\n    let filteredDocL = [];\n\n    for (let i = 0; i < initialDocList.recipient.length; i++) {\n      if (initialDocList.recipient[i].recipient_status === 4) {\n        filteredDocL.push(initialDocList.recipient[i]);\n      }\n    }\n\n    for (let i = 0; i < initialDocList.sender.length; i++) {\n      if (initialDocList.sender[i].sender_status === 4) {\n        filteredDocL.push(initialDocList.sender[i]);\n      }\n    }\n\n    fetchBySize(0, 9, filteredDocL);\n    setFilteredDocList(filteredDocL);\n    console.log(\"TRASH\");\n  }\n\n  function getSenderName(sender) {\n    // console.log(\"enumData\", enumData)\n    for (let e = 0; e < enumData.length; e++) {\n      if (enumData[e].name === \"partners\") {\n        for (let d = 0; d < enumData[e].data.length; d++) {\n          if (enumData[e].data[d].id === sender) {\n            return enumData[e].data[d].label;\n          }\n        }\n      }\n    } // for (let e = 0; e < enumData.length; e++) {\n    //   if (enumData[e].name === \"users\") {\n    //     for (let d = 0; d < enumData[e].data.length; d++) {\n    //       if (enumData[e].data[d].id === sender) {\n    //         return enumData[e].data[d].firstname + \" \" + enumData[e].data[d].lastname\n    //       }\n    //     }\n    //   }\n    // }\n\n  }\n\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === name) {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].label;\n          }\n        }\n      }\n    }\n  }\n\n  function getBackround(status) {\n    if (status === 1) {\n      // message is unread\n      return \"#FFDCA5\";\n    } else {\n      return \"#F0F1F1\";\n    }\n  }\n\n  function getFontWeight(status) {\n    if (status === 1) {\n      return \"bold\";\n    } else {\n      return \"nornal\";\n    }\n  }\n\n  function checkToShowDeleteButton() {\n    let showButton = false;\n\n    if (Object.keys(selectedMessages).length > 0) {\n      for (let key in selectedMessages) {\n        if (selectedMessages[key] === true) {\n          showButton = true;\n          break;\n        }\n      }\n    }\n\n    return showButton;\n  }\n\n  function openMessage(message) {\n    if (clickedMessagesType === \"inbox\") {\n      // let user_id = null\n      // for (let e = 0; e < enumData.length; e++) {\n      //   if (enumData[e].name === \"users\") {\n      //     for (let d = 0; d < enumData[e].data.length; d++) {\n      //       if (enumData[e].data[d].user_id === userProfile.userId) {\n      //         user_id = enumData[e].data[d].id\n      //       }\n      //     }\n      //   }\n      // }\n      let mailDistrBody = {\n        id: message.distribution_id,\n        mail_id: message.mail_id,\n        sender: message.sender,\n        recipient: message.recipient,\n        recipient_status: 2,\n        created_at: message.created_at,\n        updated_at: message.updated_at\n      }; // let unreadDistributionsBody = {\n      //   variables: {\n      //     user_session_id: { value: session_id },\n      //     userAction: { value: \"getUnreadDistributions\" },\n      //     // depoRESTApi: { value: \"\" },\n      //     user_id_recipient: { value: message.recipient }\n      //   }\n      // }\n\n      let commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"openMailDistribution\"\n          },\n          mailDistrBody: {\n            value: JSON.stringify(mailDistrBody)\n          },\n          selectedDoc: {\n            value: JSON.stringify(message)\n          } // unreadDistributionsBody: { value: JSON.stringify(unreadDistributionsBody) }\n\n        }\n      };\n      console.log(\"button openMail: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n      props.reduceMailDistributions();\n    } else {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"openMail\"\n          },\n          selectedDoc: {\n            value: JSON.stringify(message)\n          }\n        }\n      };\n      console.log(\"button openMail: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    }\n  }\n\n  function deleteMessages() {\n    console.log(\"LISTS\", selectedMessages, docList);\n\n    if (clickedMessagesType === \"inbox\") {\n      let mailDistrList = [];\n\n      for (let d = 0; d < docList.length; d++) {\n        for (let key in selectedMessages) {\n          if (selectedMessages[key] === true) {\n            if (docList[d].mail_id === parseInt(key)) {\n              let mailToDelete = {\n                id: docList[d].distribution_id,\n                sender: docList[d].sender,\n                recipient: docList[d].recipient,\n                recipient_status: 4,\n                mail_id: docList[d].mail_id,\n                created_at: docList[d].created_at,\n                updated_at: docList[d].updated_at\n              };\n              mailDistrList.push(mailToDelete);\n              console.log(\"DEL\", mailToDelete);\n            }\n          }\n        }\n      }\n\n      let unreadDistributionsBody = {\n        variables: {\n          user_session_id: {\n            value: session_id\n          },\n          userAction: {\n            value: \"getUnreadDistributions\"\n          },\n          depoRESTApi: {\n            value: \"\"\n          },\n          user_id_recipient: {\n            value: docList[0].recipient\n          }\n        }\n      };\n      let commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"putMailsToTrash\"\n          },\n          mailDistrList: {\n            value: JSON.stringify(mailDistrList)\n          },\n          mailList: {\n            value: \"[]\"\n          },\n          unreadDistributionsBody: {\n            value: JSON.stringify(unreadDistributionsBody)\n          }\n        }\n      };\n      console.log(\"button putInboxMailsToTrash: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n      props.reduceMailDistributions();\n    } else if (clickedMessagesType === \"sent\") {\n      let mailList = [];\n\n      for (let d = 0; d < docList.length; d++) {\n        for (let key in selectedMessages) {\n          if (selectedMessages[key] === true) {\n            if (docList[d].mail_id === parseInt(key)) {\n              let mailToDelete = {\n                id: docList[d].mail_id,\n                sender: docList[d].sender,\n                subject: docList[d].subject,\n                body: docList[d].body,\n                status: 4,\n                files_directory: docList[d].files_directory,\n                created_at: docList[d].created_at,\n                updated_at: docList[d].updated_at\n              };\n              mailList.push(mailToDelete);\n              console.log(\"DEL\", mailToDelete);\n            }\n          }\n        }\n      }\n\n      let commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"putMailsToTrash\"\n          },\n          mailDistrList: {\n            value: \"[]\"\n          },\n          mailList: {\n            value: JSON.stringify(mailList)\n          }\n        }\n      };\n      console.log(\"button putSentMailsToTrash: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (clickedMessagesType === \"trash\") {\n      swal({\n        text: \"Вы действительно хотите удалить сообщения безвозвратно?\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          let mailList = [];\n          let mailDistrList = [];\n\n          for (let key in selectedMessages) {\n            if (selectedMessages[key] === true) {\n              console.log(\"TRUE?\", key, selectedMessages[key]);\n\n              for (let d = 0; d < docList.length; d++) {\n                if (docList[d].mail_id === parseInt(key)) {\n                  console.log(\"DEL\", docList[d].subject); // I'm sender of mail\n                  // if (docList[d].sender === idFromUsers) {\n\n                  if (docList[d].sender === parseInt(userProfile.partner)) {\n                    console.log(\"IM SENDER\", docList[d].mail_id);\n                    let mailToDelete = {\n                      id: docList[d].mail_id,\n                      sender: docList[d].sender,\n                      subject: docList[d].subject,\n                      body: docList[d].body,\n                      status: 5,\n                      files_directory: docList[d].files_directory,\n                      created_at: docList[d].created_at,\n                      updated_at: docList[d].updated_at,\n                      deleted: true\n                    };\n                    mailList.push(mailToDelete);\n                  } // i'm recipient of mail\n                  else {\n                    console.log(\"IM RECIPIENT\", docList[d].mail_id);\n                    let mailToDelete = {\n                      id: docList[d].distribution_id,\n                      sender: docList[d].sender,\n                      recipient: docList[d].recipient,\n                      recipient_status: 5,\n                      mail_id: docList[d].mail_id,\n                      created_at: docList[d].created_at,\n                      updated_at: docList[d].updated_at,\n                      deleted: true\n                    };\n                    mailDistrList.push(mailToDelete);\n                  }\n                }\n              }\n            }\n          }\n\n          let unreadDistributionsBody = {\n            variables: {\n              user_session_id: {\n                value: session_id\n              },\n              userAction: {\n                value: \"getUnreadDistributions\"\n              },\n              depoRESTApi: {\n                value: \"\"\n              },\n              user_id_recipient: {\n                value: docList[0].recipient\n              }\n            }\n          };\n          let commandJson = {\n            commandType: \"completeTask\",\n            process_id: process_id,\n            session_id: session_id,\n            taskID: taskID,\n            variables: {\n              userAction: {\n                value: \"putMailsToTrash\"\n              },\n              mailDistrList: {\n                value: JSON.stringify(mailDistrList)\n              },\n              mailList: {\n                value: JSON.stringify(mailList)\n              },\n              unreadDistributionsBody: {\n                value: JSON.stringify(unreadDistributionsBody)\n              }\n            }\n          };\n          console.log(\"button deleteMails: \", commandJson);\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id); // console.log(\"mailList\", mailList)\n          // console.log(\"mailDistrList\", mailDistrList)\n        }\n      });\n    }\n  }\n\n  function savedDocsList() {\n    console.log(\"SAVEDOCS\", savedDocs);\n    let savedDocsList = [];\n\n    for (let i = 0; i < savedDocs.length; i++) {\n      savedDocsList.push( /*#__PURE__*/React.createElement(Card, {\n        style: {\n          margin: 3,\n          backgroundColor: \"#E2E2E2\",\n          paddingLeft: 20,\n          minWidth: \"500px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1639,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1640,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1641,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"#1B2CE8\",\n          fontWeight: \"bold\",\n          width: \"95%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1642,\n          columnNumber: 15\n        }\n      }, savedDocs[i].name + \" \", \"(\" + Math.round(savedDocs[i].size / 1000) + \")\" + \"КБ\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1645,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: URL.createObjectURL(savedDocs[i]),\n        download: savedDocs[i].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1646,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(GetAppIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1651,\n          columnNumber: 19\n        }\n      }))))))); // console.log(\"FILE\", savedDocs[i])\n    }\n\n    return savedDocsList;\n  }\n\n  function savedImgsList() {\n    var imgs = [];\n\n    for (let l = 0; l < savedImgs.length; l++) {\n      let blob = converFileToBlob(savedImgs[l].item.props.src);\n      imgs.push( /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1666,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1667,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1668,\n          columnNumber: 13\n        }\n      }, savedImgs[l].item)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1672,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1673,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: URL.createObjectURL(blob),\n        download: savedImgs[l].item.props.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1674,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(GetAppIcon, {\n        style: {\n          fontSize: \"medium\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1679,\n          columnNumber: 17\n        }\n      }))))));\n    }\n\n    if (Object.keys(imgs).length !== 0) {\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"flex-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1688,\n          columnNumber: 9\n        }\n      }, imgs);\n    }\n  }\n\n  function converFileToBlob(src) {\n    var byteString = atob(src.split(',')[1]);\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n\n    return new Blob([ab], {\n      type: 'image/jpeg'\n    });\n  }\n\n  function getMenuItemStyle(name) {\n    if (name === clickedMessagesType) {\n      return {\n        background: \"#F0F1F1\",\n        color: \"black\",\n        fontWeight: \"bold\"\n      };\n    }\n  }\n\n  function onKeyPressModalEnterPin(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      buttonClick(\"sendWithES\");\n    }\n  }\n\n  if (updateState !== null) {\n    try {\n      if (taskType === \"corporativeActionsMainForm\") {\n        if (writeMessage === false) {\n          return /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"row\",\n            justify: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 1,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1724,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 3,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1725,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Paper, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1726,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(MenuList, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1727,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => handleInboxMessagesClick(),\n            style: getMenuItemStyle(\"inbox\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1728,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(ListItemIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1729,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(MailOutlineIcon, {\n            fontSize: \"small\",\n            style: getMenuItemStyle(\"inbox\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1730,\n              columnNumber: 25\n            }\n          })), /*#__PURE__*/React.createElement(Typography, {\n            variant: \"inherit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1732,\n              columnNumber: 23\n            }\n          }, \"\\u0412\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0435\")), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => handleSentMessagesClick(),\n            style: getMenuItemStyle(\"sent\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1734,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(ListItemIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1735,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(SendIcon, {\n            fontSize: \"small\",\n            style: getMenuItemStyle(\"sent\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1736,\n              columnNumber: 25\n            }\n          })), /*#__PURE__*/React.createElement(Typography, {\n            variant: \"inherit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1738,\n              columnNumber: 23\n            }\n          }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u043D\\u044B\\u0435\")), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => handleTrashMessagesClick(),\n            style: getMenuItemStyle(\"trash\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1740,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(ListItemIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1741,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n            fontSize: \"small\",\n            style: getMenuItemStyle(\"trash\"),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1742,\n              columnNumber: 25\n            }\n          })), /*#__PURE__*/React.createElement(Typography, {\n            variant: \"inherit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1744,\n              columnNumber: 23\n            }\n          }, \"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\"))))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 9,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1749,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            spacing: 1,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1750,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 12,\n            align: \"left\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1751,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Paper, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1752,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(Checkbox, {\n            style: {\n              color: \"green\"\n            },\n            onChange: handleSelectAllMessagesChange,\n            checked: allMessagesSelected === true ? true : false,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1753,\n              columnNumber: 23\n            }\n          }), checkToShowDeleteButton() === true && /*#__PURE__*/React.createElement(IconButton, {\n            \"aria-label\": \"delete\",\n            size: \"small\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1759,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(DeleteIcon, {\n            onClick: () => deleteMessages(),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1760,\n              columnNumber: 27\n            }\n          })), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            color: \"primary\",\n            startIcon: /*#__PURE__*/React.createElement(CreateIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1766,\n                columnNumber: 36\n              }\n            }),\n            style: {\n              margin: 5,\n              color: \"green\",\n              background: \"white\",\n              fontSize: 14\n            },\n            \"aria-controls\": menuId,\n            \"aria-haspopup\": \"true\",\n            onClick: openMenuClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1763,\n              columnNumber: 23\n            }\n          }, \"\\u041D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Menu, {\n            id: menuId,\n            anchorEl: anchorEl,\n            keepMounted: true,\n            open: Boolean(anchorEl),\n            onClose: closeMenuClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1774,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(1),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1781,\n              columnNumber: 25\n            }\n          }, \"\\u0418\\u0437\\u0432\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(2),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1782,\n              columnNumber: 25\n            }\n          }, \"\\u0417\\u0430\\u043F\\u0440\\u043E\\u0441 \\u043D\\u0430 \\u0440\\u0430\\u0441\\u043A\\u0440\\u044B\\u0442\\u0438\\u0435\"), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(3),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1783,\n              columnNumber: 25\n            }\n          }, \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u043E\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(MenuItem, {\n            onClick: () => writeMessgeClick(4),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1784,\n              columnNumber: 25\n            }\n          }, \"\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043E \\u041A\\u0414\")), /*#__PURE__*/React.createElement(TextField, {\n            size: \"small\",\n            variant: \"outlined\",\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0432 \\u043F\\u043E\\u0447\\u0442\\u0435\",\n            style: {\n              width: \"50%\",\n              paddingLeft: 50,\n              margin: 3\n            },\n            onChange: handleSearchChange,\n            InputProps: {\n              endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n                position: \"end\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1794,\n                  columnNumber: 29\n                }\n              }, /*#__PURE__*/React.createElement(IconButton, {\n                onClick: () => handleClickSearch(),\n                edge: \"end\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1795,\n                  columnNumber: 31\n                }\n              }, /*#__PURE__*/React.createElement(SearchIcon, {\n                size: \"small\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1799,\n                  columnNumber: 33\n                }\n              })))\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1786,\n              columnNumber: 23\n            }\n          }))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 12,\n            align: \"left\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1806,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Paper, {\n            style: {\n              minHeight: \"76px\",\n              paddingTop: docList === null ? \"25px\" : 0\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1807,\n              columnNumber: 21\n            }\n          }, docList !== null ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1809,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"table\", {\n            class: \"main-table-style\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1810,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"thead\", {\n            class: \"thead-style\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1811,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1812,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-first-child\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1813,\n              columnNumber: 33\n            }\n          }), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1814,\n              columnNumber: 33\n            }\n          }, \"\\u0414\\u0430\\u0442\\u0430\"), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1815,\n              columnNumber: 33\n            }\n          }, \"\\u0422\\u0438\\u043F\"), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1816,\n              columnNumber: 33\n            }\n          }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\"), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-style-2row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1817,\n              columnNumber: 33\n            }\n          }, \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\"), /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-head-last-child\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1818,\n              columnNumber: 33\n            }\n          }, \"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n            class: \"body-style\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1821,\n              columnNumber: 29\n            }\n          }, Object.keys(docList).length !== 0 && docList.map(dataItem => /*#__PURE__*/React.createElement(\"tr\", {\n            width: \"100%\",\n            style: {\n              \"fontSize\": 13,\n              \"height\": 30,\n              \"background\": clickedMessagesType === \"inbox\" ? getBackround(dataItem.recipient_status) : \"#F0F1F1\",\n              \"fontWeight\": clickedMessagesType === \"inbox\" ? getFontWeight(dataItem.recipient_status) : \"normal\",\n              \"cursor\": \"pointer\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1824,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1834,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(Checkbox, {\n            style: {\n              height: 15,\n              color: \"green\",\n              maxWidth: 25\n            },\n            id: dataItem.mail_id,\n            onChange: handleSelectMessage,\n            checked: selectedMessages[dataItem.mail_id] === true ? true : false,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1835,\n              columnNumber: 39\n            }\n          })), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            align: \"center\",\n            width: 150,\n            onClick: () => openMessage(dataItem),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1842,\n              columnNumber: 37\n            }\n          }, beautifyDate(dataItem.created_at)), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            align: \"center\",\n            width: 150,\n            onClick: () => openMessage(dataItem),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1850,\n              columnNumber: 37\n            }\n          }, getEnumLabel(\"mailTypes\", dataItem.type)), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            width: 150,\n            onClick: () => openMessage(dataItem),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1858,\n              columnNumber: 37\n            }\n          }, getSenderName(dataItem.sender)), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\"\n            },\n            onClick: () => openMessage(dataItem),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1865,\n              columnNumber: 37\n            }\n          }, dataItem.subject), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              \"border-bottom\": \"1px solid grey\",\n              \"white-space\": \"wrap\"\n            },\n            onClick: () => openMessage(dataItem),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1871,\n              columnNumber: 37\n            }\n          }, dataItem.body.substring(0, 50), dataItem.body.length > 50 ? \"...\" : \"\"))))), /*#__PURE__*/React.createElement(\"table\", {\n            size: \"small\",\n            style: {\n              \"border-collapse\": \"collapse\",\n              \"white-space\": \"nowrap\",\n              fontSize: 13\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1883,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"tfoot\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1884,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1885,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              paddingLeft: \"20px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1886,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              minWidth: 80,\n              color: \"black\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1887,\n              columnNumber: 35\n            }\n          }, \"\\u041A\\u043E\\u043B-\\u0432\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439\")), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1889,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(FormControl, {\n            variant: \"outlined\",\n            style: {\n              minWidth: 30\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1890,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(MaterialSelect, {\n            onChange: handleChangeRowsPerPage,\n            style: {\n              height: 25,\n              color: \"black\"\n            },\n            value: size,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1894,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(MenuItem, {\n            value: 10,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1899,\n              columnNumber: 39\n            }\n          }, \"10\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 20,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1900,\n              columnNumber: 39\n            }\n          }, \"20\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 50,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1901,\n              columnNumber: 39\n            }\n          }, \"50\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 100,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1902,\n              columnNumber: 39\n            }\n          }, \"100\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 200,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1903,\n              columnNumber: 39\n            }\n          }, \"200\"), /*#__PURE__*/React.createElement(MenuItem, {\n            value: 500,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1904,\n              columnNumber: 39\n            }\n          }, \"500\")))), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1908,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Tooltip, {\n            title: \"\\u041D\\u0430 \\u043F\\u0435\\u0440\\u0432\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1909,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(IconButton, {\n            onClick: () => KeyboardArrowFirstClick(),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1910,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(FirstPageIcon, {\n            style: {\n              fontSize: \"large\",\n              color: \"black\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1911,\n              columnNumber: 39\n            }\n          })))), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1915,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Tooltip, {\n            title: \"\\u041D\\u0430 \\u043F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1916,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(IconButton, {\n            onClick: () => KeyboardArrowLeftClick(page),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1917,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n            style: {\n              fontSize: \"medium\",\n              color: \"black\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1918,\n              columnNumber: 39\n            }\n          })))), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              color: \"black\",\n              fontSize: 16\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1922,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            style: {\n              maxWidth: 25\n            },\n            value: page,\n            onChange: handlePageChange,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1923,\n              columnNumber: 35\n            }\n          })), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              paddingLeft: \"3px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1925,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Tooltip, {\n            title: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043D\\u0430 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1926,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(Button, {\n            onClick: () => GoToPage(),\n            variant: \"outlined\",\n            style: {\n              height: 22,\n              backgroundColor: \"#D1D6D6\",\n              fontSize: 12\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1927,\n              columnNumber: 37\n            }\n          }, \"\\u043F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\"))), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1939,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Tooltip, {\n            title: \"\\u041D\\u0430 \\u0441\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1940,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(IconButton, {\n            onClick: () => KeyboardArrowRightClick(page),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1941,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n            style: {\n              fontSize: \"medium\",\n              color: \"black\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1942,\n              columnNumber: 39\n            }\n          })))), /*#__PURE__*/React.createElement(\"td\", {\n            style: {\n              color: \"black\",\n              fontSize: 13\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1946,\n              columnNumber: 33\n            }\n          }, \"\\u0421\\u0442\\u0440. \", page, \" \\u0438\\u0437 \", getPageAmount()))))) : /*#__PURE__*/React.createElement(Typography, {\n            variant: \"inherit\",\n            noWrap: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1952,\n              columnNumber: 25\n            }\n          }, \"\\u0412 \\u044D\\u0442\\u043E\\u0439 \\u043F\\u0430\\u043F\\u043A\\u0435 \\u043D\\u0435\\u0442 \\u043F\\u0438\\u0441\\u0435\\u043C!\"))), /*#__PURE__*/React.createElement(Snackbar, {\n            open: showSnackBar,\n            onClose: () => handleCloseSnackBar(),\n            autoHideDuration: 1200,\n            message: snackBarMessage,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1958,\n              columnNumber: 19\n            }\n          }))));\n        } else if (writeMessage === true) {\n          return /*#__PURE__*/React.createElement(Paper, {\n            key: updateState,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1971,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            spacing: 1,\n            justify: \"center\",\n            alignItems: \"center\",\n            className: classes.root,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1972,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1973,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1974,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1975,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"partnersSearhField\",\n            value: partnersSearchField,\n            onChange: partnersSearchFieldChange,\n            autoFocus: focusField === \"partnersSearhField\" ? true : false,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1976,\n              columnNumber: 23\n            }\n          })), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1985,\n              columnNumber: 21\n            }\n          }, partnersList(partners)))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1988,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1989,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            className: classes.button,\n            onClick: handleAllRight,\n            disabled: partners.length === 0,\n            \"aria-label\": \"move all selectedPartners\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1990,\n              columnNumber: 21\n            }\n          }, \"\\u226B\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            className: classes.button,\n            onClick: handleCheckedRight,\n            disabled: leftChecked.length === 0,\n            \"aria-label\": \"move selected selectedPartners\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2000,\n              columnNumber: 21\n            }\n          }, \">\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            className: classes.button,\n            onClick: handleCheckedLeft,\n            disabled: rightChecked.length === 0,\n            \"aria-label\": \"move selected partners\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2010,\n              columnNumber: 21\n            }\n          }, \"<\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            className: classes.button,\n            onClick: handleAllLeft,\n            disabled: selectedPartners.length === 0,\n            \"aria-label\": \"move all partners\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2020,\n              columnNumber: 21\n            }\n          }, \"\\u226A\"))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2032,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2033,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2034,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n            style: {\n              width: \"100%\"\n            },\n            name: \"selectedPartnersSearhField\",\n            value: selectedPartnersSearchField,\n            onChange: selectedPartnersSearchFieldChange,\n            autoFocus: focusField === \"selectedPartnersSearhField\" ? true : false,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2035,\n              columnNumber: 23\n            }\n          })), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2044,\n              columnNumber: 21\n            }\n          }, selectedPartnersList(selectedPartners)))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 11,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2047,\n              columnNumber: 17\n            }\n          }, \"\\u0422\\u0438\\u043F \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F: \", getEnumLabel(\"mailTypes\", messageType)), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: 11,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2048,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2049,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(TextField, {\n            id: \"outlined-multiline-static\",\n            label: \"\\u0422\\u0435\\u043C\\u0430\",\n            multiline: true,\n            onBlur: handleChange,\n            name: \"subject\",\n            defaultValue: fieldValue[\"subject\"],\n            variant: \"outlined\",\n            style: {\n              width: \"100%\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2050,\n              columnNumber: 21\n            }\n          }), /*#__PURE__*/React.createElement(TextField, {\n            id: \"outlined-multiline-static\",\n            label: \"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F\",\n            multiline: true,\n            rows: 4,\n            onBlur: handleChange,\n            name: \"body\",\n            defaultValue: fieldValue[\"body\"],\n            variant: \"outlined\",\n            style: {\n              width: \"100%\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2060,\n              columnNumber: 21\n            }\n          }))), /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2073,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2074,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: classes.importFile,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2075,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            accept: \"image/*, application/pdf\",\n            className: classes.inputFile,\n            id: corpActionsAttachFileButtonId,\n            multiple: true,\n            type: \"file\",\n            onChange: handleAttachFile,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2076,\n              columnNumber: 23\n            }\n          }), /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: corpActionsAttachFileButtonId,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2084,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(Button, {\n            component: \"span\",\n            variant: \"outlined\",\n            style: {\n              margin: 3,\n              color: \"white\",\n              backgroundColor: \"#BB7100\",\n              borderColor: \"#161C87\",\n              height: 32,\n              fontSize: 12\n            },\n            endIcon: /*#__PURE__*/React.createElement(AttachFileIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2096,\n                columnNumber: 36\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2085,\n              columnNumber: 25\n            }\n          }, \"\\u041F\\u0440\\u0438\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B\\u044B\"))), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            onClick: () => buttonClick(\"send\", null),\n            style: {\n              margin: 3,\n              color: \"white\",\n              borderColor: \"#161C87\",\n              backgroundColor: \"#287A2C\",\n              height: 32,\n              fontSize: 12\n            },\n            endIcon: /*#__PURE__*/React.createElement(SendIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2112,\n                columnNumber: 32\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2101,\n              columnNumber: 21\n            }\n          }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            onClick: () => props.esInn !== null ? buttonClick(\"sendWithES\") : setShowModalEnterPin(true),\n            style: {\n              margin: 3,\n              color: \"white\",\n              borderColor: \"#161C87\",\n              backgroundColor: \"#287A2C\",\n              height: 32,\n              fontSize: 12\n            },\n            endIcon: /*#__PURE__*/React.createElement(SendIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2126,\n                columnNumber: 32\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2115,\n              columnNumber: 21\n            }\n          }, \"\\u041F\\u043E\\u0434\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C \\u0438 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"outlined\",\n            onClick: () => setWriteMessage(false),\n            style: {\n              margin: 3,\n              color: \"white\",\n              borderColor: \"#161C87\",\n              backgroundColor: \"#ff1f1f\",\n              height: 32,\n              fontSize: 12\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2130,\n              columnNumber: 21\n            }\n          }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\")))), /*#__PURE__*/React.createElement(Grid, {\n            style: {\n              paddingLeft: \"45px\"\n            },\n            container: true,\n            spacing: 2,\n            justify: \"flex-start\",\n            alignItems: \"flex-start\",\n            className: classes.root,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2146,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            item: true,\n            xs: \"auto\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2147,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(Grid, {\n            container: true,\n            direction: \"column\",\n            spacing: 1,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2148,\n              columnNumber: 19\n            }\n          }, filesList()))), /*#__PURE__*/React.createElement(Modal, {\n            open: showModalEnterPin,\n            onClose: handleCloseModalEnterPin,\n            \"aria-labelledby\": \"simple-modal-title\",\n            \"aria-describedby\": \"simple-modal-description\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2153,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            style: modalStyle,\n            className: classes.modalRutoken,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2159,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"h3\", {\n            id: \"simple-modal-title\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2160,\n              columnNumber: 19\n            }\n          }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041F\\u0418\\u041D \\u043A\\u043E\\u0434 \\u0420\\u0443\\u0442\\u043E\\u043A\\u0435\\u043D\\u0430\"), /*#__PURE__*/React.createElement(FormControl, {\n            variant: \"outlined\",\n            style: {\n              width: \"100%\"\n            },\n            error: wrongPin,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2161,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(InputLabel, {\n            htmlFor: \"outlined-adornment-password\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2162,\n              columnNumber: 21\n            }\n          }, \"PIN\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n            type: showPin ? 'text' : 'password',\n            defaultValue: rutokenPin,\n            onChange: handlePinChange,\n            onKeyPress: onKeyPressModalEnterPin,\n            autoFocus: true,\n            endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n              position: \"end\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2170,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(IconButton, {\n              \"aria-label\": \"toggle password visibility\",\n              onClick: handleClickShowPin,\n              edge: \"end\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2171,\n                columnNumber: 27\n              }\n            }, showPin ? /*#__PURE__*/React.createElement(Visibility, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2176,\n                columnNumber: 40\n              }\n            }) : /*#__PURE__*/React.createElement(VisibilityOff, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 2176,\n                columnNumber: 57\n              }\n            }))),\n            labelWidth: 25,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2163,\n              columnNumber: 21\n            }\n          })), wrongPin === true && /*#__PURE__*/React.createElement(\"p\", {\n            color: \"red\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2183,\n              columnNumber: 41\n            }\n          }, \"\\u041D\\u0435 \\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 PIN\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"contained\",\n            onClick: () => buttonClick(\"sendWithES\"),\n            style: {\n              margin: 3,\n              height: 32,\n              fontSize: 12,\n              color: \"white\",\n              backgroundColor: \"#2862F4\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2184,\n              columnNumber: 19\n            }\n          }, \"\\u041E\\u043A\"), /*#__PURE__*/React.createElement(Button, {\n            variant: \"contained\",\n            onClick: handleCloseModalEnterPin,\n            style: {\n              margin: 3,\n              height: 32,\n              fontSize: 12,\n              color: \"white\",\n              backgroundColor: \"#E73639\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2196,\n              columnNumber: 19\n            }\n          }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n        }\n      } else if (taskType === \"shomMessageForm\") {\n        return /*#__PURE__*/React.createElement(Paper, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2216,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2217,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(Grid, {\n          container: true,\n          direction: \"row\",\n          justify: \"center\",\n          alignItems: \"center\",\n          spacing: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2218,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2219,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          component: \"h1\",\n          variant: \"h6\",\n          color: \"inherit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2220,\n            columnNumber: 17\n          }\n        }, selectedDoc.subject)), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2222,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2223,\n            columnNumber: 17\n          }\n        }, \"Дата: \", selectedDoc.created_at.substring(0, 19)), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2224,\n            columnNumber: 17\n          }\n        }, \"Отправитель: \", getSenderName(selectedDoc.sender)), selectedDoc.es_inn !== null && /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2226,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2227,\n            columnNumber: 21\n          }\n        }, \"Время подписания: \", selectedDoc.es_date !== undefined ? selectedDoc.es_date.substring(0, 19) : \"\"), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2228,\n            columnNumber: 21\n          }\n        }, \"ИНН: \", selectedDoc.es_inn), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2229,\n            columnNumber: 21\n          }\n        }, \"ФИО: \", selectedDoc.es_full_name))), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"left\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2233,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2234,\n            columnNumber: 17\n          }\n        }, selectedDoc.body)), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2236,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"left\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2237,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: 12,\n            fontWeight: \"bold\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2238,\n            columnNumber: 17\n          }\n        }, \"Прикрепленные файлы\"), savedDocsList(), savedImgsList()), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 10,\n          align: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2242,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          variant: \"outlined\",\n          onClick: () => buttonClick(\"showReport\"),\n          style: {\n            margin: 3,\n            color: \"white\",\n            borderColor: \"#161C87\",\n            backgroundColor: \"#287A2C\",\n            height: 32,\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2243,\n            columnNumber: 17\n          }\n        }, \"\\u041F\\u0435\\u0447\\u0430\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Button, {\n          variant: \"outlined\",\n          onClick: () => buttonClick(\"back\"),\n          style: {\n            margin: 3,\n            color: \"white\",\n            borderColor: \"#161C87\",\n            backgroundColor: \"#ff1f1f\",\n            height: 32,\n            fontSize: 12\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2256,\n            columnNumber: 17\n          }\n        }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\"))), /*#__PURE__*/React.createElement(Modal, {\n          className: classes.modal,\n          open: openModal,\n          onClose: handleCloseModal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2271,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.imagePaper,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2276,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          name: selectedImg.name,\n          height: 600,\n          width: \"auto\",\n          src: selectedImg.src,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2277,\n            columnNumber: 17\n          }\n        }))));\n      } else {\n        return /*#__PURE__*/React.createElement(LinearProgress, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2284,\n            columnNumber: 16\n          }\n        });\n      }\n    } catch (er) {\n      // console.log(\"ERROR\", er)\n      return /*#__PURE__*/React.createElement(LinearProgress, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2289,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","clsx","Button","LinearProgress","NumberFormat","PropTypes","Card","fade","makeStyles","Grid","List","ListItem","ListItemIcon","ListItemText","Checkbox","Paper","TextField","Typography","FormControl","MaterialSelect","Snackbar","OutlinedInput","InputAdornment","InputLabel","TableRow","TableBody","TableCell","Modal","Menu","MenuList","MenuItem","SendIcon","AttachFileIcon","CloseIcon","IconButton","DraftsIcon","MailOutlineIcon","DeleteOutlineIcon","ArrowForwardIosIcon","ArrowBackIosIcon","FirstPageIcon","SearchIcon","CreateIcon","DeleteIcon","GetAppIcon","Visibility","VisibilityOff","swal","Tooltip","axios","rutoken","plugin","rutokenHandle","certHandle","certData","cmsData","moment","require","generator","FloatFormat","props","inputRef","onChange","other","values","target","value","propTypes","func","isRequired","IntegerFormat","name","useStyles","theme","root","margin","paper","width","height","overflow","button","spacing","importFile","inputFile","display","modal","alignItems","justifyContent","modalRutoken","position","backgroundColor","palette","background","border","boxShadow","shadows","padding","not","a","b","filter","indexOf","intersection","getModalStyle","top","left","transform","classes","userProfile","session_id","userTask","process_id","taskID","enumData","enumOptions","setEnumOptions","fieldValue","setFieldValue","subject","body","esDate","esFullName","esInn","searchFieldValue","setSearchFieldValue","selectedOptions","setSelectedOptions","updateState","setUpdateState","taskType","docList","setDocList","filteredDocList","setFilteredDocList","initialDocList","setInitialDocList","page","setPage","size","setSize","showSnackBar","setShowSnackBar","snackBarMessage","setSnackBarMessage","clickedMessagesType","setClickedMessagesType","checked","setChecked","partners","setPartners","selectedPartners","setSelectedPartners","leftChecked","rightChecked","partnersSearchField","setPartnersSearchField","selectedPartnersSearchField","setSelectedPartnersSearchField","focusField","setFocusField","files","setFiles","Blobs","setBlobs","corpActionsAttachFileButtonId","setCorpActionsAttachFileButtonId","menuId","setMenuId","anchorEl","setAnchorEl","writeMessage","setWriteMessage","messageType","setMessageType","allMessagesSelected","setAllMessagesSelected","selectedMessages","setSelectedMessages","selectedDoc","setSelectedDoc","savedImgs","setSavedImgs","savedImagesFiles","setSavedImagesFiles","savedDocs","setSavedDocs","selectedImg","setSelectedImg","openModal","setOpenModal","modalStyle","showModalEnterPin","setShowModalEnterPin","rutokenPin","setRutokenPin","showPin","setShowPin","wrongPin","setWrongPin","console","log","getUUID","undefined","i","length","newPartners","d","data","push","id","callErrorToast","parsedData","JSON","parse","filteredDocL","recipient","recipient_status","fetchBySize","er","parsedSelectedDoc","extension","convertBase64ToFile","content","fileName","handlePinChange","event","handleClickShowPin","handleCloseModalEnterPin","ready","then","window","chrome","InstallTrigger","isExtensionInstalled","Promise","resolve","result","isPluginInstalled","loadPlugin","handleError","reason","isNaN","message","errorCodes","parseInt","PIN_INCORRECT","alert","sign","commandJson","enumerateDevices","devices","firstDevice","getDeviceInfo","TOKEN_INFO_IS_LOGGED_IN","isLoggedIn","login","enumerateCertificates","CERT_CATEGORY_UNSPEC","certs","parseCertificate","sendMails","options","inn","fullName","rdn","newMailBody","variables","mailBody","mails","es_date","Date","format","es_full_name","es_inn","newCommandJson","stringify","setEsInn","setEsUserFullName","setEsExpiredDate","validNotAfter","substring","sendFieldValues","clearTabData","DATA_FORMAT_PLAIN","logout","swAllert","dataurl","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","convFile","File","type","handleAttachSavedFile","file","pushSavedImage","f","reader","FileReader","onload","e","image","item","savedImgClick","readAsDataURL","l","src","handleOpenModal","newId","handleCloseModal","openMenuClick","currentTarget","closeMenuClick","handleChange","uuidv1","keyGen","password","generate","numbers","text","icon","buttons","ok","getEmail","email","buttonClick","files_dir","files_directory","status","sender","partner","mail_distributions","s","newDistribution","sender_status","blobs","commandType","directory","userAction","userId","userRole","reportName","reportVars","mail_id","formData","FormData","append","p","fetch","api","mode","method","response","catch","error","getRecipientId","recipientId","parsedAttr","attributes","KeyboardArrowFirstClick","KeyboardArrowLeftClick","prevPage","fetchFrom","fetchTo","KeyboardArrowRightClick","handleChangeRowsPerPage","GoToPage","handlePageChange","getPageAmount","pagesFloat","mathRoundOfPages","Math","round","handleCloseSnackBar","Data","newDocList","beautifyDate","date","newDate","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","beautyDate","shortdd","toString","handleToggle","currentIndex","newChecked","splice","handleAllRight","concat","filteredSelectedPartners","filteredPartners","searchField","toLowerCase","listItemLabel","getPartnerName","includeSearch","includes","handleCheckedRight","handleCheckedLeft","handleAllLeft","partnersList","items","map","labelId","partnersSearchFieldChange","selectedPartnersList","selectedPartnersSearchFieldChange","label","writeMessgeClick","handleSelectAllMessagesChange","handleSelectMessage","handleAttachFile","selectedFiles","pushNewBlob","docUrl","URL","createObjectURL","res","blob","blobToBase64","cb","dataUrl","base64","newBlob","deleteFile","newFilesList","filesList","selFilesList","paddingLeft","color","fontWeight","fontSize","handleSearchChange","handleClickSearch","handleInboxMessagesClick","handleSentMessagesClick","handleTrashMessagesClick","getSenderName","getEnumLabel","getBackround","getFontWeight","checkToShowDeleteButton","showButton","Object","keys","key","openMessage","mailDistrBody","distribution_id","created_at","updated_at","reduceMailDistributions","deleteMessages","mailDistrList","mailToDelete","unreadDistributionsBody","user_session_id","depoRESTApi","user_id_recipient","mailList","yes","cancel","click","deleted","savedDocsList","minWidth","savedImgsList","imgs","converFileToBlob","byteString","ab","ArrayBuffer","ia","Blob","getMenuItemStyle","onKeyPressModalEnterPin","code","charCode","Boolean","endAdornment","minHeight","paddingTop","dataItem","maxWidth","borderColor","imagePaper"],"sources":["C:/Users/SERGO/Desktop/depo/src/components/CorporativeActions/CorporativeActions.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\n// Form components\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\";\n\nimport FormControl from '@material-ui/core/FormControl';\nimport MaterialSelect from '@material-ui/core/Select';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Menu from '@material-ui/core/Menu';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\n// Icons\nimport SendIcon from '@material-ui/icons/Send';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n// Libraries\nimport swal from 'sweetalert' // https://sweetalert.js.org/guides/\nimport Tooltip from '@material-ui/core/Tooltip';\nimport axios from 'axios';\nimport * as rutoken from \"rutoken\";\nvar plugin;\nvar rutokenHandle, certHandle, certData, cmsData;\nvar moment = require('moment');\n\nvar generator = require('generate-password');\n\nfunction FloatFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            value: values.value,\n          },\n        });\n      }}\n      decimalSeparator={\".\"}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nfunction IntegerFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            name: values.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: 'auto',\n  },\n  paper: {\n    width: 400,\n    height: 300,\n    overflow: 'auto',\n  },\n  button: {\n    margin: theme.spacing(0.5, 0),\n  },\n  importFile: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  inputFile: {\n    display: 'none',\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalRutoken: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  }\n}))\nfunction not(a, b) {\n  return a.filter((value) => b.indexOf(value) === -1);\n}\nfunction intersection(a, b) {\n  return a.filter((value) => b.indexOf(value) !== -1);\n}\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\nexport default (props) => {\n  // This.state\n  const classes = useStyles();\n  const [userProfile] = useState(props.userProfile)\n  const [session_id] = useState(props.userTask.session_id)\n  const [process_id] = useState(props.userTask.process_id)\n  const [taskID] = useState(props.userTask.taskID)\n  const [enumData] = useState(props.userTask.enumData)\n  const [enumOptions, setEnumOptions] = useState({})\n  const [fieldValue, setFieldValue] = useState({ subject: \"\", body: \"\", esDate: \"\", esFullName: \"\", esInn: \"\" })\n  const [searchFieldValue, setSearchFieldValue] = useState(\"\")\n  const [selectedOptions, setSelectedOptions] = useState([])\n  const [updateState, setUpdateState] = useState(false)\n  const [taskType] = useState(props.userTask.taskType)\n  const [docList, setDocList] = useState(null)\n  const [filteredDocList, setFilteredDocList] = useState(null)\n  const [initialDocList, setInitialDocList] = useState(null)\n  const [page, setPage] = useState(1)\n  const [size, setSize] = useState(10)\n  const [showSnackBar, setShowSnackBar] = useState(false)\n  const [snackBarMessage, setSnackBarMessage] = useState(false)\n  const [clickedMessagesType, setClickedMessagesType] = useState(\"inbox\")\n\n  const [checked, setChecked] = useState([])\n  const [partners, setPartners] = useState([])\n  const [selectedPartners, setSelectedPartners] = useState([])\n  const leftChecked = intersection(checked, partners)\n  const rightChecked = intersection(checked, selectedPartners)\n  const [partnersSearchField, setPartnersSearchField] = useState(\"\")\n  const [selectedPartnersSearchField, setSelectedPartnersSearchField] = useState(\"\")\n  const [focusField, setFocusField] = useState(\"\")\n  const [files, setFiles] = useState([])\n  const [Blobs, setBlobs] = useState([])\n  const [corpActionsAttachFileButtonId, setCorpActionsAttachFileButtonId] = useState(null)\n\n  const [menuId, setMenuId] = useState(null)\n  const [anchorEl, setAnchorEl] = useState(null)\n\n  const [writeMessage, setWriteMessage] = useState(false)\n  const [messageType, setMessageType] = useState(1)\n  const [allMessagesSelected, setAllMessagesSelected] = useState(false)\n  const [selectedMessages, setSelectedMessages] = useState({})\n  const [selectedDoc, setSelectedDoc] = useState(null)\n  // Saved Docs\n  const [savedImgs, setSavedImgs] = useState([])\n  const [savedImagesFiles, setSavedImagesFiles] = useState([])\n  const [savedDocs, setSavedDocs] = useState([])\n  const [selectedImg, setSelectedImg] = useState({})\n  const [openModal, setOpenModal] = useState(false)\n  // const [idFromUsers, setIdFromUsers] = useState(false)\n  // Rutoken\n  const [modalStyle] = useState(getModalStyle)\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false)\n  const [rutokenPin, setRutokenPin] = useState(\"\")\n  const [showPin, setShowPin] = useState(false)\n  const [wrongPin, setWrongPin] = useState(false)\n\n  // Set data from props to state of component\n  useEffect(() => {\n    console.log(\"CORPACTS PROPS\", props)\n    setCorpActionsAttachFileButtonId(getUUID())\n    setMenuId(getUUID())\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      for (let i = 0; i < props.userTask.enumData.length; i++) {\n        if (props.userTask.enumData[i] !== null) {\n          if (props.userTask.enumData[i].name === \"partners\") {\n            let newPartners = []\n            for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n              newPartners.push(props.userTask.enumData[i].data[d].id)\n            }\n            setPartners(newPartners)\n          }\n          // else if (props.userTask.enumData[i].name === \"users\") {\n          //   for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n          //     if (props.userTask.enumData[i].data[d].user_id === props.userProfile.userId) {\n          //       setIdFromUsers(props.userTask.enumData[i].data[d].id)\n          //     }\n          //   }\n          // }\n        }\n        else {\n          if (i === 0) {\n            setPartners([])\n            props.callErrorToast(\"Ошибка сбора справочной информации Partners\")\n          }\n          else {\n            props.callErrorToast(\"Ошибка сбора справочной информации Users\")\n          }\n        }\n      }\n    }\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList)\n        console.log(\"DOCL\", parsedData)\n        setInitialDocList(parsedData)\n        let filteredDocL = []\n        for (let i = 0; i < parsedData.recipient.length; i++) {\n          if (parsedData.recipient[i].recipient_status === 1 || parsedData.recipient[i].recipient_status === 2) {\n            filteredDocL.push(parsedData.recipient[i])\n          }\n        }\n        fetchBySize(0, 9, filteredDocL)\n        setFilteredDocList(filteredDocL)\n      }\n      catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType)\n        setFilteredDocList([])\n        setInitialDocList([])\n        setDocList([])\n      }\n    }\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc)\n      console.log(\"SDOC\", parsedSelectedDoc)\n      setSelectedDoc(parsedSelectedDoc)\n    }\n    if (props.userTask.savedDocs.length !== 0) {\n      for (let d = 0; d < props.userTask.savedDocs.length; d++) {\n        let extension = props.userTask.savedDocs[d].extension\n        if (extension === \".png\") {\n          convertBase64ToFile(\"data:image/png;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if (extension === \".jpeg\" || extension === \".jpg\") {\n          convertBase64ToFile(\"data:image/jpeg;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if (extension === \".doc\") {\n          convertBase64ToFile(\"data:application/msword;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if (extension === \".docx\") {\n          convertBase64ToFile(\"data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if (extension === \".xlsx\") {\n          convertBase64ToFile(\"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n        else if (extension === \".pdf\") {\n          convertBase64ToFile(\"data:application/pdf;base64,\" + props.userTask.savedDocs[d].content, props.userTask.savedDocs[d].fileName)\n        }\n      }\n    }\n    setUpdateState(getUUID())\n  }, [])\n  // RuToken functions\n  function handlePinChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    setRutokenPin(event.target.value)\n    console.log(\"PIN\", event.target.value)\n  }\n  function handleClickShowPin() {\n    setShowPin(!showPin)\n  }\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false)\n  }\n  rutoken.ready\n    // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n    .then(function () {\n      if (window.chrome || typeof InstallTrigger !== 'undefined') {\n        return rutoken.isExtensionInstalled()\n      } else {\n        return Promise.resolve(true)\n      }\n    })\n    // Проверка установки Рутокен Плагина\n    .then(function (result) {\n      if (result) {\n        return rutoken.isPluginInstalled()\n      } else {\n        // alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n      }\n    })\n    // Загрузка плагина\n    .then(function (result) {\n      if (result) {\n        return rutoken.loadPlugin()\n      } else {\n        // alert(\"Не удаётся найти Плагин\");\n      }\n    })\n    //Можно начинать работать с плагином\n    .then(function (result) {\n      if (!result) {\n        return // alert(\"Не удаётся загрузить Плагин\")\n      } else {\n        plugin = result\n        return Promise.resolve()\n      }\n    })\n\n  // catch errors while signing docs\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true)\n          break;\n        default:\n          alert(\"Неизвестная ошибка\");\n      }\n    }\n  }\n  // Sign transfer order with rutoken\n  function sign(commandJson) {\n    try {\n      // Получение текста для подписи\n      if (plugin !== undefined) {\n        // Перебор подключенных Рутокенов\n        plugin.enumerateDevices()\n          .then(function (devices) {\n            if (devices.length > 0) {\n              return Promise.resolve(devices[0]);\n            } else {\n              alert(\"Рутокен не обнаружен\");\n            }\n          })\n          // Проверка залогиненности\n          .then(function (firstDevice) {\n            rutokenHandle = firstDevice;\n            return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n          })\n          // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n          .then(function (isLoggedIn) {\n            if (isLoggedIn) {\n              return Promise.resolve();\n            } else {\n              return plugin.login(rutokenHandle, rutokenPin);\n            }\n          })\n          // Перебор пользовательских сертификатов на токене\n          .then(function () {\n            return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n          })\n          .then(function (certs) {\n            if (certs.length > 0) {\n              certHandle = certs[0];\n              return plugin.parseCertificate(rutokenHandle, certs[0]);\n            } else {\n              alert(\"Сертификат на Рутокен не обнаружен\");\n            }\n          })\n          // Подписание данных из текстового поля на первом найденом сертификате\n          .then(function (certs) {\n            certData = certs\n            // console.log(\"RUTDATA\", certData)\n            if (certHandle.length > 0) {\n              sendMails()\n              var options = {};\n\n              let inn = \"\"\n              let fullName = \"\"\n              for (let i = 0; i < certData.subject.length; i++) {\n                if (certData.subject[i].rdn === \"serialNumber\") {\n                  inn = certData.subject[i].value\n                }\n                if (certData.subject[i].rdn === \"commonName\") {\n                  fullName = certData.subject[i].value\n                }\n              }\n              let newMailBody = JSON.parse(commandJson.variables.mailBody.value)\n              newMailBody.mails.es_date = moment(new Date()).format()\n              newMailBody.mails.es_full_name = fullName\n              newMailBody.mails.es_inn = inn\n              let newCommandJson = commandJson\n              newCommandJson.variables.mailBody.value = JSON.stringify(newMailBody)\n              props.setEsInn(inn)\n              props.setEsUserFullName(fullName)\n              props.setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1))\n              handleCloseModalEnterPin()\n              console.log(\"SIGNED CJ\", newCommandJson)\n              props.sendFieldValues(newCommandJson)\n              props.clearTabData(process_id)\n              return plugin.sign(rutokenHandle, certHandle, \"textToSign\", plugin.DATA_FORMAT_PLAIN, options);\n            } else {\n              alert(\"Сертификат на Рутокен не обнаружен\")\n            }\n          })\n          // Закрытие сессии\n          .then(function () {\n            plugin.logout(rutokenHandle)\n          }, handleError)\n      }\n      else { swAllert(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\") }\n    }\n    catch (er) {\n      console.log(\"Rutoken ERR\")\n    }\n  }\n  // Documents attached to mail\n  function convertBase64ToFile(dataurl, fileName) {\n    var arr = dataurl.split(','),\n      mime = arr[0].match(/:(.*?);/)[1],\n      bstr = atob(arr[1]),\n      n = bstr.length,\n      u8arr = new Uint8Array(n)\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n)\n    }\n    let convFile = new File([u8arr], fileName, { type: mime })\n    handleAttachSavedFile(convFile)\n    console.log(\"CONV FILE\", convFile)\n  }\n  function handleAttachSavedFile(file) {\n    // console.log(\"FILE\", file)\n    if (file.type === \"application/pdf\" || file.type === \"application/msword\" ||\n      file.type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" ||\n      file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\") {\n      savedDocs.push(file)\n      setSavedDocs(savedDocs)\n    }\n    else {\n      savedImagesFiles.push(file)\n      setSavedImagesFiles(savedImagesFiles)\n      pushSavedImage(file)\n    }\n    // setUpdateState(getUUID())\n  }\n  async function pushSavedImage(f) {\n    let reader = new FileReader()\n    reader.onload = async function (e) {\n      // push new images to list and show in UI\n      let image = { item: <img name={f.name} height=\"150\" width=\"auto\" src={e.target.result} onClick={() => savedImgClick(f.name)} /> }\n      savedImgs.push(image)\n      // console.log(\"IMGLIST\", savedImgs)\n      setSavedImgs(savedImgs)\n      setUpdateState(getUUID())\n    }\n    reader.readAsDataURL(f)\n  }\n  async function savedImgClick(name) {\n    for (let l = 0; l < savedImgs.length; l++) {\n      if (savedImgs[l].item.props.name === name) {\n        console.log(\"IMG\", savedImgs[l])\n        setSelectedImg({\n          name: savedImgs[l].item.props.name,\n          height: \"700\",\n          width: \"auto\",\n          src: savedImgs[l].item.props.src\n        })\n      }\n    }\n    handleOpenModal()\n    let newId = getUUID()\n    setUpdateState(newId)\n  }\n  const handleOpenModal = () => {\n    setOpenModal(true)\n  }\n  const handleCloseModal = () => {\n    setOpenModal(false)\n  }\n  const openMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  }\n  const closeMenuClick = () => {\n    setAnchorEl(null)\n  }\n\n  function handleChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value\n    setFieldValue(fieldValue)\n    console.log(\"FIELDVALUE\", fieldValue)\n  }\n  // random UUID generator\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\")\n    return uuidv1()\n  }\n  // random numbers generator\n  function keyGen(length) {\n    var password = generator.generate({\n      length: length,\n      numbers: true\n    })\n    return password\n  }\n  function swAllert(text, icon) {\n    return (\n      swal({\n        text: text,\n        icon: icon,\n        buttons: { ok: \"Ок\" },\n      })\n    )\n  }\n  function getEmail(id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === \"partners\") {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].email\n          }\n        }\n      }\n    }\n  }\n  async function buttonClick(name, item) {\n    if (name === \"send\") {\n      if (selectedPartners.length === 0) {\n        swAllert(\"Выберите как минимум одного получателя!\", \"warning\")\n      }\n      else {\n        sendMails()\n\n        // Get sender id by userId in users\n        // let senderId = null\n        // for (let e = 0; e < enumData.length; e++) {\n        //   if (enumData[e].name === \"users\") {\n        //     for (let d = 0; d < enumData[e].data.length; d++) {\n        //       if (enumData[e].data[d].user_id === userProfile.userId) {\n        //         senderId = enumData[e].data[d].id\n        //       }\n        //     }\n        //   }\n        // }\n\n        // Create Mail Body for local notifications\n        let files_dir = getUUID()\n        // let lostRecipients = []\n        let mailBody = {\n          mails: {\n            type: messageType,\n            subject: fieldValue.subject,\n            body: fieldValue.body,\n            files_directory: files_dir,\n            status: 3,\n            // sender: senderId,\n            sender: parseInt(userProfile.partner),\n            es_date: null,\n            es_full_name: null,\n            es_inn: null\n          },\n          mail_distributions: []\n        }\n        \n        // Push recipient of local system mail\n        for (let s = 0; s < selectedPartners.length; s++) {\n          // let recipientId = getRecipientId(selectedPartners[s])\n          // if (recipientId !== null) {\n            let newDistribution = {\n              // sender: senderId,\n              sender: parseInt(userProfile.partner),\n              sender_status: 3,\n              recipient_status: 1,\n              // recipient: recipientId\n              recipient: selectedPartners[s]\n            }\n            mailBody.mail_distributions.push(newDistribution)\n          // }\n          console.log(\"mailBody\", mailBody)\n        }\n        // Files attached to mail\n        let blobs = []\n        for (let f = 0; f < files.length; f++) {\n          for (let b = 0; b < Blobs.length; b++) {\n            if (files[f].name === Blobs[b].name) {\n              // console.log(\"MATCH\", files[f].name, Blobs[b])\n              blobs.push(Blobs[b])\n            }\n          }\n        }\n        const commandJson =\n        {\n          commandType: \"sendMails\",\n          process_id: process_id,\n          session_id: session_id,\n          taskID: taskID,\n          directory: files_dir,\n          blobs: blobs,\n          variables: {\n            userAction: { value: \"sendMail\" },\n            mailBody: { value: JSON.stringify(mailBody) }\n          }\n        }\n        // console.log(\"button sendMail: \", commandJson)\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (name === \"sendWithES\") {\n      if (selectedPartners.length === 0) {\n        swAllert(\"Выберите как минимум одного получателя!\", \"warning\")\n      }\n      else {\n        // // Get sender id by userId in users\n        // let senderId = null\n        // for (let e = 0; e < enumData.length; e++) {\n        //   if (enumData[e].name === \"users\") {\n        //     for (let d = 0; d < enumData[e].data.length; d++) {\n        //       if (enumData[e].data[d].user_id === userProfile.userId) {\n        //         senderId = enumData[e].data[d].id\n        //       }\n        //     }\n        //   }\n        // }\n        // Create Mail Body for local notifications\n        let files_dir = getUUID()\n        // let lostRecipients = []\n        let mailBody = {\n          mails: {\n            type: messageType,\n            subject: fieldValue.subject,\n            body: fieldValue.body,\n            files_directory: files_dir,\n            status: 3,\n            // sender: senderId,\n            sender: parseInt(userProfile.partner),\n            es_date: moment(new Date()).format(),\n            es_full_name: props.esFullName,\n            es_inn: props.esInn\n          },\n          mail_distributions: []\n        }\n        console.log(\"mailBody\", mailBody)\n        // Push recipient of local system mail\n        for (let s = 0; s < selectedPartners.length; s++) {\n          // let recipientId = getRecipientId(selectedPartners[s])\n          // if (recipientId !== null) {\n            let newDistribution = {\n              // sender: senderId,\n              sender: parseInt(userProfile.partner),\n              sender_status: 3,\n              recipient_status: 1,\n              // recipient: recipientId\n              recipient: selectedPartners[s]\n            }\n            mailBody.mail_distributions.push(newDistribution)\n          // }\n        }\n        // Files attached to mail\n        let blobs = []\n        for (let f = 0; f < files.length; f++) {\n          for (let b = 0; b < Blobs.length; b++) {\n            if (files[f].name === Blobs[b].name) {\n              console.log(\"MATCH\", files[f].name, Blobs[b])\n              blobs.push(Blobs[b])\n            }\n          }\n        }\n        const commandJson =\n        {\n          commandType: \"sendMails\",\n          process_id: process_id,\n          session_id: session_id,\n          taskID: taskID,\n          directory: files_dir,\n          blobs: blobs,\n          variables: {\n            userAction: { value: \"sendMail\" },\n            mailBody: { value: JSON.stringify(mailBody) }\n          }\n        }\n        console.log(\"button sendMail: \", commandJson)\n        if (props.esInn !== null) {\n          sendMails()\n          props.sendFieldValues(commandJson)\n          props.clearTabData(process_id)\n        }\n        else {\n          sign(commandJson)\n        }\n      }\n    }\n    else if (name === \"showReport\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"showReport\" },\n          reportName: { value: \"Message_alert\" },\n          reportVars: { value: \"?id=\" + selectedDoc.mail_id },\n        }\n      }\n      console.log(\"button showReport:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (name === \"back\") {\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"back\" },\n        }\n      }\n      console.log(\"button back:\", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n  }\n  async function sendMails() {\n    // Create FormData\n    let formData = new FormData()\n    formData.append(\"subject\", fieldValue[\"subject\"])\n    formData.append(\"body\", fieldValue[\"body\"])\n    for (let i = 0; i < files.length; i++) {\n      formData.append('attachments', files[i], files[i].name)\n    }\n    for (let p = 0; p < selectedPartners.length; p++) {\n      formData.append(\"toEmail\", getEmail(selectedPartners[p]))\n      await fetch(\n        props.api + \"/Mail/SendMail\",\n        {\n          mode: 'no-cors',\n          method: 'POST',\n          body: formData\n        }\n      )\n        .then(response => {\n          console.log(\"RES SEND MAIL\", response)\n        })\n        .catch(error => console.error(error))\n    }\n  }\n  function getRecipientId(partner) {\n    console.log(\"Partner ID\", partner)\n    let recipientId = null\n    for (let e = 0; e < enumData.length; e++) {\n      if (enumData[e].name === \"users\") {\n        for (let d = 0; d < enumData[e].data.length; d++) {\n          let parsedAttr = JSON.parse(enumData[e].data[d].attributes)\n          if (partner === parseInt(parsedAttr[\"partner\"])) {\n            recipientId = enumData[e].data[d].id\n          }\n        }\n      }\n    }\n    console.log(\"RES ID\", recipientId)\n    return recipientId\n  }\n  // Pagination functions\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1)\n      fetchBySize(0, size - 1, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1\n      setPage(prevPage)\n      let fetchFrom = ((prevPage - 1) * size) //10\n      let fetchTo = (size * prevPage) - 1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\")\n      setShowSnackBar(true)\n    }\n    else {\n      setPage(page + 1)\n      let fetchFrom = (size * page)\n      let fetchTo = ((page + 1) * size) - 1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n\n  }\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value)\n    setPage(1)\n    fetchBySize(0, event.target.value - 1, filteredDocList)\n  }\n  function GoToPage() {\n    let fetchFrom = (page * size - 1) - size\n    let fetchTo = page * size - 1\n    fetchBySize(fetchFrom, fetchTo, filteredDocList)\n  }\n  function handlePageChange(event) {\n    setPage(event.target.value)\n  }\n  function getPageAmount() {\n    let pagesFloat = (filteredDocList.length) / size\n    let mathRoundOfPages = Math.round(pagesFloat)\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1\n    }\n    else {\n      return mathRoundOfPages\n    }\n  }\n  function handleCloseSnackBar() {\n    setShowSnackBar(false)\n  }\n  // get rows amount of filtered docs by size\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    let newDocList = []\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i])\n      }\n    }\n    setDocList(newDocList)\n    setUpdateState(getUUID())\n  }\n  // Convert date to approptiate format\n  function beautifyDate(date) {\n    try {\n      var newDate = new Date(date) // \"2020-01-26\"\n      var dd = String(newDate.getDate()).padStart(2, '0')\n      var mm = String(newDate.getMonth() + 1).padStart(2, '0') //January is 0!\n      var yyyy = newDate.getFullYear()\n      let beautyDate = \"\"\n      if (parseInt(dd) < 10) {\n        let shortdd = dd.substring(1, 2)\n        dd = shortdd + \" \"\n      }\n      else { beautyDate += dd }\n      switch (mm) {\n        case \"01\": {\n          mm = \"янв.\"\n          break\n        }\n        case \"02\": {\n          mm = \"февр.\"\n          break\n        }\n        case \"03\": {\n          mm = \"мар.\"\n          break\n        }\n        case \"04\": {\n          mm = \"апр.\"\n          break\n        }\n        case \"05\": {\n          mm = \"мая\"\n          break\n        }\n        case \"06\": {\n          mm = \"июня\"\n          break\n        }\n        case \"07\": {\n          mm = \"июля\"\n          break\n        }\n        case \"08\": {\n          mm = \"авг.\"\n          break\n        }\n        case \"09\": {\n          mm = \"сент.\"\n          break\n        }\n        case \"10\": {\n          mm = \"окт.\"\n          break\n        }\n        case \"11\": {\n          mm = \"ноя.\"\n          break\n        }\n        case \"12\": {\n          mm = \"дек.\"\n          break\n        }\n        default: {\n          break\n        }\n      }\n      beautyDate += \" \" + mm + \" \" + yyyy.toString().substring(2, 4) + \"г.\"\n      // console.log(\"beautyDate\", beautyDate)\n      return beautyDate\n    }\n    catch (er) {\n      return \"NaN.NaN.NaN\"\n    }\n  }\n  // multiple selector functions\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  }\n  const handleAllRight = () => {\n    if (partnersSearchField === \"\") {\n      setSelectedPartners(selectedPartners.concat(partners))\n      setPartners([])\n    }\n    else {\n      let filteredSelectedPartners = []\n      let filteredPartners = []\n      for (let p = 0; p < partners.length; p++) {\n        let searchField = partnersSearchField.toLowerCase()\n        let listItemLabel = getPartnerName(partners[p]).toLowerCase()\n        let includeSearch = listItemLabel.includes(searchField)\n        if (includeSearch === true) {\n          filteredSelectedPartners.push(partners[p])\n        }\n        else {\n          filteredPartners.push(partners[p])\n        }\n      }\n      setSelectedPartners(filteredSelectedPartners.concat(selectedPartners))\n      setPartners(filteredPartners)\n    }\n  }\n  const handleCheckedRight = () => {\n    setSelectedPartners(selectedPartners.concat(leftChecked));\n    setPartners(not(partners, leftChecked));\n    setChecked(not(checked, leftChecked));\n  }\n  const handleCheckedLeft = () => {\n    setPartners(partners.concat(rightChecked));\n    setSelectedPartners(not(selectedPartners, rightChecked));\n    setChecked(not(checked, rightChecked));\n  }\n  const handleAllLeft = () => {\n    if (selectedPartnersSearchField === \"\") {\n      setPartners(partners.concat(selectedPartners))\n      setSelectedPartners([])\n    }\n    else {\n      let filteredPartners = []\n      let filteredSelectedPartners = []\n      for (let p = 0; p < selectedPartners.length; p++) {\n        let searchField = selectedPartnersSearchField.toLowerCase()\n        let listItemLabel = getPartnerName(selectedPartners[p]).toLowerCase()\n        let includeSearch = listItemLabel.includes(searchField)\n        if (includeSearch === true) {\n          filteredPartners.push(selectedPartners[p])\n        }\n        else {\n          filteredSelectedPartners.push(selectedPartners[p])\n        }\n      }\n      setSelectedPartners(filteredSelectedPartners)\n      setPartners(filteredPartners.concat(partners))\n    }\n  }\n  const partnersList = (items) => (\n    <Paper className={classes.paper}>\n      <List dense component=\"div\" role=\"list\">\n        {items.map((value) => {\n          const labelId = `transfer-list-item-${value}-label`;\n          if (partnersSearchField === \"\") {\n            return (\n              <ListItem key={value} role=\"listitem\" button onClick={handleToggle(value)}>\n                <Checkbox\n                  checked={checked.indexOf(value) !== -1}\n                  tabIndex={-1}\n                  disableRipple\n                  inputProps={{ 'aria-labelledby': labelId }}\n                />\n                <ListItemText id={labelId} primary={getPartnerName(value)} />\n              </ListItem>\n            )\n          }\n          else {\n            let searchField = partnersSearchField.toLowerCase()\n            let listItemLabel = getPartnerName(value).toLowerCase()\n            let includeSearch = listItemLabel.includes(searchField)\n            if (includeSearch === true) {\n              return (\n                <ListItem key={value} role=\"listitem\" button onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={checked.indexOf(value) !== -1}\n                    tabIndex={-1}\n                    disableRipple\n                    inputProps={{ 'aria-labelledby': labelId }}\n                  />\n                  <ListItemText id={labelId} primary={getPartnerName(value)} />\n                </ListItem>\n              )\n            }\n          }\n\n        })}\n        <ListItem />\n      </List>\n    </Paper>\n  )\n  function partnersSearchFieldChange(event) {\n    setPartnersSearchField(event.target.value)\n    setFocusField(\"partnersSearhField\")\n  }\n  const selectedPartnersList = (items) => (\n    <Paper className={classes.paper}>\n      <List dense component=\"div\" role=\"list\">\n        {items.map((value) => {\n          const labelId = `transfer-list-item-${value}-label`;\n          if (selectedPartnersSearchField === \"\") {\n            return (\n              <ListItem key={value} role=\"listitem\" button onClick={handleToggle(value)}>\n                <Checkbox\n                  checked={checked.indexOf(value) !== -1}\n                  tabIndex={-1}\n                  disableRipple\n                  inputProps={{ 'aria-labelledby': labelId }}\n                />\n                <ListItemText id={labelId} primary={getPartnerName(value)} />\n              </ListItem>\n            )\n          }\n          else {\n            let searchField = selectedPartnersSearchField.toLowerCase()\n            let listItemLabel = getPartnerName(value).toLowerCase()\n            let includeSearch = listItemLabel.includes(searchField)\n            if (includeSearch === true) {\n              return (\n                <ListItem key={value} role=\"listitem\" button onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={checked.indexOf(value) !== -1}\n                    tabIndex={-1}\n                    disableRipple\n                    inputProps={{ 'aria-labelledby': labelId }}\n                  />\n                  <ListItemText id={labelId} primary={getPartnerName(value)} />\n                </ListItem>\n              )\n            }\n          }\n\n        })}\n        <ListItem />\n      </List>\n    </Paper>\n  )\n  function selectedPartnersSearchFieldChange(event) {\n    setSelectedPartnersSearchField(event.target.value)\n    setFocusField(\"selectedPartnersSearhField\")\n  }\n  function getPartnerName(id) {\n    for (let i = 0; i < props.userTask.enumData.length; i++) {\n      if (props.userTask.enumData[i].name === \"partners\") {\n        for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n          if (props.userTask.enumData[i].data[d].id === id) {\n            return props.userTask.enumData[i].data[d].label\n            break\n          }\n        }\n      }\n    }\n  }\n  const writeMessgeClick = (type) => {\n    setMessageType(type)\n    setAnchorEl(null)\n    setWriteMessage(true)\n  }\n  const handleSelectAllMessagesChange = (event) => {\n    setAllMessagesSelected(event.target.checked)\n    for (let i = 0; i < filteredDocList.length; i++) {\n      selectedMessages[filteredDocList[i].mail_id] = event.target.checked\n    }\n    setSelectedMessages(selectedMessages)\n  }\n  const handleSelectMessage = (event) => {\n    console.log(\"Check MESS\", event.target.id, \"CH \", event.target.checked)\n    setSelectedMessages({ ...selectedMessages, [event.target.id]: event.target.checked })\n  }\n  // file attachment functions\n  function handleAttachFile(e) {\n    let selectedFiles = e.target.files\n    if (selectedFiles && selectedFiles[0]) {\n      for (let i = 0; i < selectedFiles.length; i++) {\n        files.push(selectedFiles[i])\n        pushNewBlob(selectedFiles[i])\n      }\n      setFiles(files)\n    }\n    setUpdateState(getUUID())\n    console.log(\"FILES\", files)\n  }\n  // attached documents\n  async function pushNewBlob(f) {\n    // console.log(\"WRITING BLOBS\")\n    let docUrl = URL.createObjectURL(f)\n    fetch(docUrl)\n      .then(res => res.blob())\n      .then(blob => {\n        // blob.name = f.name\n        var blobToBase64 = function (f, cb) {\n          let reader = new FileReader()\n          reader.onload = function () {\n            // converts blob to base64\n            var dataUrl = reader.result\n            var base64 = dataUrl.split(\",\")[1]\n            cb(base64)\n          }\n          reader.readAsDataURL(f)\n        }\n        blobToBase64(f, async function (base64) {\n          // encode blobs to send to socket\n          let newBlob = { \"name\": f.name, \"blob\": base64, \"size\": f.size }\n          Blobs.push(newBlob)\n          setBlobs(Blobs)\n          // console.log(\"BLOBS\", Blobs)\n        })\n      })\n  }\n  function deleteFile(name) {\n    let newFilesList = []\n    for (let i = 0; i < files.length; i++) {\n      if (name !== files[i].name) {\n        newFilesList.push(files[i])\n      }\n    }\n    setFiles(newFilesList)\n    console.log(\"FILES\", newFilesList)\n  }\n  function filesList() {\n    let selFilesList = []\n    for (let i = 0; i < files.length; i++) {\n      selFilesList.push(\n        <Card style={{ margin: 3, backgroundColor: \"#E2E2E2\", paddingLeft: 20 }}>\n          <table>\n            <tr minWidth=\"500px\">\n              <td style={{ color: \"#1B2CE8\", fontWeight: \"bold\", width: \"95%\" }}>\n                {files[i].name + \" \"}{\"(\" + Math.round(files[i].size / 1000) + \")\" + \"КБ\"}\n              </td>\n              <td align=\"right\">\n                <IconButton>\n                  <CloseIcon style={{ fontSize: \"medium\", color: \"black\" }} onClick={() => deleteFile(files[i].name)} />\n                </IconButton>\n              </td>\n            </tr>\n          </table>\n        </Card>)\n      console.log(\"FILE\", files[i])\n    }\n    return (selFilesList)\n  }\n  function handleSearchChange(event) {\n    setSearchFieldValue(event.target.value)\n    console.log(\"FIELDVALUE\", event.target.value)\n  }\n  function handleClickSearch() {\n    console.log(\"SEARCH\", searchFieldValue, clickedMessagesType, filteredDocList)\n    if (searchFieldValue === \"\") {\n      if (clickedMessagesType === \"inbox\") {\n        handleInboxMessagesClick()\n      }\n      else if (clickedMessagesType === \"sent\") {\n        handleSentMessagesClick()\n      }\n      else if (clickedMessagesType === \"trash\") {\n        handleTrashMessagesClick()\n      }\n    }\n    else {\n      let newDocList = []\n      if (clickedMessagesType === \"inbox\") {\n        for (let i = 0; i < initialDocList.recipient.length; i++) {\n          if (initialDocList.recipient[i].recipient_status === 1 || initialDocList.recipient[i].recipient_status === 2) {\n            try {\n              let subject = initialDocList.recipient[i].subject.toLowerCase()\n              let body = initialDocList.recipient[i].body.toLowerCase()\n              let searchField = searchFieldValue.toLowerCase()\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.recipient[i].subject, initialDocList.recipient[i].body)\n                newDocList.push(initialDocList.recipient[i])\n              }\n            }\n            catch (er) { console.log(er) }\n          }\n        }\n      }\n      else if (clickedMessagesType === \"sent\") {\n        for (let i = 0; i < initialDocList.sender.length; i++) {\n          if (initialDocList.sender[i].sender_status === 3) {\n            try {\n              let subject = initialDocList.sender[i].subject.toLowerCase()\n              let body = initialDocList.sender[i].body.toLowerCase()\n              let searchField = searchFieldValue.toLowerCase()\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.sender[i].subject, initialDocList.sender[i].body)\n                newDocList.push(initialDocList.sender[i])\n              }\n            }\n            catch (er) { console.log(er) }\n          }\n        }\n      }\n      else if (clickedMessagesType === \"trash\") {\n        for (let i = 0; i < initialDocList.sender.length; i++) {\n          if (initialDocList.sender[i].sender_status === 4) {\n            try {\n              let subject = initialDocList.sender[i].subject.toLowerCase()\n              let body = initialDocList.sender[i].body.toLowerCase()\n              let searchField = searchFieldValue.toLowerCase()\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.sender[i].subject, initialDocList.sender[i].body)\n                newDocList.push(initialDocList.sender[i])\n              }\n            }\n            catch (er) { console.log(er) }\n          }\n        }\n        for (let i = 0; i < initialDocList.recipient.length; i++) {\n          if (initialDocList.recipient[i].recipient_status === 4) {\n            try {\n              let subject = initialDocList.recipient[i].subject.toLowerCase()\n              let body = initialDocList.recipient[i].body.toLowerCase()\n              let searchField = searchFieldValue.toLowerCase()\n              if (subject.includes(searchField) || body.includes(searchField)) {\n                // console.log(\"FIND\", initialDocList.recipient[i].subject, initialDocList.recipient[i].body)\n                newDocList.push(initialDocList.recipient[i])\n              }\n            }\n            catch (er) { console.log(er) }\n          }\n        }\n      }\n\n      fetchBySize(0, 9, newDocList)\n      setFilteredDocList(newDocList)\n    }\n\n  }\n  function handleInboxMessagesClick() {\n    setClickedMessagesType(\"inbox\")\n    setAllMessagesSelected(false)\n    let filteredDocL = []\n    for (let i = 0; i < initialDocList.recipient.length; i++) {\n      if (initialDocList.recipient[i].recipient_status === 1 || initialDocList.recipient[i].recipient_status === 2) {\n        filteredDocL.push(initialDocList.recipient[i])\n      }\n    }\n    fetchBySize(0, 9, filteredDocL)\n    setFilteredDocList(filteredDocL)\n    console.log(\"INBOX\")\n  }\n  function handleSentMessagesClick() {\n    setClickedMessagesType(\"sent\")\n    setAllMessagesSelected(false)\n    let filteredDocL = []\n    for (let i = 0; i < initialDocList.sender.length; i++) {\n      if (initialDocList.sender[i].sender_status === 3) {\n        filteredDocL.push(initialDocList.sender[i])\n      }\n    }\n    fetchBySize(0, 9, filteredDocL)\n    setFilteredDocList(filteredDocL)\n    console.log(\"SENT\")\n  }\n  function handleTrashMessagesClick() {\n    setClickedMessagesType(\"trash\")\n    setAllMessagesSelected(false)\n    let filteredDocL = []\n    for (let i = 0; i < initialDocList.recipient.length; i++) {\n      if (initialDocList.recipient[i].recipient_status === 4) {\n        filteredDocL.push(initialDocList.recipient[i])\n      }\n    }\n    for (let i = 0; i < initialDocList.sender.length; i++) {\n      if (initialDocList.sender[i].sender_status === 4) {\n        filteredDocL.push(initialDocList.sender[i])\n      }\n    }\n    fetchBySize(0, 9, filteredDocL)\n    setFilteredDocList(filteredDocL)\n    console.log(\"TRASH\")\n  }\n  function getSenderName(sender) {\n    // console.log(\"enumData\", enumData)\n    for (let e = 0; e < enumData.length; e++) {\n      if (enumData[e].name === \"partners\") {\n        for (let d = 0; d < enumData[e].data.length; d++) {\n          if (enumData[e].data[d].id === sender) {\n            return enumData[e].data[d].label\n          }\n        }\n      }\n    }\n    // for (let e = 0; e < enumData.length; e++) {\n    //   if (enumData[e].name === \"users\") {\n    //     for (let d = 0; d < enumData[e].data.length; d++) {\n    //       if (enumData[e].data[d].id === sender) {\n    //         return enumData[e].data[d].firstname + \" \" + enumData[e].data[d].lastname\n    //       }\n    //     }\n    //   }\n    // }\n  }\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === name) {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].label\n          }\n        }\n      }\n    }\n  }\n  function getBackround(status) {\n    if (status === 1) {// message is unread\n      return \"#FFDCA5\"\n    }\n    else {\n      return \"#F0F1F1\"\n    }\n  }\n  function getFontWeight(status) {\n    if (status === 1) {\n      return \"bold\"\n    }\n    else {\n      return \"nornal\"\n    }\n  }\n  function checkToShowDeleteButton() {\n    let showButton = false\n    if (Object.keys(selectedMessages).length > 0) {\n      for (let key in selectedMessages) {\n        if (selectedMessages[key] === true) {\n          showButton = true\n          break\n        }\n      }\n    }\n    return showButton\n  }\n  function openMessage(message) {\n    if (clickedMessagesType === \"inbox\") {\n      // let user_id = null\n      // for (let e = 0; e < enumData.length; e++) {\n      //   if (enumData[e].name === \"users\") {\n      //     for (let d = 0; d < enumData[e].data.length; d++) {\n      //       if (enumData[e].data[d].user_id === userProfile.userId) {\n      //         user_id = enumData[e].data[d].id\n      //       }\n      //     }\n      //   }\n      // }\n      let mailDistrBody = {\n        id: message.distribution_id,\n        mail_id: message.mail_id,\n        sender: message.sender,\n        recipient: message.recipient,\n        recipient_status: 2,\n        created_at: message.created_at,\n        updated_at: message.updated_at\n      }\n      // let unreadDistributionsBody = {\n      //   variables: {\n      //     user_session_id: { value: session_id },\n      //     userAction: { value: \"getUnreadDistributions\" },\n      //     // depoRESTApi: { value: \"\" },\n      //     user_id_recipient: { value: message.recipient }\n      //   }\n      // }\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"openMailDistribution\" },\n          mailDistrBody: { value: JSON.stringify(mailDistrBody) },\n          selectedDoc: { value: JSON.stringify(message) },\n          // unreadDistributionsBody: { value: JSON.stringify(unreadDistributionsBody) }\n        }\n      }\n      console.log(\"button openMail: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n      props.reduceMailDistributions()\n    }\n    else {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"openMail\" },\n          selectedDoc: { value: JSON.stringify(message) },\n        }\n      }\n      console.log(\"button openMail: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n  }\n  function deleteMessages() {\n    console.log(\"LISTS\", selectedMessages, docList)\n    if (clickedMessagesType === \"inbox\") {\n      let mailDistrList = []\n      for (let d = 0; d < docList.length; d++) {\n        for (let key in selectedMessages) {\n          if (selectedMessages[key] === true) {\n            if (docList[d].mail_id === parseInt(key)) {\n              let mailToDelete = {\n                id: docList[d].distribution_id,\n                sender: docList[d].sender,\n                recipient: docList[d].recipient,\n                recipient_status: 4,\n                mail_id: docList[d].mail_id,\n                created_at: docList[d].created_at,\n                updated_at: docList[d].updated_at\n              }\n              mailDistrList.push(mailToDelete)\n              console.log(\"DEL\", mailToDelete)\n            }\n          }\n        }\n      }\n      let unreadDistributionsBody = {\n        variables: {\n          user_session_id: { value: session_id },\n          userAction: { value: \"getUnreadDistributions\" },\n          depoRESTApi: { value: \"\" },\n          user_id_recipient: { value: docList[0].recipient }\n        }\n      }\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"putMailsToTrash\" },\n          mailDistrList: { value: JSON.stringify(mailDistrList) },\n          mailList: { value: \"[]\" },\n          unreadDistributionsBody: { value: JSON.stringify(unreadDistributionsBody) }\n        }\n      }\n      console.log(\"button putInboxMailsToTrash: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n      props.reduceMailDistributions()\n    }\n    else if (clickedMessagesType === \"sent\") {\n      let mailList = []\n      for (let d = 0; d < docList.length; d++) {\n        for (let key in selectedMessages) {\n          if (selectedMessages[key] === true) {\n            if (docList[d].mail_id === parseInt(key)) {\n              let mailToDelete = {\n                id: docList[d].mail_id,\n                sender: docList[d].sender,\n                subject: docList[d].subject,\n                body: docList[d].body,\n                status: 4,\n                files_directory: docList[d].files_directory,\n                created_at: docList[d].created_at,\n                updated_at: docList[d].updated_at\n              }\n              mailList.push(mailToDelete)\n              console.log(\"DEL\", mailToDelete)\n            }\n          }\n        }\n      }\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"putMailsToTrash\" },\n          mailDistrList: { value: \"[]\" },\n          mailList: { value: JSON.stringify(mailList) }\n        }\n      }\n      console.log(\"button putSentMailsToTrash: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (clickedMessagesType === \"trash\") {\n      swal({\n        text: \"Вы действительно хотите удалить сообщения безвозвратно?\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            let mailList = []\n            let mailDistrList = []\n            for (let key in selectedMessages) {\n              if (selectedMessages[key] === true) {\n                console.log(\"TRUE?\", key, selectedMessages[key])\n                for (let d = 0; d < docList.length; d++) {\n                  if (docList[d].mail_id === parseInt(key)) {\n                    console.log(\"DEL\", docList[d].subject)\n                    // I'm sender of mail\n                    // if (docList[d].sender === idFromUsers) {\n                    if (docList[d].sender === parseInt(userProfile.partner)) {\n                      console.log(\"IM SENDER\", docList[d].mail_id)\n                      let mailToDelete = {\n                        id: docList[d].mail_id,\n                        sender: docList[d].sender,\n                        subject: docList[d].subject,\n                        body: docList[d].body,\n                        status: 5,\n                        files_directory: docList[d].files_directory,\n                        created_at: docList[d].created_at,\n                        updated_at: docList[d].updated_at,\n                        deleted: true\n                      }\n                      mailList.push(mailToDelete)\n                    }\n                    // i'm recipient of mail\n                    else {\n                      console.log(\"IM RECIPIENT\", docList[d].mail_id)\n                      let mailToDelete = {\n                        id: docList[d].distribution_id,\n                        sender: docList[d].sender,\n                        recipient: docList[d].recipient,\n                        recipient_status: 5,\n                        mail_id: docList[d].mail_id,\n                        created_at: docList[d].created_at,\n                        updated_at: docList[d].updated_at,\n                        deleted: true\n                      }\n                      mailDistrList.push(mailToDelete)\n                    }\n                  }\n                }\n              }\n            }\n            let unreadDistributionsBody = {\n              variables: {\n                user_session_id: { value: session_id },\n                userAction: { value: \"getUnreadDistributions\" },\n                depoRESTApi: { value: \"\" },\n                user_id_recipient: { value: docList[0].recipient }\n              }\n            }\n            let commandJson =\n            {\n              commandType: \"completeTask\",\n              process_id: process_id,\n              session_id: session_id,\n              taskID: taskID,\n              variables: {\n                userAction: { value: \"putMailsToTrash\" },\n                mailDistrList: { value: JSON.stringify(mailDistrList) },\n                mailList: { value: JSON.stringify(mailList) },\n                unreadDistributionsBody: { value: JSON.stringify(unreadDistributionsBody) }\n              }\n            }\n            console.log(\"button deleteMails: \", commandJson)\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n            // console.log(\"mailList\", mailList)\n            // console.log(\"mailDistrList\", mailDistrList)\n          }\n        })\n    }\n  }\n  function savedDocsList() {\n    console.log(\"SAVEDOCS\", savedDocs)\n    let savedDocsList = []\n    for (let i = 0; i < savedDocs.length; i++) {\n      savedDocsList.push(\n        <Card style={{ margin: 3, backgroundColor: \"#E2E2E2\", paddingLeft: 20, minWidth: \"500px\" }}>\n          <table>\n            <tr>\n              <td style={{ color: \"#1B2CE8\", fontWeight: \"bold\", width: \"95%\" }}>\n                {savedDocs[i].name + \" \"}{\"(\" + Math.round(savedDocs[i].size / 1000) + \")\" + \"КБ\"}\n              </td>\n              <td>\n                <IconButton\n                  component=\"a\"\n                  href={URL.createObjectURL(savedDocs[i])}\n                  download={savedDocs[i].name}\n                >\n                  <GetAppIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                </IconButton>\n              </td>\n            </tr>\n          </table>\n        </Card>)\n      // console.log(\"FILE\", savedDocs[i])\n    }\n    return (savedDocsList)\n  }\n  function savedImgsList() {\n    var imgs = []\n    for (let l = 0; l < savedImgs.length; l++) {\n      let blob = converFileToBlob(savedImgs[l].item.props.src)\n      imgs.push(\n        <TableBody>\n          <TableRow>\n            <TableCell>\n              {savedImgs[l].item}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"center\">\n              <IconButton\n                component=\"a\"\n                href={URL.createObjectURL(blob)}\n                download={savedImgs[l].item.props.name}\n              >\n                <GetAppIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n              </IconButton>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      )\n    }\n    if (Object.keys(imgs).length !== 0) {\n      return (\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"flex-start\">\n          {imgs}\n        </Grid>\n      )\n    }\n  }\n  function converFileToBlob(src) {\n    var byteString = atob(src.split(',')[1])\n    var ab = new ArrayBuffer(byteString.length)\n    var ia = new Uint8Array(ab)\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i)\n    }\n    return new Blob([ab], { type: 'image/jpeg' })\n  }\n  function getMenuItemStyle(name) {\n    if (name === clickedMessagesType) {\n      return {\n        background: \"#F0F1F1\",\n        color: \"black\",\n        fontWeight: \"bold\"\n      }\n    }\n  }\n  function onKeyPressModalEnterPin(event) {\n    let code = event.charCode\n    if (code === 13) {\n      buttonClick(\"sendWithES\")\n    }\n  }\n  if (updateState !== null) {\n    try {\n      if (taskType === \"corporativeActionsMainForm\") {\n        if (writeMessage === false) {\n          return (\n            <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"flex-start\" spacing={1}>\n              <Grid item xs={3}>\n                <Paper>\n                  <MenuList>\n                    <MenuItem onClick={() => handleInboxMessagesClick()} style={getMenuItemStyle(\"inbox\")}>\n                      <ListItemIcon>\n                        <MailOutlineIcon fontSize=\"small\" style={getMenuItemStyle(\"inbox\")} />\n                      </ListItemIcon>\n                      <Typography variant=\"inherit\">Входящие</Typography>\n                    </MenuItem>\n                    <MenuItem onClick={() => handleSentMessagesClick()} style={getMenuItemStyle(\"sent\")}>\n                      <ListItemIcon>\n                        <SendIcon fontSize=\"small\" style={getMenuItemStyle(\"sent\")} />\n                      </ListItemIcon>\n                      <Typography variant=\"inherit\">Отправленные</Typography>\n                    </MenuItem>\n                    <MenuItem onClick={() => handleTrashMessagesClick()} style={getMenuItemStyle(\"trash\")}>\n                      <ListItemIcon>\n                        <DeleteOutlineIcon fontSize=\"small\" style={getMenuItemStyle(\"trash\")} />\n                      </ListItemIcon>\n                      <Typography variant=\"inherit\">Корзина</Typography>\n                    </MenuItem>\n                  </MenuList>\n                </Paper>\n              </Grid>\n              <Grid item xs={9}>\n                <Grid container direction=\"column\" spacing={1}>\n                  <Grid item xs={12} align=\"left\">\n                    <Paper>\n                      <Checkbox\n                        style={{ color: \"green\" }}\n                        onChange={handleSelectAllMessagesChange}\n                        checked={allMessagesSelected === true ? true : false}\n                      />\n                      {checkToShowDeleteButton() === true &&\n                        <IconButton aria-label=\"delete\" size=\"small\">\n                          <DeleteIcon onClick={() => deleteMessages()} />\n                        </IconButton>\n                      }\n                      <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        startIcon={<CreateIcon />}\n                        style={{ margin: 5, color: \"green\", background: \"white\", fontSize: 14 }}\n                        aria-controls={menuId}\n                        aria-haspopup=\"true\"\n                        onClick={openMenuClick}\n                      >\n                        Написать\n                      </Button>\n                      <Menu\n                        id={menuId}\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={Boolean(anchorEl)}\n                        onClose={closeMenuClick}\n                      >\n                        <MenuItem onClick={() => writeMessgeClick(1)}>Извещение</MenuItem>\n                        <MenuItem onClick={() => writeMessgeClick(2)}>Запрос на раскрытие</MenuItem>\n                        <MenuItem onClick={() => writeMessgeClick(3)}>Информационное сообщение</MenuItem>\n                        <MenuItem onClick={() => writeMessgeClick(4)}>Уведомление о КД</MenuItem>\n                      </Menu>\n                      <TextField\n                        size=\"small\"\n                        variant=\"outlined\"\n                        placeholder=\"Поиск в почте\"\n                        style={{ width: \"50%\", paddingLeft: 50, margin: 3 }}\n                        onChange={handleSearchChange}\n                        InputProps={{\n                          endAdornment:\n                            <InputAdornment position=\"end\">\n                              <IconButton\n                                onClick={() => handleClickSearch()}\n                                edge=\"end\"\n                              >\n                                <SearchIcon size=\"small\" />\n                              </IconButton>\n                            </InputAdornment>,\n                        }}\n                      />\n                    </Paper>\n                  </Grid>\n                  <Grid item xs={12} align=\"left\">\n                    <Paper style={{ minHeight: \"76px\", paddingTop: docList === null ? \"25px\" : 0 }}>\n                      {docList !== null ?\n                        <div>\n                          <table class=\"main-table-style\">\n                            <thead class=\"thead-style\">\n                              <tr>\n                                <td class=\"td-head-first-child\"></td>\n                                <td class=\"td-head-style-2row\">Дата</td>\n                                <td class=\"td-head-style-2row\">Тип</td>\n                                <td class=\"td-head-style-2row\">Отправитель</td>\n                                <td class=\"td-head-style-2row\">Заголовок</td>\n                                <td class=\"td-head-last-child\">Содержание</td>\n                              </tr>\n                            </thead>\n                            <tbody class=\"body-style\">\n                              {Object.keys(docList).length !== 0 &&\n                                docList.map(dataItem => (\n                                  <tr\n                                    width=\"100%\"\n                                    style={{\n                                      \"fontSize\": 13,\n                                      \"height\": 30,\n                                      \"background\": clickedMessagesType === \"inbox\" ? getBackround(dataItem.recipient_status) : \"#F0F1F1\",\n                                      \"fontWeight\": clickedMessagesType === \"inbox\" ? getFontWeight(dataItem.recipient_status) : \"normal\",\n                                      \"cursor\": \"pointer\"\n                                    }}\n                                  >\n                                    <td style={{ \"border-bottom\": \"1px solid grey\" }}>\n                                      <Checkbox\n                                        style={{ height: 15, color: \"green\", maxWidth: 25 }}\n                                        id={dataItem.mail_id}\n                                        onChange={handleSelectMessage}\n                                        checked={selectedMessages[dataItem.mail_id] === true ? true : false}\n                                      />\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\" }}\n                                      align=\"center\"\n                                      width={150}\n                                      onClick={() => openMessage(dataItem)}\n                                    >\n                                      {beautifyDate(dataItem.created_at)}\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\" }}\n                                      align=\"center\"\n                                      width={150}\n                                      onClick={() => openMessage(dataItem)}\n                                    >\n                                      {getEnumLabel(\"mailTypes\", dataItem.type)}\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\" }}\n                                      width={150}\n                                      onClick={() => openMessage(dataItem)}\n                                    >\n                                      {getSenderName(dataItem.sender)}\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\" }}\n                                      onClick={() => openMessage(dataItem)}\n                                    >\n                                      {dataItem.subject}\n                                    </td>\n                                    <td\n                                      style={{ \"border-bottom\": \"1px solid grey\", \"white-space\": \"wrap\" }}\n                                      onClick={() => openMessage(dataItem)}\n                                    >\n                                      {dataItem.body.substring(0, 50)}{dataItem.body.length > 50 ? \"...\" : \"\"}\n                                    </td>\n                                  </tr>\n                                )\n                                )}\n                            </tbody>\n                          </table>\n\n                          <table size=\"small\" style={{ \"border-collapse\": \"collapse\", \"white-space\": \"nowrap\", fontSize: 13 }}>\n                            <tfoot>\n                              <tr>\n                                <td style={{ paddingLeft: \"20px\" }}>\n                                  <div style={{ minWidth: 80, color: \"black\" }}>Кол-во записей</div>\n                                </td>\n                                <td>\n                                  <FormControl\n                                    variant=\"outlined\"\n                                    style={{ minWidth: 30 }}\n                                  >\n                                    <MaterialSelect\n                                      onChange={handleChangeRowsPerPage}\n                                      style={{ height: 25, color: \"black\" }}\n                                      value={size}\n                                    >\n                                      <MenuItem value={10}>10</MenuItem>\n                                      <MenuItem value={20}>20</MenuItem>\n                                      <MenuItem value={50}>50</MenuItem>\n                                      <MenuItem value={100}>100</MenuItem>\n                                      <MenuItem value={200}>200</MenuItem>\n                                      <MenuItem value={500}>500</MenuItem>\n                                    </MaterialSelect>\n                                  </FormControl>\n                                </td>\n                                <td>\n                                  <Tooltip title=\"На первую страницу\">\n                                    <IconButton onClick={() => KeyboardArrowFirstClick()}>\n                                      <FirstPageIcon style={{ fontSize: \"large\", color: \"black\" }} />\n                                    </IconButton>\n                                  </Tooltip>\n                                </td>\n                                <td>\n                                  <Tooltip title=\"На предыдущюю страницу\">\n                                    <IconButton onClick={() => KeyboardArrowLeftClick(page)}>\n                                      <ArrowBackIosIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                                    </IconButton>\n                                  </Tooltip>\n                                </td>\n                                <td style={{ color: \"black\", fontSize: 16 }}>\n                                  <input style={{ maxWidth: 25 }} value={page} onChange={handlePageChange}></input>\n                                </td>\n                                <td style={{ paddingLeft: \"3px\" }}>\n                                  <Tooltip title=\"Перейти на указанную страницу\">\n                                    <Button\n                                      onClick={() => GoToPage()}\n                                      variant=\"outlined\"\n                                      style={{\n                                        height: 22,\n                                        backgroundColor: \"#D1D6D6\",\n                                        fontSize: 12\n                                      }}\n                                    >перейти\n                                    </Button>\n                                  </Tooltip>\n                                </td>\n                                <td>\n                                  <Tooltip title=\"На следующюю страницу\">\n                                    <IconButton onClick={() => KeyboardArrowRightClick(page)}>\n                                      <ArrowForwardIosIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                                    </IconButton>\n                                  </Tooltip>\n                                </td>\n                                <td style={{ color: \"black\", fontSize: 13 }}>Стр. {page} из {getPageAmount()}</td>\n                              </tr>\n                            </tfoot>\n                          </table>\n                        </div>\n                        :\n                        <Typography variant=\"inherit\" noWrap>\n                          В этой папке нет писем!\n                        </Typography>\n                      }\n                    </Paper>\n                  </Grid>\n                  <Snackbar\n                    open={showSnackBar}\n                    onClose={() => handleCloseSnackBar()}\n                    autoHideDuration={1200}\n                    message={snackBarMessage}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n          )\n        }\n        else if (writeMessage === true) {\n          return (\n            <Paper key={updateState}>\n              <Grid container spacing={1} justify=\"center\" alignItems=\"center\" className={classes.root}>\n                <Grid item>\n                  <Grid container direction=\"column\">\n                    <Grid item>\n                      <input\n                        placeholder='Поиск'\n                        style={{ width: \"100%\" }}\n                        name=\"partnersSearhField\"\n                        value={partnersSearchField}\n                        onChange={partnersSearchFieldChange}\n                        autoFocus={focusField === \"partnersSearhField\" ? true : false}\n                      />\n                    </Grid>\n                    <Grid item>{partnersList(partners)}</Grid>\n                  </Grid>\n                </Grid>\n                <Grid item>\n                  <Grid container direction=\"column\">\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      className={classes.button}\n                      onClick={handleAllRight}\n                      disabled={partners.length === 0}\n                      aria-label=\"move all selectedPartners\"\n                    >\n                      ≫\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      className={classes.button}\n                      onClick={handleCheckedRight}\n                      disabled={leftChecked.length === 0}\n                      aria-label=\"move selected selectedPartners\"\n                    >\n                      &gt;\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      className={classes.button}\n                      onClick={handleCheckedLeft}\n                      disabled={rightChecked.length === 0}\n                      aria-label=\"move selected partners\"\n                    >\n                      &lt;\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      className={classes.button}\n                      onClick={handleAllLeft}\n                      disabled={selectedPartners.length === 0}\n                      aria-label=\"move all partners\"\n                    >\n                      ≪\n                    </Button>\n                  </Grid>\n                </Grid>\n                <Grid item>\n                  <Grid container direction=\"column\">\n                    <Grid item>\n                      <input\n                        placeholder='Поиск'\n                        style={{ width: \"100%\" }}\n                        name=\"selectedPartnersSearhField\"\n                        value={selectedPartnersSearchField}\n                        onChange={selectedPartnersSearchFieldChange}\n                        autoFocus={focusField === \"selectedPartnersSearhField\" ? true : false}\n                      />\n                    </Grid>\n                    <Grid item>{selectedPartnersList(selectedPartners)}</Grid>\n                  </Grid>\n                </Grid>\n                <Grid item xs={11}>Тип сообщения: {getEnumLabel(\"mailTypes\", messageType)}</Grid>\n                <Grid item xs={11}>\n                  <Grid container direction=\"row\">\n                    <TextField\n                      id=\"outlined-multiline-static\"\n                      label=\"Тема\"\n                      multiline\n                      onBlur={handleChange}\n                      name={\"subject\"}\n                      defaultValue={fieldValue[\"subject\"]}\n                      variant=\"outlined\"\n                      style={{ width: \"100%\" }}\n                    />\n                    <TextField\n                      id=\"outlined-multiline-static\"\n                      label=\"Текст уведомления\"\n                      multiline\n                      rows={4}\n                      onBlur={handleChange}\n                      name={\"body\"}\n                      defaultValue={fieldValue[\"body\"]}\n                      variant=\"outlined\"\n                      style={{ width: \"100%\" }}\n                    />\n                  </Grid>\n                </Grid>\n                <Grid item>\n                  <Grid container direction=\"row\">\n                    <div className={classes.importFile}>\n                      <input\n                        accept=\"image/*, application/pdf\"\n                        className={classes.inputFile}\n                        id={corpActionsAttachFileButtonId}\n                        multiple\n                        type=\"file\"\n                        onChange={handleAttachFile}\n                      />\n                      <label htmlFor={corpActionsAttachFileButtonId}>\n                        <Button\n                          component=\"span\"\n                          variant=\"outlined\"\n                          style={{\n                            margin: 3,\n                            color: \"white\",\n                            backgroundColor: \"#BB7100\",\n                            borderColor: \"#161C87\",\n                            height: 32,\n                            fontSize: 12\n                          }}\n                          endIcon={<AttachFileIcon />}\n                        >Прикрепить файлы\n                        </Button>\n                      </label>\n                    </div>\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => buttonClick(\"send\", null)}\n                      style={{\n                        margin: 3,\n                        color: \"white\",\n                        borderColor: \"#161C87\",\n                        backgroundColor: \"#287A2C\",\n                        height: 32,\n                        fontSize: 12\n                      }}\n                      endIcon={<SendIcon />}\n                    >Отправить\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => props.esInn !== null ? buttonClick(\"sendWithES\") : setShowModalEnterPin(true)}\n                      style={{\n                        margin: 3,\n                        color: \"white\",\n                        borderColor: \"#161C87\",\n                        backgroundColor: \"#287A2C\",\n                        height: 32,\n                        fontSize: 12\n                      }}\n                      endIcon={<SendIcon />}\n                    >Подписать и отправить\n                    </Button>\n\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => setWriteMessage(false)}\n                      style={{\n                        margin: 3,\n                        color: \"white\",\n                        borderColor: \"#161C87\",\n                        backgroundColor: \"#ff1f1f\",\n                        height: 32,\n                        fontSize: 12\n                      }}\n                    >Назад\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid style={{ paddingLeft: \"45px\" }} container spacing={2} justify=\"flex-start\" alignItems=\"flex-start\" className={classes.root}>\n                <Grid item xs={\"auto\"}>\n                  <Grid container direction=\"column\" spacing={1}>\n                    {filesList()}\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Modal\n                open={showModalEnterPin}\n                onClose={handleCloseModalEnterPin}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n              >\n                <div style={modalStyle} className={classes.modalRutoken}>\n                  <h3 id=\"simple-modal-title\">Введите ПИН код Рутокена</h3>\n                  <FormControl variant=\"outlined\" style={{ width: \"100%\" }} error={wrongPin}>\n                    <InputLabel htmlFor=\"outlined-adornment-password\">PIN</InputLabel>\n                    <OutlinedInput\n                      type={showPin ? 'text' : 'password'}\n                      defaultValue={rutokenPin}\n                      onChange={handlePinChange}\n                      onKeyPress={onKeyPressModalEnterPin}\n                      autoFocus\n                      endAdornment={\n                        <InputAdornment position=\"end\">\n                          <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={handleClickShowPin}\n                            edge=\"end\"\n                          >\n                            {showPin ? <Visibility /> : <VisibilityOff />}\n                          </IconButton>\n                        </InputAdornment>\n                      }\n                      labelWidth={25}\n                    />\n                  </FormControl>\n                  {wrongPin === true && <p color=\"red\">Не верный PIN</p>}\n                  <Button\n                    variant=\"contained\"\n                    onClick={() => buttonClick(\"sendWithES\")}\n                    style={{\n                      margin: 3,\n                      height: 32,\n                      fontSize: 12,\n                      color: \"white\",\n                      backgroundColor: \"#2862F4\"\n                    }}\n                  >Ок\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    onClick={handleCloseModalEnterPin}\n                    style={{\n                      margin: 3,\n                      height: 32,\n                      fontSize: 12,\n                      color: \"white\",\n                      backgroundColor: \"#E73639\"\n                    }}\n                  >Отмена\n                  </Button>\n                </div>\n              </Modal>\n            </Paper>\n          )\n        }\n      }\n      else if (taskType === \"shomMessageForm\") {\n        return (\n          <Paper>\n            <br />\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1}>\n              <Grid item xs={10} align=\"center\">\n                <Typography component=\"h1\" variant=\"h6\" color=\"inherit\">{selectedDoc.subject}</Typography>\n              </Grid>\n              <Grid item xs={10} align=\"right\">\n                <p style={{ fontSize: 12 }}>{\"Дата: \"}{selectedDoc.created_at.substring(0, 19)}</p>\n                <p style={{ fontSize: 12 }}>{\"Отправитель: \"}{getSenderName(selectedDoc.sender)}</p>\n                {selectedDoc.es_inn !== null &&\n                  <div>\n                    <p style={{ fontSize: 12 }}>{\"Время подписания: \"}{selectedDoc.es_date !== undefined ? selectedDoc.es_date.substring(0, 19) : \"\"}</p>\n                    <p style={{ fontSize: 12 }}>{\"ИНН: \"}{selectedDoc.es_inn}</p>\n                    <p style={{ fontSize: 12 }}>{\"ФИО: \"}{selectedDoc.es_full_name}</p>\n                  </div>\n                }\n              </Grid>\n              <Grid item xs={10} align=\"left\">\n                <p>{selectedDoc.body}</p>\n              </Grid>\n              <br />\n              <Grid item xs={10} align=\"left\">\n                <p style={{ fontSize: 12, fontWeight: \"bold\" }}>{\"Прикрепленные файлы\"}</p>\n                {savedDocsList()}\n                {savedImgsList()}\n              </Grid>\n              <Grid item xs={10} align=\"center\">\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => buttonClick(\"showReport\")}\n                  style={{\n                    margin: 3,\n                    color: \"white\",\n                    borderColor: \"#161C87\",\n                    backgroundColor: \"#287A2C\",\n                    height: 32,\n                    fontSize: 12\n                  }}\n                >Печать\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => buttonClick(\"back\")}\n                  style={{\n                    margin: 3,\n                    color: \"white\",\n                    borderColor: \"#161C87\",\n                    backgroundColor: \"#ff1f1f\",\n                    height: 32,\n                    fontSize: 12\n                  }}\n                >Назад\n                </Button>\n              </Grid>\n            </Grid>\n            <Modal\n              className={classes.modal}\n              open={openModal}\n              onClose={handleCloseModal}\n            >\n              <div className={classes.imagePaper}>\n                <img name={selectedImg.name} height={600} width=\"auto\" src={selectedImg.src} />\n              </div>\n            </Modal>\n          </Paper>\n        )\n      }\n      else {\n        return <LinearProgress />\n      }\n    }\n    catch (er) {\n      // console.log(\"ERROR\", er)\n      return <LinearProgress />\n    }\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}