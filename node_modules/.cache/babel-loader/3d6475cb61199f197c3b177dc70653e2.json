{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\depo\\\\src\\\\components\\\\Instructions\\\\Instructions.jsx\";\n// Import material and react components\nimport React, { useState, useEffect } from 'react';\nimport Select from 'react-select'; // import MaskedInput from 'react-text-mask';\n\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Menu from '@mui/material/Menu'; // import Input from '@material-ui/core/Input';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Modal from '@material-ui/core/Modal';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridSelect from '@material-ui/core/Select'; // PIN components\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'; // Icons\n\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded'; // Accordion\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'; // Import libraries\n\nimport swal from 'sweetalert'; // https://sweetalert.js.org/guides/\n\nimport hotkeys from 'hotkeys-js';\nimport * as rutoken from \"rutoken\";\nimport tableToExcel from \"@linways/table-to-excel\"; // https://github.com/linways/table-to-excel\n\nvar plugin;\nvar rutokenHandle, certHandle, certData, cmsData;\n\nvar moment = require('moment');\n\nfunction FloatFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          name: props.name,\n          value: values.value\n        }\n      });\n    },\n    decimalSeparator: \".\",\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }));\n}\n\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction IntegerFormat(props) {\n  const {\n    inputRef,\n    onChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(NumberFormat, Object.assign({}, other, {\n    getInputRef: inputRef,\n    onValueChange: values => {\n      onChange({\n        target: {\n          name: props.name,\n          value: values.value\n        }\n      });\n    },\n    thousandSeparator: \" \",\n    isNumericString: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }));\n}\n\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\nexport default (props => {\n  // This.state\n  const classes = useStyles();\n  const [userProfile] = useState(props.userProfile);\n  const [process_id] = useState(props.userTask.process_id);\n  const [session_id] = useState(props.userTask.session_id);\n  const [taskID] = useState(props.userTask.taskID);\n  const [taskType] = useState(props.userTask.taskType);\n  const [enumData] = useState(props.userTask.enumData);\n  const [gridFormEnumData] = useState(props.userTask.gridFormEnumData);\n  const [enumOptions, setEnumOptions] = useState({});\n  const [Form, setForm] = useState(props.userTask.Form);\n  const [gridForm, setGridForm] = useState(props.userTask.gridForm);\n  const [selectedDoc, setSelectedDoc] = useState(null);\n  const [fieldValue, setFieldValue] = useState({}); // opened: false\n\n  const [docId] = useState(props.userTask.docId);\n  const [buttons] = useState(props.userTask.buttons);\n  const [gridFormButtons] = useState(props.userTask.gridFormButtons);\n  const [formType] = useState(props.userTask.formType);\n  const [docList, setDocList] = useState(null);\n  const [filteredDocList, setFilteredDocList] = useState(null);\n  const [initialDocList, setInitialDocList] = useState(null);\n  const [page, setPage] = useState(1);\n  const [size, setSize] = useState(10);\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const [sectionColor] = useState(\"#B2E0C9\");\n  const [snackBarMessage, setSnackBarMessage] = useState(\"\");\n  const [showSnackBar, setShowSnackBar] = useState(false);\n  const [modalStyle] = useState(getModalStyle);\n  const [showModalCancelInstruction, setShowModalCancelInstruction] = useState(false);\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false);\n  const [rutokenPin, setRutokenPin] = useState(\"\");\n  const [showPin, setShowPin] = useState(false);\n  const [wrongPin, setWrongPin] = useState(false);\n  const [updateState, setUpdateState] = useState(null);\n  const [isSearchForm, setIsSearchForm] = useState(null);\n  const [accordionExpanded, setAccordionExpanded] = useState(false);\n  const [sortedColumn, setSortedColumn] = useState(\"null\");\n  const [sortedColumnOrder, setSortedColumnOrder] = useState(1);\n  const [selectedInstruction, setSelectedInstruction] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const openMenu = Boolean(anchorEl);\n  const [gridTableId] = useState(getUUID());\n  const [gridFieldValue, setGridFieldValue] = useState({}); // Initializing\n\n  useEffect(() => {\n    console.log(\"INSTR PROPS\", props);\n\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList);\n        console.log(\"DOCL\", parsedData);\n        let s = parseInt(props.userTask.size);\n        let p = parseInt(props.userTask.page);\n        setSize(s);\n        setPage(p);\n        setFilteredDocList(parsedData);\n\n        if (taskType !== \"showInstructionsTypeSelectingForm\") {\n          setIsSearchForm(true);\n        }\n\n        setInitialDocList(parsedData);\n        let sortedDocList = parsedData.sort(dynamicSort(\"id\", 1, \"Int\"));\n\n        if (props.userTask.selectedDoc !== \"null\") {\n          filterDocList(0, s - 1, sortedDocList, JSON.parse(props.userTask.selectedDoc));\n        } else {\n          fetchBySize(0, s - 1, sortedDocList);\n        }\n      } catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType);\n        setFilteredDocList([]);\n        setIsSearchForm(true);\n        setInitialDocList([]);\n        setDocList([]);\n      }\n    } else {\n      setIsSearchForm(false);\n    }\n\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc);\n      let fields = { ...parsedSelectedDoc\n      };\n\n      if (taskType === \"showInstructionsCreationForm\") {\n        // Creater instruction\n        let ed = props.userTask.enumData;\n\n        if (userProfile.userRole === \"3\") {\n          //Depositor  || userProfile.userRole === \"4\" || userProfile.userRole === \"6\" || userProfile.userRole === \"8\" Registrar, GIK, CorrDepo\n          let newForm = Form;\n          let editDepositor = null;\n          let editDepositor2 = null;\n          let editAccFrom = null;\n          let editAccTo = null; // 1 step check wheter both fields are allowed for input\n\n          for (let s = 0; s < Form.sections.length; s++) {\n            for (let c = 0; c < Form.sections[s].contents.length; c++) {\n              if (Form.sections[s].contents[c].name === \"depositor\") {\n                editDepositor = Form.sections[s].contents[c].edit;\n              }\n\n              if (Form.sections[s].contents[c].name === \"accFrom\") {\n                // if account from is allowed for input depositor is sender\n                editAccFrom = Form.sections[s].contents[c].edit;\n              }\n\n              if (Form.sections[s].contents[c].name === \"depositor2\") {\n                editDepositor2 = Form.sections[s].contents[c].edit;\n              }\n\n              if (Form.sections[s].contents[c].name === \"accTo\") {\n                // if account to is allowed for input depositor is recipient\n                editAccTo = Form.sections[s].contents[c].edit;\n              }\n            }\n          }\n\n          console.log(editDepositor, editAccFrom, editDepositor2, editAccTo); // 2 step block field \"accTo\" for depositor who create the instruction\n          // 1 Variant both fields are allowed\n\n          if (editDepositor === true && editDepositor2 === true) {\n            console.log(\"2 Fields alowed\");\n\n            for (let s = 0; s < Form.sections.length; s++) {\n              for (let c = 0; c < Form.sections[s].contents.length; c++) {\n                // separate by allowed account From/To fields\n                if (Form.sections[s].contents[c].name === \"depositor\") {\n                  if (editAccFrom === true && editAccTo === false || editAccFrom === true && editAccTo === true) {\n                    // if depositor is SENDER\n                    newForm.sections[s].contents[c].edit = false; // block field\n                    // find partner for cur depositor and insert it to field depositor don't allow him to choose another depositor\n                    // console.log(\"Block depositor\")\n\n                    for (let i = 0; i < ed.length; i++) {\n                      if (ed[i].name === \"depositor\") {\n                        for (let d = 0; d < ed[i].data.length; d++) {\n                          // console.log(\"Put depositor\", ed[i].data[d].id)\n                          if (parseInt(props.userProfile.partner) === ed[i].data[d].partner) {\n                            let depositorId = ed[i].data[d].id;\n                            fields[\"depositor\"] = depositorId; // set field from profile\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n\n                if (Form.sections[s].contents[c].name === \"accTo\") {\n                  if (editAccFrom === true && editAccTo === false) {\n                    // if depositor is SENDER\n                    newForm.sections[s].contents[c].edit = false; // block field\n\n                    newForm.sections[s].contents[c].show = false; // hide field\n                    // console.log(\"Block AccTo\")\n                  }\n                }\n\n                if (Form.sections[s].contents[c].name === \"depositor2\") {\n                  if (editAccFrom === false && editAccTo === true || editAccFrom === true && editAccTo === true) {\n                    // if depositor is RECIPIENT\n                    newForm.sections[s].contents[c].edit = false; // block field\n                    // find partner for cur depositor and insert it to field depositor2 don't allow him to choose another depositor\n                    // console.log(\"Block depositor2\")\n\n                    for (let i = 0; i < ed.length; i++) {\n                      if (ed[i].name === \"depositor2\") {\n                        for (let d = 0; d < ed[i].data.length; d++) {\n                          // console.log(\"Put depositor\", ed[i].data[d].id)\n                          if (parseInt(props.userProfile.partner) === ed[i].data[d].partner) {\n                            let depositorId = ed[i].data[d].id;\n                            fields[\"depositor2\"] = depositorId; // set field from profile\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n\n                if (Form.sections[s].contents[c].name === \"accFrom\") {\n                  if (editAccFrom === false && editAccTo === true) {\n                    // if depositor is RECIPIENT\n                    newForm.sections[s].contents[c].edit = false; // block field\n\n                    newForm.sections[s].contents[c].show = false; // hide field\n                    // console.log(\"Block AccFrom\")\n                  }\n                }\n              }\n            }\n          } // 2 Variant 1 fields allowed\n\n\n          if (editDepositor === true && editDepositor2 === false || editDepositor === false && editDepositor2 === true) {\n            // console.log(\"1 Field alowed\")\n            for (let s = 0; s < Form.sections.length; s++) {\n              for (let c = 0; c < Form.sections[s].contents.length; c++) {\n                // separate by allowed account From/To fields\n                if (Form.sections[s].contents[c].name === \"depositor\") {\n                  if (editDepositor === true) {\n                    newForm.sections[s].contents[c].edit = false; // block field\n                    // find partner for cur depositor and insert it to field depositor don't allow him to choose another depositor\n                    // console.log(\"Block depositor\")\n\n                    for (let i = 0; i < ed.length; i++) {\n                      if (ed[i].name === \"depositor\") {\n                        for (let d = 0; d < ed[i].data.length; d++) {\n                          // console.log(\"Put depositor\", ed[i].data[d].id)\n                          if (parseInt(props.userProfile.partner) === ed[i].data[d].partner) {\n                            let depositorId = ed[i].data[d].id;\n                            fields[\"depositor\"] = depositorId; // set field from profile\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n\n                if (Form.sections[s].contents[c].name === \"depositor2\") {\n                  if (editDepositor2 === true) {\n                    newForm.sections[s].contents[c].edit = false; // block field\n                    // find partner for cur depositor and insert it to field depositor2 don't allow him to choose another depositor\n                    // console.log(\"Block depositor2\")\n\n                    for (let i = 0; i < ed.length; i++) {\n                      if (ed[i].name === \"depositor2\") {\n                        for (let d = 0; d < ed[i].data.length; d++) {\n                          // console.log(\"Put depositor\", ed[i].data[d].id)\n                          if (parseInt(props.userProfile.partner) === ed[i].data[d].partner) {\n                            let depositorId = ed[i].data[d].id;\n                            fields[\"depositor2\"] = depositorId; // set field from profile\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          setForm(newForm);\n        }\n      } else {\n        if (Object.keys(parsedSelectedDoc).length > 0) {\n          for (let s = 0; s < Form.sections.length; s++) {\n            for (let c = 0; c < Form.sections[s].contents.length; c++) {\n              let fieldName = Form.sections[s].contents[c].name;\n              fields[fieldName] = parsedSelectedDoc[fieldName];\n            }\n          }\n        }\n      }\n\n      console.log(\"SDOC\", parsedSelectedDoc);\n      console.log(\"INITIAL FIELDVALUES\", fields);\n      setSelectedDoc(parsedSelectedDoc);\n      setFieldValue(fields);\n    }\n\n    if (taskType === \"showInstructionsSearchForm\") {\n      // Search instructions\n      if (userProfile.userRole === \"3\") {\n        //Depositor  || userProfile.userRole === \"4\" || userProfile.userRole === \"6\" || userProfile.userRole === \"8\" Registrar, GIK, CorrDepo\n        let newForm = Form; // Hide field depositor\n\n        for (let s = 0; s < Form.sections.length; s++) {\n          for (let c = 0; c < Form.sections[s].contents.length; c++) {\n            // separate by allowed account From/To fields\n            if (Form.sections[s].contents[c].name === \"depositor\" || Form.sections[s].contents[c].name === \"depositor2\") {\n              newForm.sections[s].contents[c].show = false; // hide field\n            }\n          }\n        }\n\n        setForm(newForm);\n      }\n    }\n\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      let eData = props.userTask.enumData;\n      let newEnumOptions = {};\n\n      for (let i = 0; i < eData.length; i++) {\n        if (eData[i] !== null) {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Пусто\",\n            \"name\": eData[i].name\n          }];\n\n          if (eData[i].name === \"type\") {\n            if (props.userTask.taskType === \"showInstructionsTypeSelectingForm\") {\n              for (let d = 0; d < eData[i].data.length; d++) {\n                if (props.userProfile[getInstructionTypeName(eData[i].data[d].id)] === true) {\n                  options.push({\n                    \"value\": eData[i].data[d].id,\n                    \"label\": eData[i].data[d].label,\n                    \"name\": eData[i].name\n                  });\n                }\n              }\n            } else {\n              for (let d = 0; d < eData[i].data.length; d++) {\n                options.push({\n                  \"value\": eData[i].data[d].id,\n                  \"label\": eData[i].data[d].label,\n                  \"name\": eData[i].name\n                });\n              }\n            }\n          } else if (eData[i].name === \"accFrom\" || eData[i].name === \"accTo\") {\n            // Filter allowed account types for selected instruction\n            if (props.userTask.taskType === \"showInstructionsCreationForm\" || props.userTask.taskType === \"showInstructionsViewForm\") {\n              console.log(\"CREATE TASK\"); // console.log(\"ACC\")\n\n              let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc);\n              let instructionTypeId = parsedSelectedDoc.type;\n              let filteredRelations = []; // allowed account types\n\n              for (let i = 0; i < eData.length; i++) {\n                if (eData[i].name === \"instructionAccountRelations\") {\n                  // Find tabels that indicate allowed account types\n                  for (let d = 0; d < eData[i].data.length; d++) {\n                    if (eData[i].data[d].id === instructionTypeId) {\n                      filteredRelations.push(eData[i].data[d]);\n                    }\n                  }\n                }\n              } // console.log(\"filteredRelations\", filteredRelations)\n\n\n              for (let d = 0; d < eData[i].data.length; d++) {\n                // if (filteredRelations.length > 0) { // Has relations to filter accounts\n                let checkResult = checkForPushing(eData[i].data[d].label, instructionTypeId);\n\n                if (checkResult.enableToPush === true) {\n                  // console.log(\"PUSH ? \", eData[i].data[d].label, checkResult)\n                  options.push({\n                    \"value\": eData[i].data[d].id,\n                    \"label\": eData[i].data[d].label,\n                    \"name\": eData[i].name\n                  });\n                }\n              }\n            }\n          } else if (eData[i].name === \"account\") {\n            if (props.userTask.taskType === \"showInstructionsSearchForm\") {\n              if (userProfile.userRole === \"3\") {\n                console.log(\"SEASRCH TASK\"); // console.log(\"Clear ACC\", parseInt(userProfile.partner))\n\n                for (let d = 0; d < eData[i].data.length; d++) {\n                  if (eData[i].data[d].partner === parseInt(userProfile.partner)) {\n                    options.push({\n                      \"value\": eData[i].data[d].id,\n                      \"label\": eData[i].data[d].label,\n                      \"name\": eData[i].name\n                    });\n                  }\n                }\n              } else {\n                for (let d = 0; d < eData[i].data.length; d++) {\n                  options.push({\n                    \"value\": eData[i].data[d].id,\n                    \"label\": eData[i].data[d].label,\n                    \"name\": eData[i].name\n                  });\n                }\n              }\n\n              console.log(\"Clear ACC\", options);\n            }\n          } else {\n            for (let d = 0; d < eData[i].data.length; d++) {\n              options.push({\n                \"value\": eData[i].data[d].id,\n                \"label\": eData[i].data[d].label,\n                \"name\": eData[i].name\n              });\n            }\n          }\n\n          newEnumOptions[eData[i].name] = options;\n        } else {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Ошибка...\",\n            \"name\": getLostEnumName(i)\n          }];\n          newEnumOptions[getLostEnumName(i)] = options;\n          props.callErrorToast(\"Ошибка сбора справочной информации \" + getLostEnumName(i));\n        }\n      }\n\n      console.log(\"EN OPTS\", newEnumOptions);\n      setEnumOptions(newEnumOptions);\n    }\n\n    if (gridForm !== null) {\n      let newFields = {};\n\n      for (let s = 0; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n          newFields[gridForm.sections[s].contents[c].name] = gridForm.sections[s].contents[c].show;\n        }\n      }\n\n      setGridFieldValue(newFields);\n    } // setUpdateState(getUUID())\n\n  }, []);\n\n  function getLostEnumName(i) {\n    let enumI = 0;\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (Form.sections[s].contents[c].type === \"Enum\") {\n          if (enumI === i) {\n            return Form.sections[s].contents[c].name;\n          } else {\n            enumI += 1;\n          }\n        }\n      }\n    }\n  }\n\n  hotkeys('ctrl+b, enter', function (event, handler) {\n    if (handler.key === \"ctrl+b\") {\n      setAccordionExpanded(!accordionExpanded);\n    }\n  }); // CancelInstruction MODAL\n\n  const handleOpenModalCancelInstruction = () => {\n    setShowModalCancelInstruction(true);\n  };\n\n  const handleCloseModalCancelInstruction = () => {\n    setShowModalCancelInstruction(false);\n  };\n\n  const handleOpenModalEnterPin = () => {\n    setShowModalEnterPin(true);\n  };\n\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false);\n  };\n\n  function handleExpandAccordion() {\n    setAccordionExpanded(!accordionExpanded);\n  }\n\n  function getInstructionTypeName(id) {\n    for (let i = 0; i < props.userTask.enumData.length; i++) {\n      if (props.userTask.enumData[i].name === \"instructionTypesNames\") {\n        for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n          if (props.userTask.enumData[i].data[d].id === id) {\n            return props.userTask.enumData[i].data[d].label;\n          }\n        }\n      }\n    }\n  } // filter accounts that can be selected by instruction type\n\n\n  function checkForPushing(label, instructionTypeId) {\n    // console.log(\"CHK\", label, instructionTypeId)\n    let checkResult = {\n      enableToPush: false // allowedAccountCode: null\n\n    };\n\n    for (let i = 0; i < props.userTask.enumData.length; i++) {\n      if (props.userTask.enumData[i].name === \"instructionAccountRelations\") {\n        // 1) Push accounts related to Instruction type\n        let relations = props.userTask.enumData[i].data;\n\n        for (let d = 0; d < relations.length; d++) {\n          if (relations[d].id === instructionTypeId) {\n            // find allowed account types\n            let splitedAccountName = relations[d].label.split(\"-\");\n            let allowedAccountCode = splitedAccountName[1];\n            let splitedAccountLabel = label.split(\"-\");\n            let accCode = splitedAccountLabel[1];\n            let accPartner = splitedAccountLabel[2]; // console.log(allowedAccountCode, accCode)\n\n            if (accCode === allowedAccountCode) {\n              // if (userProfile.userRole === \"2\" || userProfile.userRole === \"3\" || userProfile.userRole === \"4\" || userProfile.userRole === \"8\") {\n              // Operator, Broker, Registrar, CorrDepo\n              if (userProfile.userRole === \"1\" || userProfile.userRole === \"5\" || userProfile.userRole === \"7\") {\n                // Admin, Accountant, CD\n                // console.log(\"ALOLOWED All\", accCode)\n                checkResult.enableToPush = true; // checkResult[\"allowedAccountCode\"] = allowedAccountCode\n\n                break;\n              } else {\n                // Other users\n                if (accPartner === userProfile.partner) {\n                  // Depositor, Registrar, corrDepo, GIK, ...\n                  // console.log(\"ALOLOWED\", accCode, accPartner, userProfile.partner)\n                  checkResult.enableToPush = true; // checkResult[\"allowedAccountCode\"] = allowedAccountCode\n\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return checkResult;\n  } // RuToken functions\n\n\n  function handlePinChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    setRutokenPin(event.target.value);\n    console.log(\"PIN\", event.target.value);\n  }\n\n  function handleClickShowPin() {\n    setShowPin(!showPin);\n  }\n\n  rutoken.ready // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n  .then(function () {\n    if (window.chrome || typeof InstallTrigger !== 'undefined') {\n      return rutoken.isExtensionInstalled();\n    } else {\n      return Promise.resolve(true);\n    }\n  }) // Проверка установки Рутокен Плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.isPluginInstalled();\n    } else {// alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n    }\n  }) // Загрузка плагина\n  .then(function (result) {\n    if (result) {\n      return rutoken.loadPlugin();\n    } else {// alert(\"Не удаётся найти Плагин\");\n    }\n  }) //Можно начинать работать с плагином\n  .then(function (result) {\n    if (!result) {\n      return; // alert(\"Не удаётся загрузить Плагин\")\n    } else {\n      plugin = result;\n      return Promise.resolve();\n    }\n  }); // catch errors while signing docs\n\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true);\n          break;\n\n        default:\n          console.log(\"Неизвестная ошибка\");\n      }\n    }\n  } // Sign transfer order with rutoken\n\n\n  function sign(commandJson) {\n    try {\n      if (plugin !== undefined) {\n        // Перебор подключенных Рутокенов\n        plugin.enumerateDevices().then(function (devices) {\n          if (devices.length > 0) {\n            return Promise.resolve(devices[0]);\n          } else {\n            alert(\"Рутокен не обнаружен\");\n          }\n        }) // Проверка залогиненности\n        .then(function (firstDevice) {\n          rutokenHandle = firstDevice;\n          return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n        }) // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n        .then(function (isLoggedIn) {\n          if (isLoggedIn) {\n            return Promise.resolve();\n          } else {\n            return plugin.login(rutokenHandle, rutokenPin);\n          }\n        }) // Перебор пользовательских сертификатов на токене\n        .then(function () {\n          return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n        }).then(function (certs) {\n          if (certs.length > 0) {\n            certHandle = certs[0];\n            return plugin.parseCertificate(rutokenHandle, certs[0]);\n          } else {\n            alert(\"Сертификат на Рутокен не обнаружен\");\n          }\n        }) // Подписание данных из текстового поля на первом найденом сертификате\n        .then(function (certs) {\n          certData = certs; // console.log(\"RUTDATA\", certData)\n\n          let tokenRemainingTime = new Date(certData.validNotAfter).getTime() - Date.now();\n\n          if (tokenRemainingTime > 0) {\n            if (certHandle.length > 0) {\n              var options = {};\n              let inn = \"\";\n              let fullName = \"\";\n\n              for (let i = 0; i < certData.subject.length; i++) {\n                if (certData.subject[i].rdn === \"serialNumber\") {\n                  inn = certData.subject[i].value;\n                }\n\n                if (certData.subject[i].rdn === \"commonName\") {\n                  fullName = certData.subject[i].value;\n                }\n              }\n\n              props.setEsInn(inn);\n              props.setEsUserFullName(fullName);\n              props.setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1));\n              let instructionToSign = commandJson.variables.document.value;\n\n              if (selectedDoc.filled === undefined || selectedDoc.filled === null || selectedDoc.filled === false) {\n                // Depositor\n                instructionToSign[\"filled\"] = true;\n                instructionToSign[\"filled_at\"] = props.getCurrentFullDateTime();\n                instructionToSign[\"filledUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName;\n                instructionToSign[\"signed_depositor_inn\"] = inn;\n                instructionToSign[\"signed_depositor_full_name\"] = fullName;\n                instructionToSign[\"signed_at_depositor\"] = props.getCurrentFullDateTime();\n                commandJson.variables.status.value = \"filled\";\n              } else {\n                // Depository\n                instructionToSign[\"onExecution\"] = true;\n                instructionToSign[\"onExecutionUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName;\n                instructionToSign[\"signed_cd_inn\"] = inn;\n                instructionToSign[\"signed_cd_full_name\"] = fullName;\n                instructionToSign[\"signed_at_cd\"] = props.getCurrentFullDateTime();\n                commandJson.variables.status.value = \"onExecution\";\n              }\n\n              commandJson.variables.document.value = JSON.stringify(instructionToSign);\n              console.log(\"SIGN\", instructionToSign, commandJson.variables.document);\n              handleCloseModalEnterPin(); // swAllert(\"Поручение успешно подписано!\", \"success\")\n\n              props.sendFieldValues(commandJson);\n              props.clearTabData(commandJson.process_id);\n              return plugin.sign(rutokenHandle, certHandle, \"textToSign\", plugin.DATA_FORMAT_PLAIN, options);\n            } else {\n              alert(\"Сертификат на Рутокен не обнаружен\");\n            }\n          } else {\n            plugin.logout(rutokenHandle);\n            props.callErrorToast(\"Рутокен просрочен\", \"warning\");\n          }\n        }) // Закрытие сессии\n        .then(function () {\n          plugin.logout(rutokenHandle);\n        }, handleError);\n      } else {\n        props.callErrorToast(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\");\n      }\n    } catch (er) {\n      console.log(\"Rutoken ERR\");\n    }\n  } // Input handlers\n\n\n  const handleCheckboxChange = event => {\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: event.target.checked\n    }); // console.log(\"Check change\", event.target.checked)\n  }; // Radio group handler\n\n\n  const handleRadioGroupChange = event => {\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  function handleTextChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value;\n    setFieldValue(fieldValue); // console.log(\"FIELDVALUE\", fieldValue)\n  } // Float input handler\n\n\n  const handleFloatChange = event => {\n    // console.log(\"FLOAT CHANGE\", event.target.name, event.target.value)\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: event.target.value\n    });\n  }; // Integer input handler\n\n\n  const handleIntChange = event => {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    let stringNum = event.target.value.toString().replace(/ /g, '');\n    let int = parseInt(stringNum);\n    setFieldValue({ ...fieldValue,\n      [event.target.name]: int\n    });\n  }; // // Float input handler\n  // const handleFloatChange = (event) => {\n  //   let stringNum = event.target.value.toString().replace(/ /g, '');\n  //   let float = parseFloat(stringNum)\n  //   setFieldValue({ ...fieldValue, [event.target.name]: float })\n  //   console.log(\"FLOAT CHANGE\", event.target.name, fieldValue)\n  // }\n\n\n  function handleDateTimeChange(event) {\n    // let fullDate = props.parseDate(event.target.value)\n    // var hours = new Date().getHours()\n    // var minutes = new Date().getMinutes()\n    // var seconds = new Date().getSeconds()\n    // var convertedDate = fullDate + \" \" + hours + \":\" + minutes + \":\" + seconds + \".123456\"\n    // fieldValue[event.target.name] = convertedDate\n    // setFieldValue(fieldValue)\n    fieldValue[event.target.name] = moment(event.target.value).format(\"YYYY-MM-DDTHH:mm:ss\");\n    setFieldValue(fieldValue);\n    console.log(\"DATE CHANGE\", fieldValue[event.target.name], event.target.value);\n  } // Handler of select copmponet changes\n\n\n  function handleSelectChange(option) {\n    fieldValue[option.name] = option.value;\n    console.log(\"OPT\", option.name, option.value);\n    var updateSelectedOptions = selectedOptions.slice();\n    let noSuchOption = true;\n\n    for (let i = 0; i < updateSelectedOptions.length; i++) {\n      if (option.name === updateSelectedOptions[i].name) {\n        updateSelectedOptions[i] = option;\n        noSuchOption = false;\n        setSelectedOptions(updateSelectedOptions);\n        break;\n      } else {\n        noSuchOption = true;\n      }\n    }\n\n    if (noSuchOption === true) {\n      updateSelectedOptions.push(option);\n      setSelectedOptions(updateSelectedOptions);\n    }\n\n    if (option.name === \"depositor\") {\n      let newOptions = [];\n      let depositorPartner = getDepositorPartner(option.value); // find depositor partner id\n\n      if (taskType === \"showInstructionsCreationForm\" || taskType === \"showInstructionsViewForm\") {\n        // Первый депонент выбран нужно отфильтровать поле \"Со счета\" и отобразить счета только выбранного депонента\n        // console.log(\"PARTNER\", depositorPartner)\n        for (let i = 0; i < enumData.length; i++) {\n          if (enumData[i].name === \"accFrom\") {\n            for (let d = 0; d < enumData[i].data.length; d++) {\n              let checkResult = checkForPushing(enumData[i].data[d].label, fieldValue[\"type\"]);\n              console.log(\"PUSH?\", enumData[i].data[d].label, fieldValue[\"type\"]);\n\n              if (checkResult.enableToPush === true) {\n                if (enumData[i].data[d].partner === depositorPartner) {\n                  // compare depositor partner and account partner\n                  newOptions.push({\n                    \"value\": enumData[i].data[d].id,\n                    \"label\": enumData[i].data[d].label,\n                    \"name\": enumData[i].name\n                  });\n                }\n              }\n            }\n          }\n        }\n\n        console.log(\"NEW ENUMS\", newOptions);\n        enumOptions[\"accFrom\"] = newOptions;\n        setEnumOptions(enumOptions);\n      } else if (taskType === \"showInstructionsSearchForm\") {\n        // депонент выбран нужно отфильтровать поле \"Счет\" и отобразить счета только выбранного депонента\n        // console.log(\"PARTNER\", depositorPartner)\n        for (let i = 0; i < enumData.length; i++) {\n          if (enumData[i].name === \"account\") {\n            for (let d = 0; d < enumData[i].data.length; d++) {\n              if (enumData[i].data[d].partner === depositorPartner) {\n                // compare depositor partner and account partner\n                newOptions.push({\n                  \"value\": enumData[i].data[d].id,\n                  \"label\": enumData[i].data[d].label,\n                  \"name\": enumData[i].name\n                });\n              }\n            }\n          }\n        }\n\n        enumOptions[\"account\"] = newOptions;\n        setEnumOptions(enumOptions);\n      }\n    } else if (option.name === \"depositor2\" && (taskType === \"showInstructionsCreationForm\" || taskType === \"showInstructionsViewForm\")) {\n      // Второй депонент выбран нужно отфильтровать поле \"На счет\" и отобразить счета только выбранного депонента\n      let newOptions = [];\n      let depositorPartner = getDepositorPartner(option.value); // find depositor partner id\n      // console.log(\"PARTNER\", depositorPartner)\n\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === \"accTo\") {\n          for (let d = 0; d < enumData[i].data.length; d++) {\n            if (enumData[i].data[d].partner === depositorPartner) {\n              // compare depositor partner and account partner\n              let checkResult = checkForPushing(enumData[i].data[d].label, fieldValue[\"type\"]); // console.log(\"PUSH\", enumData[i].data[d].label)\n\n              if (checkResult.enableToPush === true) {\n                newOptions.push({\n                  \"value\": enumData[i].data[d].id,\n                  \"label\": enumData[i].data[d].label,\n                  \"name\": enumData[i].name\n                });\n              }\n            }\n          }\n        }\n      } // console.log(\"NEW ENUMS\", newOptions)\n\n\n      enumOptions[\"accTo\"] = newOptions;\n      setEnumOptions(enumOptions);\n    } else if (option.name === \"security\" && (taskType === \"showInstructionsCreationForm\" || taskType === \"showInstructionsViewForm\")) {\n      // выбрана ценная бумага нужно найти эмитента и отобразить\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === \"security\") {\n          for (let d = 0; d < enumData[i].data.length; d++) {\n            if (enumData[i].data[d].id === option.value) {\n              let issuerId = enumData[i].data[d].issuer;\n              fieldValue[\"issuer\"] = issuerId;\n\n              for (let j = 0; j < enumData.length; j++) {\n                if (enumData[j].name === \"issuer\") {\n                  // console.log(\"issuerID\", issuerId)\n                  for (let h = 0; h < enumData[j].data.length; h++) {\n                    if (enumData[j].data[h].id === issuerId) {\n                      let issuerOption = {\n                        value: issuerId,\n                        name: \"issuer\",\n                        label: enumData[j].data[h].label\n                      };\n                      console.log(\"issuerOption\", issuerOption);\n                      let noIssuerOption = true;\n\n                      for (let y = 0; y < updateSelectedOptions.length; y++) {\n                        if (updateSelectedOptions[y].name === \"issuer\") {\n                          updateSelectedOptions[y] = issuerOption;\n                          noIssuerOption = false;\n                          setSelectedOptions(updateSelectedOptions);\n                          break;\n                        } else {\n                          noIssuerOption = true;\n                        }\n                      }\n\n                      if (noIssuerOption === true) {\n                        updateSelectedOptions.push(issuerOption);\n                        setSelectedOptions(updateSelectedOptions); // console.log(\"NO Issuer\", updateSelectedOptions)\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      } // console.log(\"NEW ENUMS\", newOptions)\n      // enumOptions[\"issuer\"] = newOptions\n      // setEnumOptions(enumOptions)\n\n    }\n\n    setFieldValue(fieldValue);\n  }\n\n  function getDepositorPartner(depId) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === \"depositor\") {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === depId) {\n            return enumData[i].data[d].partner;\n          }\n        }\n      }\n    }\n  } // Returns random id\n\n\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\");\n\n    return uuidv1();\n  } // Collecting all field values and return as attributes\n\n\n  function getFieldValuesCreateDocument() {\n    let fields = {};\n\n    for (let key in fieldValue) {\n      if (fieldValue[key] !== null && fieldValue[key] !== \"\" && fieldValue[key] !== \"NaN-NaN-NaN\") {\n        fields[key] = fieldValue[key];\n      }\n    }\n\n    return fields;\n  }\n\n  function getFieldValuesSaveInstruction() {\n    let fields = {};\n\n    for (let key in fieldValue) {\n      if (fieldValue[key] !== null && fieldValue[key] !== \"\" && fieldValue[key] !== \"NaN-NaN-NaN\" && key !== \"id\") {\n        fields[key] = fieldValue[key];\n      }\n    }\n\n    fields.filled = false;\n    fields.onExecution = false;\n    fields.executed = false;\n    fields.canceled = false;\n    fields.opened = false;\n    fields.signed = false;\n    fields.created_user_partner = getCreatedPartner();\n    return fields;\n  }\n\n  function getCreatedPartner() {\n    let partner = parseInt(userProfile.partner);\n\n    if (userProfile.userRole === \"3\") {\n      // Depositor\n      partner = parseInt(userProfile.partner);\n    } else {\n      let editDepositor = null;\n      let editDepositor2 = null;\n      let editAccFrom = null;\n      let editAccTo = null; // 1 step check wheter both fields are allowed for input\n\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          let ed = Form.sections[s].contents[c].edit;\n          let sh = Form.sections[s].contents[c].show;\n\n          if (Form.sections[s].contents[c].name === \"depositor\") {\n            editDepositor = ed === true && sh === true ? true : false;\n          }\n\n          if (Form.sections[s].contents[c].name === \"accFrom\") {\n            // if account from is allowed for input depositor is sender\n            editAccFrom = ed === true && sh === true ? true : false;\n          }\n\n          if (Form.sections[s].contents[c].name === \"depositor2\") {\n            editDepositor2 = ed === true && sh === true ? true : false;\n          }\n\n          if (Form.sections[s].contents[c].name === \"accTo\") {\n            // if account to is allowed for input depositor is recipient\n            editAccTo = ed === true && sh === true ? true : false;\n          }\n        }\n      }\n\n      console.log(editDepositor, editAccFrom, editDepositor2, editAccTo); // 1 Variant Depositor is sender\n\n      if (editDepositor === true && editAccFrom === true) {\n        partner = getDepositorPartnerId(fieldValue.depositor);\n        console.log(\"SENDER P\", partner);\n      } // 2 Depositor is recipient\n\n\n      if (editDepositor2 === true && editAccTo === true) {\n        partner = getDepositorPartnerId(fieldValue.depositor2);\n        console.log(\"RECIPIENT P\", partner);\n      }\n    }\n\n    return partner;\n  }\n\n  function getDepositorPartnerId(id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === \"depositor\") {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].partner;\n          }\n        }\n      }\n    }\n  } // Collect data to update doc\n\n\n  function getFieldValuesUpdateInstruction() {\n    let docToUpdate = selectedDoc; // docToUpdate[\"created_at\"] = selectedDoc.created_at\n    // docToUpdate[\"id\"] = selectedDoc.id\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name;\n\n        if (Form.sections[s].contents[c].type === \"Bool\" && (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null)) {\n          docToUpdate[fieldName] = false;\n        } else {\n          docToUpdate[fieldName] = fieldValue[fieldName];\n        }\n      }\n    }\n\n    return docToUpdate;\n  }\n\n  function checkForRequieredFields() {\n    let checkedSuccessfuly = null;\n\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name;\n\n        if (Form.sections[s].contents[c].required === true) {\n          if (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null || fieldValue[fieldName] === \"NaN.NaN.NaN\" || fieldValue[fieldName] === \"\") {\n            checkedSuccessfuly = false;\n            swAllert(\"Внимание заполните поле \\\"\" + Form.sections[s].contents[c].label + \"\\\"\", \"warning\");\n            return checkedSuccessfuly;\n          } else {\n            checkedSuccessfuly = true;\n          }\n        } else {\n          checkedSuccessfuly = true;\n        }\n      }\n    }\n\n    return checkedSuccessfuly;\n  }\n\n  function swAllert(text, icon) {\n    return swal({\n      text: text,\n      icon: icon,\n      buttons: {\n        ok: \"Ок\"\n      }\n    });\n  } // Main button click handler\n\n\n  function buttonClick(buttonName, dataItem) {\n    // console.log(\"Button\", buttonName)\n    if (buttonName === \"findDocument\") {\n      if (accordionExpanded === false) {\n        setAccordionExpanded(true);\n      } else {\n        filterDocList(0, size - 1, initialDocList, fieldValue);\n      }\n    } else if (buttonName === \"createDocument\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт вы не можете создавать поручения!\",\n          icon: \"warning\",\n          buttons: {\n            ok: \"Ок\"\n          }\n        });\n      } else {\n        const createDocument = getFieldValuesCreateDocument();\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          variables: {\n            userAction: {\n              value: \"createDocument\"\n            },\n            selectedDoc: {\n              value: JSON.stringify(createDocument)\n            },\n            searchDoc: {\n              value: JSON.stringify(fieldValue)\n            },\n            userId: {\n              value: userProfile.userId\n            },\n            userRole: {\n              value: userProfile.userRole\n            }\n          }\n        };\n        console.log(\"button createDocument: \", commandJson);\n        let checkResult = checkForRequieredFields();\n\n        if (checkResult === true) {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      }\n    } // else if(buttonName === \"selectSample\"){\n    //   if(props.operDayIsOpened === false){\n    //     swal({\n    //       text: \"Операционный день закрыт вы не можете создавать поручения!\",\n    //       icon: \"warning\",\n    //       buttons: {ok: \"Ок\"}\n    //     })\n    //   }\n    //   else{\n    //     const commandJson = \n    //     {\n    //       commandType: \"completeTask\",\n    //       session_id: session_id,\n    //       process_id: process_id,\n    //       taskID: taskID,\n    //       variables: {\n    //         userAction: {value: \"selectSample\"},\n    //         searchDoc: {value: JSON.stringify(fieldValue)}\n    //       }\n    //     }\n    //     console.log(\"button selectSample: \", commandJson)\n    //     props.sendFieldValues(commandJson)\n    //     props.clearTabData(process_id)\n    //   }\n    // }\n    else if (buttonName === \"selectInstruction\") {\n      let createFormDefId = null;\n      let report = null;\n\n      for (let k = 0; k < enumData.length; k++) {\n        if (enumData[k].name === \"type\") {\n          for (let d = 0; d < enumData[k].data.length; d++) {\n            if (dataItem.type === enumData[k].data[d].id) {\n              createFormDefId = enumData[k].data[d].create_form;\n              report = enumData[k].data[d].reportName;\n            }\n          }\n        }\n      }\n\n      let copyFields = {};\n      copyFields.type = dataItem.type;\n      copyFields.urgent = dataItem.urgent;\n      copyFields.depositor = dataItem.depositor;\n      copyFields.accFrom = dataItem.accFrom;\n      copyFields.depositor2 = dataItem.depositor2;\n      copyFields.accTo = dataItem.accTo;\n      copyFields.issuer = dataItem.issuer;\n      copyFields.security = dataItem.security;\n      copyFields.currency = dataItem.currency;\n      copyFields.quantity = dataItem.quantity;\n      copyFields.basis = dataItem.basis;\n      copyFields.ownerName = dataItem.ownerName;\n      copyFields.ownerDocument = dataItem.ownerDocument;\n      copyFields.ownerAddress = dataItem.ownerAddress;\n      copyFields.additional_information = dataItem.additional_information;\n      copyFields.payment_account = dataItem.payment_account;\n      copyFields.payment_bank = dataItem.payment_bank;\n      copyFields.payment_bik = dataItem.payment_bik;\n      copyFields.payment_purpose = dataItem.payment_purpose;\n      copyFields.payment_recipient = dataItem.payment_recipient;\n      copyFields.tradingSystem = dataItem.tradingSystem; // for(let s=0; s<Form.sections.length; s++){\n      //   for(let c=0; c<Form.sections[s].contents.length; c++){\n      //     let fieldName = Form.sections[s].contents[c].name\n      //     if(Form.sections[s].contents[c].show === true){\n      //       copyFields[fieldName] = dataItem[fieldName]\n      //     }\n      //   }\n      // }\n\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"createInstruction\"\n          },\n          selectedDoc: {\n            value: JSON.stringify(copyFields)\n          },\n          instructionType: {\n            value: fieldValue[\"type\"]\n          },\n          createFormDefId: {\n            value: createFormDefId\n          },\n          reportName: {\n            value: report\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"button selectInstruction: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"editDocument\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"editDocument\"\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          }\n        }\n      };\n      console.log(\"button editDocument: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"updateDocument\") {\n      const updateDocument = getFieldValuesUpdateInstruction();\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"updateDocument\"\n          },\n          document: {\n            value: JSON.stringify(updateDocument)\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          }\n        }\n      };\n      console.log(\"button updateDocument: \", commandJson);\n      let checkResult = checkForRequieredFields();\n\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"createInstruction\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт вы не можете создавать поручения!\",\n          icon: \"warning\",\n          buttons: {\n            ok: \"Ок\"\n          }\n        });\n      } else {\n        let createFormDefId = null;\n        let report = null;\n\n        for (let k = 0; k < enumData.length; k++) {\n          if (enumData[k].name === \"type\") {\n            for (let d = 0; d < enumData[k].data.length; d++) {\n              if (fieldValue[\"type\"] === enumData[k].data[d].id) {\n                createFormDefId = enumData[k].data[d].create_form;\n                report = enumData[k].data[d].reportName;\n              }\n            }\n          }\n        }\n\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          variables: {\n            userAction: {\n              value: \"createInstruction\"\n            },\n            userId: {\n              value: userProfile.userId\n            },\n            userRole: {\n              value: userProfile.userRole\n            },\n            selectedDoc: {\n              value: JSON.stringify({\n                type: fieldValue[\"type\"]\n              })\n            },\n            instructionType: {\n              value: fieldValue[\"type\"]\n            },\n            createFormDefId: {\n              value: createFormDefId\n            },\n            reportName: {\n              value: report\n            }\n          }\n        };\n        console.log(\"button createInstruction: \", commandJson);\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"saveInstruction\") {\n      const createDocument = getFieldValuesSaveInstruction();\n      let notBody = {\n        variables: {\n          user_session_id: {\n            value: session_id\n          },\n          userAction: {\n            value: \"getNotificationsCount\"\n          }\n        }\n      };\n      let showTransferOrder = true;\n      let transferOrder = {\n        instruction_id: \"null\",\n        registered_person: fieldValue[\"ownerName\"],\n        address: fieldValue[\"ownerAddress\"],\n        security: fieldValue[\"security\"],\n        issuer: fieldValue[\"issuer\"],\n        quantity_int: fieldValue[\"quantity\"],\n        basis: fieldValue[\"basis\"]\n      };\n\n      for (let t = 0; t < enumData.length; t++) {\n        // if (enumData[t].name === \"issuer\") {\n        //   for (let dt = 0; dt < enumData[t].data.length; dt++) {\n        //     if (fieldValue[\"issuer\"] === enumData[t].data[dt].id) {\n        //       transferOrder[\"registrar\"] = enumData[t].data[dt].registrar\n        //     }\n        //   }\n        // }\n        if (enumData[t].name === \"security\") {\n          for (let dt = 0; dt < enumData[t].data.length; dt++) {\n            if (fieldValue[\"security\"] === enumData[t].data[dt].id) {\n              transferOrder[\"security_type\"] = enumData[t].data[dt].security_type;\n              transferOrder[\"registrar\"] = enumData[t].data[dt].registrar;\n            }\n          }\n        }\n\n        if (enumData[t].name === \"type\") {\n          for (let dt = 0; dt < enumData[t].data.length; dt++) {\n            if (fieldValue[\"type\"] === enumData[t].data[dt].id) {\n              showTransferOrder = enumData[t].data[dt].transfer_order;\n            }\n          }\n        }\n      }\n\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"saveInstruction\"\n          },\n          saveBody: {\n            value: JSON.stringify(createDocument)\n          },\n          selectedDoc: {\n            value: JSON.stringify(createDocument)\n          },\n          notificationsBody: {\n            value: JSON.stringify(notBody)\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          },\n          // reportName: {value: reportName},\n          showTransferOrder: {\n            value: showTransferOrder\n          },\n          transferOrder: {\n            value: JSON.stringify(transferOrder)\n          }\n        }\n      };\n\n      if (fieldValue[\"urgent\"] === true) {\n        swal({\n          text: \"ВНИМАНИЕ поручения со статусом \\\"СРОЧНОЕ\\\" будет тарифицироваться в соответствии с тарифами ЦД на срочные поручения, хотите продолжить?\",\n          icon: \"warning\",\n          buttons: {\n            ok: \"Ок\",\n            cancel: \"Отмена\"\n          } // dangerMode: true,\n\n        }).then(click => {\n          if (click === \"ok\") {\n            let checkResult = checkForRequieredFields();\n\n            if (checkResult === true) {\n              props.sendFieldValues(commandJson);\n              props.clearTabData(process_id);\n            }\n          }\n        });\n      } else {\n        let checkResult = checkForRequieredFields(); // console.log(\"PASSED\", checkResult)\n\n        if (checkResult === true) {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      }\n\n      console.log(\"button saveInstruction: \", commandJson);\n    } else if (buttonName === \"viewInstruction\") {\n      let currentStatus = \"saved\";\n      let notBody = {\n        variables: {\n          user_session_id: {\n            value: session_id\n          },\n          userAction: {\n            value: \"getNotificationsCount\"\n          }\n        }\n      };\n\n      if (dataItem.filled === true) {\n        currentStatus = \"filled\";\n\n        if (dataItem.onExecution === true) {\n          currentStatus = \"onExecution\";\n\n          if (dataItem.executed === true) {\n            currentStatus = \"executed\";\n          } else {\n            if (dataItem.canceled === true) {\n              currentStatus = \"canceled\";\n            }\n          }\n        } else {\n          if (dataItem.canceled === true) {\n            currentStatus = \"canceled\";\n          }\n        }\n      }\n\n      let editFormDefId = null;\n      let report = null;\n\n      for (let k = 0; k < enumData.length; k++) {\n        if (enumData[k].name === \"type\") {\n          for (let d = 0; d < enumData[k].data.length; d++) {\n            if (dataItem.type === enumData[k].data[d].id) {\n              editFormDefId = enumData[k].data[d].edit_form;\n              report = enumData[k].data[d].reportName;\n            }\n          }\n        }\n      }\n\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          notificationsBody: {\n            value: JSON.stringify(notBody)\n          },\n          userAction: {\n            value: \"viewInstruction\"\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          docId: {\n            value: dataItem.id\n          },\n          instructionType: {\n            value: dataItem.type\n          },\n          status: {\n            value: currentStatus\n          },\n          editFormDefId: {\n            value: editFormDefId\n          },\n          reportName: {\n            value: report\n          },\n          searchDoc: {\n            value: JSON.stringify(fieldValue)\n          }\n        }\n      };\n      console.log(\"button viewInstruction: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"sendToCD\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт дождитесь открытия операционного дня!\",\n          icon: \"warning\",\n          buttons: {\n            ok: \"Ок\"\n          }\n        });\n      } else {\n        if (props.esInn === null) {\n          handleOpenModalEnterPin();\n        } else {\n          let updateDocument = getFieldValuesUpdateInstruction();\n          updateDocument[\"filled\"] = true;\n          updateDocument[\"filled_at\"] = props.getCurrentFullDateTime();\n          updateDocument[\"filledUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName;\n          updateDocument[\"signed_depositor_inn\"] = props.esInn;\n          updateDocument[\"signed_depositor_full_name\"] = props.esUserFullName;\n          updateDocument[\"signed_at_depositor\"] = props.getCurrentFullDateTime();\n          const commandJson = {\n            commandType: \"completeTask\",\n            session_id: session_id,\n            process_id: process_id,\n            taskID: taskID,\n            variables: {\n              userAction: {\n                value: \"updateDocument\"\n              },\n              userId: {\n                value: userProfile.userId\n              },\n              userRole: {\n                value: userProfile.userRole\n              },\n              document: {\n                value: JSON.stringify(updateDocument)\n              },\n              status: {\n                value: \"filled\"\n              }\n            }\n          }; // console.log(buttonName, commandJson)\n\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      }\n    } else if (buttonName === \"sendToCDWithoutES\") {\n      const updateDocument = getFieldValuesUpdateInstruction();\n      updateDocument.filled = true;\n      updateDocument.filledUser = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName;\n      updateDocument.signed_at_depositor = props.getCurrentFullDateTime();\n      updateDocument.filled_at = props.getCurrentFullDateTime();\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"updateDocument\"\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          },\n          document: {\n            value: JSON.stringify(updateDocument)\n          },\n          status: {\n            value: \"filled\"\n          }\n        }\n      };\n      console.log(\"button sendToCDWithoutES: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"SignInstructionSaveButton\") {\n      const updateDocument = getFieldValuesUpdateInstruction();\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"updateDocument\"\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          },\n          document: {\n            value: updateDocument\n          },\n          status: {\n            value: \"\"\n          }\n        }\n      };\n      console.log(\"button signInstruction: \", commandJson);\n      sign(commandJson);\n    } else if (buttonName === \"deleteDocument\") {\n      let docToDelete = selectedDoc.id;\n      let commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: {\n            value: \"deleteDocument\"\n          },\n          document: {\n            value: docToDelete.toString()\n          }\n        }\n      };\n      console.log(\"deleteDocument:\", commandJson);\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно удалить это поручение?\",\n        icon: \"warning\",\n        buttons: {\n          yes: \"Да\",\n          cancel: \"Отмена\"\n        }\n      }).then(click => {\n        if (click === \"yes\") {\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      });\n    } else if (buttonName === \"onExecution\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт дождитесь открытия операционного дня!\",\n          icon: \"warning\",\n          buttons: {\n            ok: \"Ок\"\n          }\n        });\n      } else {\n        if (props.esInn === null) {\n          handleOpenModalEnterPin();\n        } else {\n          let updateDocument = getFieldValuesUpdateInstruction();\n          updateDocument[\"onExecution\"] = true;\n          updateDocument[\"onExecutionUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName;\n          updateDocument[\"onExecutionDate\"] = props.getCurrentFullDateTime();\n          updateDocument[\"signed_cd_inn\"] = props.esInn;\n          updateDocument[\"signed_cd_full_name\"] = props.esUserFullName;\n          updateDocument[\"signed_at_cd\"] = props.getCurrentFullDateTime();\n          const commandJson = {\n            commandType: \"completeTask\",\n            session_id: session_id,\n            process_id: process_id,\n            taskID: taskID,\n            variables: {\n              userAction: {\n                value: \"updateDocument\"\n              },\n              userId: {\n                value: userProfile.userId\n              },\n              userRole: {\n                value: userProfile.userRole\n              },\n              document: {\n                value: JSON.stringify(updateDocument)\n              },\n              status: {\n                value: \"onExecution\"\n              }\n            }\n          };\n          console.log(\"onExecution:\", commandJson, updateDocument);\n          props.sendFieldValues(commandJson);\n          props.clearTabData(process_id);\n        }\n      }\n    } else if (buttonName === \"Execute\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт дождитесь открытия операционного дня!\",\n          icon: \"warning\",\n          buttons: {\n            ok: \"Ок\"\n          }\n        });\n      } else {\n        const updateDocument = getFieldValuesUpdateInstruction();\n        updateDocument[\"executed\"] = true;\n        updateDocument[\"executedUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName;\n        updateDocument[\"executedDate\"] = props.getCurrentFullDateTime();\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          variables: {\n            userAction: {\n              value: \"updateDocument\"\n            },\n            userId: {\n              value: userProfile.userId\n            },\n            userRole: {\n              value: userProfile.userRole\n            },\n            document: {\n              value: JSON.stringify(updateDocument)\n            },\n            status: {\n              value: \"executed\"\n            }\n          }\n        };\n        console.log(\"button Execute: \", commandJson);\n        props.sendFieldValues(commandJson);\n        props.clearTabData(process_id);\n      }\n    } else if (buttonName === \"CancelInstruction\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт дождитесь открытия операционного дня!\",\n          icon: \"warning\",\n          buttons: {\n            ok: \"Ок\"\n          }\n        });\n      } else {\n        handleOpenModalCancelInstruction();\n      }\n    } else if (buttonName === \"CancelInstructionSaveButton\") {\n      handleCloseModalCancelInstruction();\n      const updateDocument = getFieldValuesUpdateInstruction();\n      updateDocument[\"canceled\"] = true;\n      updateDocument[\"canceledUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName;\n      updateDocument[\"cancelationReason\"] = fieldValue.cancelationReason;\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"cancelInstruction\"\n          },\n          userId: {\n            value: userProfile.userId\n          },\n          userRole: {\n            value: userProfile.userRole\n          },\n          selectedDoc: {\n            value: JSON.stringify(updateDocument)\n          },\n          documentsToCancel: {\n            value: JSON.stringify([{\n              id: selectedDoc.id\n            }])\n          },\n          cancelationReason: {\n            value: fieldValue.cancelationReason\n          },\n          status: {\n            value: \"canceled\"\n          }\n        }\n      };\n      console.log(\"button CancelInstructionSaveButton: \", commandJson, selectedDoc);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"CancelInstructionCancelButton\") {\n      handleCloseModalCancelInstruction();\n      fieldValue[\"cancelationReason\"] = null;\n      setFieldValue(fieldValue);\n      console.log(\"FIELDS\", fieldValue);\n    } else if (buttonName === \"uploadToXML\") {\n      // Create xml\n      let xml = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?><InstructionsList xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" xmlns:xsd=\\\"http://www.w3.org/2001/XMLSchema\\\"><instructions>\";\n\n      for (let i = 0; i < filteredDocList.length; i++) {\n        xml += \"<instruction>\";\n\n        for (let prop in filteredDocList[i]) {\n          xml += \"<\" + prop + \">\";\n          xml += filteredDocList[i][prop];\n          xml += \"</\" + prop + \">\";\n        }\n\n        xml += \"</instruction>\";\n      }\n\n      xml += \"</instructions></InstructionsList>\";\n      let finalxml = xml.replace(/<\\/?[0-9]{1,}>/g, '').toString(); // Download xml\n\n      let pom = document.createElement('a');\n      let filename = \"UploadInstructions.xml\";\n      let bb = new Blob([finalxml], {\n        type: 'text/plain'\n      });\n      pom.setAttribute('href', window.URL.createObjectURL(bb));\n      pom.setAttribute('download', filename);\n      pom.dataset.downloadurl = ['text/plain', pom.download, pom.href].join(':');\n      pom.draggable = true;\n      pom.classList.add('dragout');\n      pom.click();\n    } else if (buttonName === \"showInstructionReport\") {\n      let reportName = null;\n\n      for (let k = 0; k < enumData.length; k++) {\n        if (enumData[k].name === \"type\") {\n          for (let d = 0; d < enumData[k].data.length; d++) {\n            if (selectedDoc.type === enumData[k].data[d].id) {\n              let reportId = enumData[k].data[d].report;\n\n              for (let e = 0; e < enumData.length; e++) {\n                if (enumData[e].name === \"instructionReports\") {\n                  for (let t = 0; t < enumData[e].data.length; t++) {\n                    if (reportId === enumData[e].data[t].id) {\n                      reportName = enumData[e].data[t].reportName;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      let reportExecutions = {\n        \"reportUnitUri\": \"/reports/interactive/\" + reportName,\n        \"async\": true,\n        \"interactive\": true,\n        \"freshData\": false,\n        \"saveDataSnapshot\": false,\n        \"outputFormat\": \"pdf\",\n        // html xlsx pdf docx\n        \"parameters\": {\n          \"reportParameter\": [{\n            name: \"id\",\n            value: [selectedDoc.id.toString()]\n          }, {\n            name: \"first_n\",\n            value: [userProfile.firstName.trim()]\n          }, {\n            name: \"last_n\",\n            value: [userProfile.lastName.trim()]\n          }, {\n            name: \"middle_n\",\n            value: [userProfile.middleName.trim()]\n          }]\n        }\n      };\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"showInstructionReport\"\n          },\n          docId: {\n            value: selectedDoc.id.toString()\n          },\n          instructionType: {\n            value: selectedDoc.type\n          },\n          reportName: {\n            value: reportName\n          },\n          reportVars: {\n            value: \"?id=\" + selectedDoc.id + \"&first_n=\" + userProfile.firstName.trim() + \"&last_n=\" + userProfile.lastName.trim() + \"&middle_n=\" + userProfile.middleName.trim()\n          },\n          reportExecutions: {\n            value: JSON.stringify(reportExecutions)\n          }\n        }\n      };\n      console.log(\"button showInstructionReport: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"updateDocList\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"updateDocList\"\n          }\n        }\n      };\n      console.log(\"button updateDocList: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"cancel\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"cancel\"\n          }\n        }\n      };\n      console.log(\"button cancel: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"back\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"back\"\n          }\n        }\n      };\n      console.log(\"button back: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else if (buttonName === \"test\") {\n      const commandJson = {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: {\n            value: \"test\"\n          }\n        }\n      };\n      console.log(\"button back: \", commandJson);\n      props.sendFieldValues(commandJson);\n      props.clearTabData(process_id);\n    } else {\n      console.log(\"button: \", buttonName);\n    }\n  } // Returns Button component\n\n\n  function createButton(button, index) {\n    return /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      name: button.name,\n      key: index,\n      onClick: () => buttonClick(button.name),\n      style: {\n        margin: 3,\n        color: button.fontColor,\n        backgroundColor: button.backgroundColor,\n        height: 32,\n        fontSize: 12\n      },\n      value: button.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1833,\n        columnNumber: 7\n      }\n    }, button.label);\n  } // Create sections with labels and call bodyBuilder function\n\n\n  function sectionBuilder(section, index) {\n    return /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      key: index + \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1853,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1854,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      style: {\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1855,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      key: index = \"head\",\n      style: {\n        color: \"black\",\n        fontSize: 14,\n        backgroundColor: sectionColor,\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1856,\n        columnNumber: 13\n      }\n    }, section.label))), bodyBuilder(section));\n  } // Create body of each section and call contentBuilder function\n\n\n  function bodyBuilder(section) {\n    return /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1875,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1876,\n        columnNumber: 9\n      }\n    }, section.contents.map((contentItem, index) => contentItem.show === true && /*#__PURE__*/React.createElement(TableRow, {\n      key: index,\n      style: {\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1879,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      key: index + \"cell1\",\n      align: \"left\",\n      style: {\n        width: \"40%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1880,\n        columnNumber: 15\n      }\n    }, contentItem.label), /*#__PURE__*/React.createElement(TableCell, {\n      key: index + \"cell2\",\n      align: \"left\",\n      style: {\n        width: \"60%\",\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1886,\n        columnNumber: 15\n      }\n    }, contentBuilder(contentItem))))));\n  } // Create component by it's type\n\n\n  function contentBuilder(contentItem) {\n    if (contentItem.type === \"Text\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressText,\n        multiline: !isSearchForm,\n        onBlur: handleTextChange,\n        name: contentItem.name,\n        style: {\n          width: \"100%\"\n        },\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        defaultValue: fieldValue[contentItem.name] !== undefined ? fieldValue[contentItem.name] : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1902,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"DateTime\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressDateTime,\n        type: \"date\",\n        name: contentItem.name,\n        onBlur: handleDateTimeChange,\n        style: {\n          width: \"100%\"\n        },\n        defaultValue: fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null ? props.parseDate(fieldValue[contentItem.name]) : \"\",\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputLabelProps: {\n          shrink: true\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1915,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"FullDateTime\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        name: contentItem.name,\n        onBlur: handleDateTimeChange,\n        style: {\n          width: \"100%\"\n        },\n        value: fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null ? props.parseFullDateTime(fieldValue[contentItem.name], \"T\") : \"\",\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputLabelProps: {\n          shrink: true\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1931,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Enum\") {\n      let selectedOption = {\n        \"value\": \"\",\n        \"label\": \"Пусто\",\n        \"name\": contentItem.name\n      };\n\n      if (fieldValue[contentItem.name] !== undefined) {\n        for (let i = 0; i < enumOptions[contentItem.name].length; i++) {\n          // console.log(\"F SEL\", contentItem.name, fieldValue[contentItem.name])\n          if (fieldValue[contentItem.name] === enumOptions[contentItem.name][i].value) {\n            // console.log(\"F SEL\", contentItem.name, fieldValue[contentItem.name])\n            selectedOption = enumOptions[contentItem.name][i];\n            break;\n          }\n        }\n      }\n\n      if (selectedOptions.length !== 0) {\n        for (let i = 0; i < selectedOptions.length; i++) {\n          if (contentItem.name === selectedOptions[i].name) {\n            selectedOption = selectedOptions[i];\n          }\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Select, {\n        name: contentItem.name,\n        value: selectedOption,\n        onChange: handleSelectChange,\n        options: enumOptions[contentItem.name],\n        isDisabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        menuPortalTarget: document.body,\n        styles: {\n          menuPortal: base => ({ ...base,\n            zIndex: 9999\n          })\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1968,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Int\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressInt,\n        name: contentItem.name // defaultValue = {(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name]: \"\"}\n        // onBlur={handleIntChange}\n        // value={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n        ,\n        value: fieldValue[contentItem.name] !== undefined ? fieldValue[contentItem.name] : \"\",\n        onChange: handleIntChange,\n        style: {\n          width: \"100%\"\n        },\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputProps: {\n          inputComponent: IntegerFormat\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1981,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Float\") {\n      return /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: onKeyPressFloat,\n        name: contentItem.name // onBlur={handleFloatChange}\n        // value={fieldValue[contentItem.name]}\n        ,\n        value: fieldValue[contentItem.name] !== undefined ? fieldValue[contentItem.name] : \"\",\n        onChange: handleFloatChange,\n        style: {\n          width: \"100%\"\n        },\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        InputProps: {\n          inputComponent: FloatFormat\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1997,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"Bool\") {\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        style: {\n          maxWidth: 20,\n          height: 15,\n          color: formType === \"view\" || contentItem.edit === false ? \"grey\" : \"green\"\n        },\n        name: contentItem.name,\n        onChange: handleCheckboxChange,\n        disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n        checked: fieldValue[contentItem.name] === \"True\" || fieldValue[contentItem.name] === true ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2012,\n          columnNumber: 9\n        }\n      });\n    } else if (contentItem.type === \"RadioGroup\") {\n      let radioGroupItems = [];\n\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === contentItem.name) {\n          radioGroupItems = enumData[i].data;\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(RadioGroup, {\n        name: contentItem.name,\n        value: fieldValue[contentItem.name],\n        onChange: handleRadioGroupChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2029,\n          columnNumber: 9\n        }\n      }, radioGroupItems.map(groupItem => {\n        return /*#__PURE__*/React.createElement(FormControlLabel, {\n          value: groupItem.id,\n          label: groupItem.label,\n          control: /*#__PURE__*/React.createElement(Radio, {\n            style: {\n              height: \"5px\",\n              color: \"green\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2039,\n              columnNumber: 26\n            }\n          }),\n          disabled: formType === \"view\" || contentItem.edit === false ? true : false,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2036,\n            columnNumber: 15\n          }\n        });\n      }));\n    }\n  } // Key press handlers for some fields\n\n\n  function onKeyPressText(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleTextChange(event);\n          buttonClick(\"findDocument\", null);\n        }\n      }\n    }\n  }\n\n  function onKeyPressDateTime(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleDateTimeChange(event);\n          buttonClick(\"findDocument\", null);\n        }\n      }\n    }\n  }\n\n  function onKeyPressInt(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          let stringNum = event.target.value.toString().replace(/ /g, '');\n          let int = parseInt(stringNum);\n          fieldValue[event.target.name] = int;\n          setFieldValue(fieldValue);\n          filterDocList(0, size - 1, initialDocList, fieldValue);\n        }\n      }\n    }\n  }\n\n  function onKeyPressFloat(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          let stringNum = event.target.value.toString().replace(/ /g, '');\n          let float = parseFloat(stringNum);\n          fieldValue[event.target.name] = float;\n          setFieldValue(fieldValue);\n          filterDocList(0, size - 1, initialDocList, fieldValue);\n        }\n      }\n    }\n  }\n\n  function onKeyPressModalEnterPin(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      buttonClick(\"SignInstructionSaveButton\", null);\n    }\n  }\n\n  function onKeyPressModalCancelInstruction(event) {\n    let code = event.charCode;\n\n    if (code === 13) {\n      buttonClick(\"CancelInstructionSaveButton\", null);\n    }\n  } // custom allerts\n\n\n  function swAlert(text, icon) {\n    return swal({\n      text: text,\n      icon: icon,\n      buttons: {\n        ok: \"Ок\"\n      }\n    });\n  }\n\n  function getGridFormEnumLabel(name, value) {\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i] !== null) {\n        if (name === gridFormEnumData[i].name) {\n          for (let l = 0; l < gridFormEnumData[i].data.length; l++) {\n            if (gridFormEnumData[i].data[l].id === parseInt(value)) {\n              return gridFormEnumData[i].data[l].label;\n            }\n          }\n        }\n      }\n    }\n  } // Create grid form components\n\n\n  function getGridFormItems(value, type, dataItem, name) {\n    if (type === \"Enum\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        return getGridFormEnumLabel(name, value);\n      }\n    } else if (type === \"Bool\") {\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        style: {\n          maxWidth: 20,\n          height: 15,\n          color: value === false ? \"red\" : \"green\"\n        },\n        checked: value === false || value === null || value === undefined ? false : true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2151,\n          columnNumber: 9\n        }\n      });\n    } else if (type === \"DateTime\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        return props.parseFullDateTime(value, \" \"); // return moment(value).format('YYYY-MM-DD HH:MM')\n      }\n    } else if (type === \"Text\") {\n      if (name === \"instructionStatus\") {\n        return getInstructionStatus(dataItem);\n      } else {\n        if (value === null || value === \"\" || value === undefined) {\n          return \"-\";\n        } else {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2175,\n              columnNumber: 19\n            }\n          }, value);\n        }\n      }\n    } else if (type === \"Float\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        let newCur = props.currencyBeautifier(value);\n        return newCur;\n      }\n    } else if (type === \"Int\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        let newInt = props.intBeautifier(value);\n        return newInt;\n      }\n    } else {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\";\n      } else {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2202,\n            columnNumber: 17\n          }\n        }, value);\n      }\n    }\n  }\n\n  function getInstructionStatus(dataItem) {\n    let status = \"\";\n\n    if (dataItem[\"filled\"] === true) {\n      status = \"Введено\";\n    }\n\n    if (dataItem[\"onExecution\"] === true) {\n      status = \"На исполнении\";\n    }\n\n    if (dataItem[\"executed\"] === true) {\n      status = \"Исполнено\";\n    }\n\n    if (dataItem[\"canceled\"] === true) {\n      status = \"Отменено\";\n    }\n\n    return status;\n  }\n\n  function handleCloseSnackBar() {\n    setShowSnackBar(false);\n  }\n\n  function getContentType(key) {\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (key === Form.sections[s].contents[c].name) {\n          return Form.sections[s].contents[c].type;\n        }\n      }\n    }\n  } // filter docList by filled parameters\n\n\n  function filterDocList(fetchFrom, fetchTo, Data, fields) {\n    var newDocList = [];\n\n    if (Object.keys(fields).length === 0) {\n      newDocList = Data;\n    } else {\n      for (let i = 0; i < Data.length; i++) {\n        let match = false;\n\n        for (let key in fields) {\n          if (fields[key] === null || fields[key] === \"\" || fields[key] === undefined) {\n            match = true;\n          } else {\n            // if(Data[i][key] !== null){\n            let contentType = getContentType(key);\n\n            if (contentType === \"Text\") {\n              if (Data[i][key] !== null) {\n                try {\n                  let searchField = fields[key].toLowerCase().trim();\n                  let dataField = Data[i][key].toLowerCase();\n                  let includeSearch = dataField.includes(searchField);\n\n                  if (includeSearch === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                } catch (er) {\n                  console.log(\"ERR\", er);\n                  match = true;\n                }\n              } else {\n                match = false;\n                break;\n              }\n            } else if (contentType === \"Int\" || contentType === \"Float\") {\n              if (Data[i][key] !== null) {\n                if (fields[key] >= 0 || fields[key] < 0) {\n                  let searchField = fields[key].toString();\n                  let dataField = Data[i][key].toString();\n                  let includeSearch = dataField.includes(searchField);\n\n                  if (includeSearch === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                } else {\n                  match = true;\n                }\n              } else {\n                match = false;\n                break;\n              }\n            } else if (contentType === \"Enum\") {\n              if (key === \"depositor\") {\n                // console.log(\"DEPOSITOR\", fields[key], Data[i][\"depositor2\"])\n                if (fields[key] === Data[i][key] || fields[key] === Data[i][\"depositor2\"]) {\n                  match = true;\n                } else {\n                  match = false;\n                  break;\n                }\n              } else if (key === \"account\") {\n                if (fields[key] === Data[i][\"accFrom\"] || fields[key] === Data[i][\"accTo\"]) {\n                  match = true;\n                } else {\n                  match = false;\n                  break;\n                }\n              } else {\n                if (fields[key] === Data[i][key]) {\n                  match = true;\n                } else {\n                  match = false;\n                  break;\n                }\n              }\n            } else if (contentType === \"DateTime\") {\n              if (Data[i][key] !== null) {\n                let searchField = props.parseDate(fields[key]);\n                let dataField = props.parseDate(Data[i][key]); // console.log(\"DATES\", searchField, dataField, searchField.includes(dataField))\n\n                if (searchField === \"NaN-NaN-NaN\" || searchField === \"Invalid date\") {\n                  match = true;\n                } else {\n                  if (searchField.includes(dataField) === true) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                }\n              } else {\n                match = false;\n                break;\n              }\n            } else if (contentType === \"Bool\") {\n              if (key === \"filled\" || key === \"onExecution\" || key === \"executed\" || key === \"canceled\") {\n                let instrStatus = \"\";\n                let statusSelected = false;\n                let fieldStatus = \"\"; // Check fields\n\n                if (fields[\"filled\"] === true) {\n                  fieldStatus = \"filled\";\n                  statusSelected = true;\n                }\n\n                if (fields[\"onExecution\"] === true) {\n                  fieldStatus = \"onExecution\";\n                  statusSelected = true;\n                }\n\n                if (fields[\"executed\"] === true) {\n                  fieldStatus = \"executed\";\n                  statusSelected = true;\n                }\n\n                if (fields[\"canceled\"] === true) {\n                  fieldStatus = \"canceled\";\n                  statusSelected = true;\n                }\n\n                if (statusSelected === true) {\n                  // Check Instruction\n                  if (Data[i][\"filled\"] === true) {\n                    instrStatus = \"filled\";\n                  }\n\n                  if (Data[i][\"onExecution\"] === true) {\n                    instrStatus = \"onExecution\";\n                  }\n\n                  if (Data[i][\"executed\"] === true) {\n                    instrStatus = \"executed\";\n                  }\n\n                  if (Data[i][\"canceled\"] === true) {\n                    instrStatus = \"canceled\";\n                  } // Check whether statuses are equal\n\n\n                  if (fieldStatus === instrStatus) {\n                    match = true;\n                  } else {\n                    match = false;\n                    break;\n                  }\n                } else {\n                  match = true;\n                }\n              } else {\n                if (Data[i][key] === null || fields[key] === Data[i][key]) {\n                  match = true;\n                } else {\n                  match = false;\n                  break;\n                }\n              }\n            } // }\n            // else{\n            //   match = false\n            //   break\n            // }\n\n          }\n        }\n\n        if (match === true) {\n          newDocList.push(Data[i]);\n        }\n      }\n    }\n\n    setFilteredDocList(newDocList);\n    fetchBySize(fetchFrom, fetchTo, newDocList);\n  } // get rows amount of filtered docList by size\n\n\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    let newDocList = [];\n\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i]);\n      }\n    }\n\n    setDocList(newDocList); // setUpdateState(getUUID())\n  } // Pagination functions\n\n\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1);\n      fetchBySize(0, size - 1, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowLastClick() {\n    if (page !== getPageAmount()) {\n      setPage(getPageAmount());\n      fetchBySize((getPageAmount() - 1) * size, filteredDocList.length, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на последней странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1;\n      setPage(prevPage);\n      let fetchFrom = (prevPage - 1) * size; //10\n\n      let fetchTo = size * prevPage - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    } else {\n      setSnackBarMessage(\"Вы на первой странице!\");\n      setShowSnackBar(true);\n    }\n  }\n\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\");\n      setShowSnackBar(true);\n    } else {\n      setPage(page + 1);\n      let fetchFrom = size * page;\n      let fetchTo = (page + 1) * size - 1;\n      fetchBySize(fetchFrom, fetchTo, filteredDocList);\n    }\n  }\n\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value);\n    setPage(1);\n    fetchBySize(0, event.target.value - 1, filteredDocList);\n  }\n\n  function GoToPage() {\n    let fetchFrom = page * size - 1 - size;\n    let fetchTo = page * size - 1;\n    fetchBySize(fetchFrom, fetchTo, filteredDocList);\n  }\n\n  function handlePageChange(event) {\n    setPage(event.target.value);\n  }\n\n  function handleCloseSnackBar() {\n    setShowSnackBar(false);\n  }\n\n  function getPageAmount() {\n    let pagesFloat = filteredDocList.length / size;\n    let mathRoundOfPages = Math.floor(pagesFloat);\n\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1;\n    } else {\n      return mathRoundOfPages;\n    }\n  }\n\n  function getBackgroundColor(signed, urgent) {\n    if (signed !== undefined) {\n      if (signed === true) {\n        return \"white\";\n      } else {\n        if (urgent === true) {\n          return \"#EFB2B2\";\n        } else {\n          return \"#FCEAD3\";\n        }\n      }\n    } else return \"white\";\n  }\n\n  function checkToShowSection(section) {\n    let showSection = false;\n\n    for (let i = 0; i < section.contents.length; i++) {\n      if (section.contents[i].show === true) {\n        showSection = true;\n        break;\n      }\n    }\n\n    return showSection;\n  }\n\n  function checkSectionOnLastChild(i) {\n    let lastSection = true;\n\n    if (i === gridForm.sections.length - 1) {\n      // The last section\n      return true;\n    } else {\n      let nextS = i + 1; // console.log(\"IT\", i, gridForm.sections[nextS])\n\n      for (let s = nextS; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n          // Check next section\n          if (gridForm.sections[s].contents[c].show === true) {\n            lastSection = false;\n            break;\n          }\n        }\n      }\n    }\n\n    return lastSection;\n  }\n\n  function getForm() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      spacing: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2558,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: isSearchForm === true ? 12 : 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2559,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2560,\n        columnNumber: 11\n      }\n    }, isSearchForm === false && /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2562,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2563,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      style: {\n        maxHeight: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2564,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        fontSize: 16,\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2565,\n        columnNumber: 21\n      }\n    }, Form.label)))), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2570,\n        columnNumber: 13\n      }\n    }, Form.sections.map((section, index) => {\n      let showSection = checkToShowSection(section);\n\n      if (showSection === true) {\n        return sectionBuilder(section, index);\n      }\n    })))));\n  }\n\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i].name === name) {\n        for (let d = 0; d < gridFormEnumData[i].data.length; d++) {\n          if (gridFormEnumData[i].data[d].id === id) {\n            return gridFormEnumData[i].data[d].label;\n          }\n        }\n      }\n    }\n  }\n\n  function dynamicSort(property, sortOrder, type) {\n    // if (type === \"DateTime\" || type === \"Bool\") {\n    //   sortOrder = sortOrder * -1\n    // }\n    // console.log(\"SORT\", property, sortOrder, type)\n    if (type === \"DateTime\") {\n      sortOrder = sortOrder * -1;\n      return function (a, b) {\n        if (a[property] !== null && b[property] !== null) {\n          let dateA = new Date(a[property].substring(0, 19));\n          let timeInSecA = dateA.getTime() / 1000; // console.log(\"timeInSecA\", timeInSecA)\n\n          let dateB = new Date(b[property].substring(0, 19));\n          let timeInSecB = dateB.getTime() / 1000; // console.log(\"timeInSecB\", timeInSecB)\n\n          var result = timeInSecA < timeInSecB ? -1 : timeInSecA > timeInSecB ? 1 : 0;\n          return result * sortOrder;\n        } else {\n          if (a[property] === null) {\n            return -1 * sortOrder;\n          }\n\n          return 1 * sortOrder;\n        }\n      };\n    } else if (type === \"Int\" || type === \"Text\" || type === \"Float\") {\n      if (property === \"instructionStatus\") {\n        return function (a, b) {\n          // console.log(\"A\", a)\n          let statusA = getInstructionStatus(a);\n          let statusB = getInstructionStatus(b);\n          var result = statusA < statusB ? -1 : statusA > statusB ? 1 : 0;\n          return result * sortOrder;\n        };\n      } else {\n        return function (a, b) {\n          var result = a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n          return result * -1 * sortOrder;\n        };\n      }\n    } else if (type === \"Bool\" || type === \"BoolCustom\") {\n      sortOrder = sortOrder * -1;\n      return function (a, b) {\n        var result = a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n        return result * sortOrder;\n      };\n    } else if (type === \"Enum\") {\n      return function (a, b) {\n        let labelA = getEnumLabel(property, a[property]); // console.log(\"A\", property, a[property], labelA)\n\n        let labelB = getEnumLabel(property, b[property]); // console.log(\"labelB\", labelB, property, b)\n\n        var result = labelA < labelB ? -1 : labelA > labelB ? 1 : 0;\n        return result * sortOrder;\n      };\n    }\n  }\n\n  function sortDataByColumn(name, type) {\n    let sortOrder = 1;\n\n    if (sortedColumn === name) {\n      sortOrder = sortedColumnOrder * -1;\n    }\n\n    setSortedColumnOrder(sortOrder);\n    setSortedColumn(name);\n    let sortedDocList = filteredDocList.sort(dynamicSort(name, sortOrder, type));\n    setPage(1);\n    let fetchFrom = 0;\n    let fetchTo = size - 1;\n    setFilteredDocList(sortedDocList);\n    fetchBySize(fetchFrom, fetchTo, sortedDocList);\n  }\n\n  function getSecType(id) {\n    let type = 1;\n\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i] !== null) {\n        if (gridFormEnumData[i].name === \"security\") {\n          for (let d = 0; d < gridFormEnumData[i].data.length; d++) {\n            if (gridFormEnumData[i].data[d].id === id) {\n              type = gridFormEnumData[i].data[d].type;\n            }\n          }\n        }\n      }\n    }\n\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i] !== null) {\n        if (gridFormEnumData[i].name === \"securityTypes\") {\n          for (let d = 0; d < gridFormEnumData[i].data.length; d++) {\n            if (gridFormEnumData[i].data[d].id === type) {\n              return gridFormEnumData[i].data[d].label;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function calculateColSpan(contents) {\n    let num = 0;\n\n    for (let i = 0; i < contents.length; i++) {\n      if (contents[i].show === true) {\n        num += 1;\n      }\n    }\n\n    return num;\n  }\n\n  const handleContextMenu = event => {\n    if (userProfile.userRole === \"1\") {\n      event.preventDefault();\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null); // console.log(\"CLOSE\", fieldValue)\n\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        gridForm.sections[s].contents[c].show = gridFieldValue[gridForm.sections[s].contents[c].name];\n      }\n    }\n\n    console.log(\"nForm\", gridForm);\n    setGridForm(gridForm);\n    setUpdateState(getUUID());\n  };\n\n  function createMenuItems() {\n    let columns = [];\n    columns.push( /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2726,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        paddingLeft: 5,\n        cursor: \"pointer\"\n      },\n      name: \"selectAll\",\n      onClick: () => handleTableCheckboxChange(\"selectAll\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2727,\n        columnNumber: 9\n      }\n    }, \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2734,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      style: {\n        maxWidth: 20,\n        height: 15,\n        color: \"green\"\n      },\n      name: \"selectAll\",\n      onChange: handleGridCheckboxChange,\n      checked: gridFieldValue[\"selectAll\"] === false || gridFieldValue[\"selectAll\"] === null || gridFieldValue[\"selectAll\"] === undefined ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2735,\n        columnNumber: 11\n      }\n    }))));\n\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        let name = gridForm.sections[s].contents[c].name;\n        columns.push( /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2748,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          style: {\n            paddingLeft: 5,\n            cursor: \"pointer\",\n            background: gridFieldValue[name] === true ? \"#E2E2E2\" : \"white\"\n          },\n          name: name,\n          onClick: () => handleTableCheckboxChange(name),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2749,\n            columnNumber: 13\n          }\n        }, gridForm.sections[s].contents[c].label), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2756,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          style: {\n            maxWidth: 20,\n            height: 15,\n            color: \"green\"\n          },\n          name: name,\n          onChange: handleGridCheckboxChange,\n          checked: gridFieldValue[name] === false || gridFieldValue[name] === null || gridFieldValue[name] === undefined ? false : true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2757,\n            columnNumber: 15\n          }\n        }))));\n      }\n    }\n\n    return columns;\n  }\n\n  function downloadExcel() {\n    tableToExcel.convert(document.getElementById(gridTableId));\n  }\n\n  const handleGridCheckboxChange = event => {\n    // console.log(\"CHBX\", event.target.name, event.target.checked)\n    if (event.target.name === \"selectAll\") {\n      let newFields = {\n        [event.target.name]: event.target.checked\n      };\n\n      for (let key in gridFieldValue) {\n        newFields[key] = !gridFieldValue[event.target.name];\n      } // console.log(\"selectAll\", newFields)\n\n\n      setGridFieldValue(newFields);\n    } else {\n      setGridFieldValue({ ...gridFieldValue,\n        [event.target.name]: event.target.checked\n      });\n    }\n  };\n\n  const handleTableCheckboxChange = name => {\n    // console.log(\"TD CHBX\", name)\n    if (name === \"selectAll\") {\n      let newFields = { ...gridFieldValue\n      };\n\n      for (let key in newFields) {\n        newFields[key] = !gridFieldValue[name];\n      }\n\n      setGridFieldValue(newFields);\n    } else {\n      setGridFieldValue({ ...gridFieldValue,\n        [name]: !gridFieldValue[name]\n      });\n    }\n  };\n\n  function previewInstruction(instr) {\n    // console.log(\"SELECTED INSTR\", instr)\n    setSelectedInstruction(instr);\n  }\n\n  try {\n    return /*#__PURE__*/React.createElement(Grid, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2806,\n        columnNumber: 7\n      }\n    }, isSearchForm !== null && isSearchForm === true ? /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      spacing: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2810,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2811,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Accordion, {\n      expanded: accordionExpanded,\n      onChange: () => handleExpandAccordion(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2812,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AccordionSummary, {\n      expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2814,\n          columnNumber: 31\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2813,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2816,\n        columnNumber: 19\n      }\n    }, Form.label)), /*#__PURE__*/React.createElement(AccordionDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2818,\n        columnNumber: 17\n      }\n    }, getForm())))) : getForm(), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      alignItems: \"flex-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2827,\n        columnNumber: 9\n      }\n    }, buttons.map((button, index) => {\n      return createButton(button, index);\n    }), taskType !== \"showInstructionsGIKSearchForm\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      component: \"a\",\n      href: \"../\\u0418\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0446\\u0438\\u044F \\u0420\\u0443\\u0442\\u043E\\u043A\\u0435\\u043D.docx\",\n      download: true,\n      variant: \"outlined\",\n      style: {\n        margin: 3,\n        backgroundColor: \"#13611B\",\n        color: \"white\",\n        height: 32,\n        fontSize: 12\n      },\n      onClick: () => buttonClick(\"downloadES\"),\n      startIcon: /*#__PURE__*/React.createElement(DescriptionIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2847,\n          columnNumber: 28\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2834,\n        columnNumber: 15\n      }\n    }, \"\\u0418\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0446\\u0438\\u044F \\u042D\\u0426\\u041F\"), /*#__PURE__*/React.createElement(Button, {\n      component: \"a\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: \"https://www.rutoken.ru/support/download/rutoken-plugin/\",\n      download: true,\n      variant: \"outlined\",\n      style: {\n        margin: 3,\n        backgroundColor: \"#13611B\",\n        color: \"white\",\n        height: 32,\n        fontSize: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2850,\n        columnNumber: 15\n      }\n    }, \"\\u041F\\u043B\\u0430\\u0433\\u0438\\u043D\"), /*#__PURE__*/React.createElement(Button, {\n      component: \"a\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: \"https://www.rutoken.ru/support/download/windows/\",\n      download: true,\n      variant: \"outlined\",\n      style: {\n        margin: 3,\n        backgroundColor: \"#13611B\",\n        color: \"white\",\n        height: 32,\n        fontSize: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2866,\n        columnNumber: 15\n      }\n    }, \"\\u0414\\u0440\\u0430\\u0439\\u0432\\u0435\\u0440\"))), isSearchForm === true && /*#__PURE__*/React.createElement(ReplayIcon, {\n      style: {\n        paddingTop: 3,\n        cursor: \"pointer\"\n      },\n      onClick: () => buttonClick(\"updateDocList\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2886,\n        columnNumber: 11\n      }\n    }), docList !== null && /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2890,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2891,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2892,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"500px\",\n        overflow: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2893,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      size: \"small\",\n      class: \"main-table-style\",\n      id: gridTableId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2894,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      class: \"thead-style\",\n      style: {\n        position: \"sticky\",\n        top: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2895,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2897,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      class: \"td-head-first-child\",\n      colSpan: \"1\",\n      onContextMenu: ev => handleContextMenu(ev),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2898,\n        columnNumber: 25\n      }\n    }), gridForm.sections.map((section, index) => {\n      let showSection = checkToShowSection(section);\n\n      if (showSection === true) {\n        let lastSection = checkSectionOnLastChild(index);\n        return /*#__PURE__*/React.createElement(\"td\", {\n          class: lastSection === true ? \"td-head-last-child\" : \"td-head-style\",\n          colSpan: calculateColSpan(section.contents),\n          onContextMenu: ev => handleContextMenu(ev),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2904,\n            columnNumber: 31\n          }\n        }, section.label);\n      }\n    })), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2916,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      class: \"td-head-style-2row\",\n      rowSpan: \"2\",\n      style: {\n        \"minWidth\": \"65px\"\n      },\n      onContextMenu: ev => handleContextMenu(ev),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2917,\n        columnNumber: 25\n      }\n    }, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"), gridForm.sections.map(section => section.contents.map(contentItem => {\n      if (contentItem.show === true) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          class: \"td-head-style-2row\",\n          rowSpan: \"2\",\n          onClick: () => sortDataByColumn(contentItem.name, contentItem.type),\n          onContextMenu: ev => handleContextMenu(ev),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2929,\n            columnNumber: 33\n          }\n        }, contentItem.label, sortedColumn === contentItem.name ? sortedColumnOrder === 1 ? /*#__PURE__*/React.createElement(ArrowDropDownIcon, {\n          style: {\n            marginBottom: -8\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2935,\n            columnNumber: 117\n          }\n        }) : /*#__PURE__*/React.createElement(ArrowDropUpIcon, {\n          style: {\n            marginBottom: -8\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2935,\n            columnNumber: 170\n          }\n        }) : \"\");\n      }\n    })))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2943,\n        columnNumber: 21\n      }\n    }, Object.keys(docList).length !== 0 && docList.map(dataItem => /*#__PURE__*/React.createElement(\"tr\", {\n      style: {\n        \"height\": 30,\n        \"backgroundColor\": getBackgroundColor(dataItem.opened, dataItem.urgent),\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2946,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        \"width\": 34,\n        \"border-bottom\": \"1px solid grey\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2947,\n        columnNumber: 29\n      }\n    }, gridFormButtons !== \"null\" && gridFormButtons.map(button => /*#__PURE__*/React.createElement(Button, {\n      key: button.name,\n      name: button.name,\n      variant: \"outlined\",\n      value: button.name,\n      onClick: () => buttonClick(button.name, dataItem),\n      style: {\n        margin: 1,\n        height: 24,\n        fontSize: 10,\n        maxWidth: 32,\n        backgroundColor: button.backgroundColor,\n        borderColor: \"darkgreen\",\n        color: \"darkgreen\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2950,\n        columnNumber: 35\n      }\n    }, button.label))), gridForm.sections.map(section => {\n      return section.contents.map(contentItem => {\n        if (contentItem.show === true) {\n          return /*#__PURE__*/React.createElement(\"td\", {\n            class: \"td-body-style\",\n            style: {\n              color: selectedInstruction !== null ? selectedInstruction.id === dataItem.id ? \"blue\" : \"black\" : \"black\"\n            },\n            onClick: () => previewInstruction(dataItem),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 2974,\n              columnNumber: 39\n            }\n          }, getGridFormItems(dataItem[contentItem.name], contentItem.type, dataItem, contentItem.name));\n        }\n      });\n    })))))), /*#__PURE__*/React.createElement(\"tfoot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2988,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2989,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        paddingLeft: \"3px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2990,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      style: {\n        background: \"#047535\",\n        color: \"white\",\n        height: 28\n      },\n      onClick: () => downloadExcel(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2991,\n        columnNumber: 23\n      }\n    }, \"\\u0412 EXCEL\")), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        paddingLeft: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2998,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        minWidth: 90,\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2999,\n        columnNumber: 23\n      }\n    }, \"\\u041A\\u043E\\u043B-\\u0432\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439\")), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        paddingLeft: \"3px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3001,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      variant: \"outlined\",\n      style: {\n        minWidth: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3002,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(GridSelect, {\n      onChange: handleChangeRowsPerPage,\n      style: {\n        height: 25,\n        color: \"black\"\n      },\n      value: size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3006,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3011,\n        columnNumber: 27\n      }\n    }, \"10\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3012,\n        columnNumber: 27\n      }\n    }, \"20\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3013,\n        columnNumber: 27\n      }\n    }, \"50\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3014,\n        columnNumber: 27\n      }\n    }, \"100\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 200,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3015,\n        columnNumber: 27\n      }\n    }, \"200\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3016,\n        columnNumber: 27\n      }\n    }, \"500\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3017,\n        columnNumber: 27\n      }\n    }, \"1000\")))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3021,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"\\u041D\\u0430 \\u043F\\u0435\\u0440\\u0432\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3022,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => KeyboardArrowFirstClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3023,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FirstPageIcon, {\n      style: {\n        fontSize: \"large\",\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3024,\n        columnNumber: 27\n      }\n    })))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3028,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"\\u041D\\u0430 \\u043F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3029,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => KeyboardArrowLeftClick(page),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3030,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n      style: {\n        fontSize: \"medium\",\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3031,\n        columnNumber: 27\n      }\n    })))), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        color: \"black\",\n        fontSize: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3035,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        maxWidth: 25\n      },\n      value: page,\n      onChange: handlePageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3036,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        paddingLeft: \"3px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3038,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043D\\u0430 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u0443\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3039,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => GoToPage(),\n      variant: \"outlined\",\n      style: {\n        height: 22,\n        backgroundColor: \"#D1D6D6\",\n        fontSize: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3040,\n        columnNumber: 25\n      }\n    }, \"\\u043F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438\"))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3052,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"\\u041D\\u0430 \\u0441\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3053,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => KeyboardArrowRightClick(page),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3054,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n      style: {\n        fontSize: \"medium\",\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3055,\n        columnNumber: 27\n      }\n    })))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3059,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"\\u041D\\u0430 \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u044E\\u044E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3060,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => KeyboardArrowLastClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3061,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(LastPageIcon, {\n      style: {\n        fontSize: \"large\",\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3062,\n        columnNumber: 27\n      }\n    })))), /*#__PURE__*/React.createElement(\"td\", {\n      class: \"pagination-rows-amount-style\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3066,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u0442\\u0440. \", page, \" \\u0438\\u0437 \", getPageAmount()), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        paddingLeft: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3067,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        minWidth: 90,\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3068,\n        columnNumber: 23\n      }\n    }, \"\\u041E\\u0431\\u0449\\u0435\\u0435 \\u043A\\u043E\\u043B-\\u0432\\u043E \", filteredDocList !== null ? filteredDocList.length : 0))))), selectedInstruction !== null && /*#__PURE__*/React.createElement(\"table\", {\n      size: \"small\",\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3074,\n        columnNumber: 17\n      }\n    }, selectedInstruction.depositor !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3076,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3077,\n        columnNumber: 23\n      }\n    }, \"\\u0414\\u0435\\u043F\\u043E\\u043D\\u0435\\u043D\\u0442(\\u0421\\u043E \\u0441\\u0447\\u0451\\u0442\\u0430):\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3078,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"depositor\", selectedInstruction.depositor))), selectedInstruction.accFrom !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3082,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3083,\n        columnNumber: 23\n      }\n    }, \"\\u0421\\u043E \\u0441\\u0447\\u0451\\u0442\\u0430:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3084,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"accFrom\", selectedInstruction.accFrom))), selectedInstruction.depositor2 !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3088,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3089,\n        columnNumber: 23\n      }\n    }, \"\\u0414\\u0435\\u043F\\u043E\\u043D\\u0435\\u043D\\u0442(\\u041D\\u0430 \\u0441\\u0447\\u0451\\u0442):\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3090,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"depositor2\", selectedInstruction.depositor2))), selectedInstruction.accTo !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3094,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3095,\n        columnNumber: 23\n      }\n    }, \"\\u041D\\u0430 \\u0441\\u0447\\u0451\\u0442:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3096,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"accTo\", selectedInstruction.accTo))), selectedInstruction.security !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3100,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3101,\n        columnNumber: 23\n      }\n    }, \"\\u0426\\u0435\\u043D\\u043D\\u0430\\u044F \\u0431\\u0443\\u043C\\u0430\\u0433\\u0430:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3102,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"security\", selectedInstruction.security) + \" \" + getSecType(selectedInstruction.security))), selectedInstruction.currency !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3107,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3108,\n        columnNumber: 23\n      }\n    }, \"\\u0412\\u0430\\u043B\\u044E\\u0442\\u0430:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3109,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"currency\", selectedInstruction.currency))), selectedInstruction.security !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3115,\n        columnNumber: 23\n      }\n    }, \"\\u042D\\u043C\\u0438\\u0442\\u0435\\u043D\\u0442:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3116,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"issuer\", selectedInstruction.issuer))), selectedInstruction.tradingSystem !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3120,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3121,\n        columnNumber: 23\n      }\n    }, \"\\u0422\\u043E\\u0440\\u0433\\u043E\\u0432\\u0430\\u044F \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0430:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3122,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"tradingSystem\", selectedInstruction.tradingSystem))), selectedInstruction.corrDepository !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3127,\n        columnNumber: 23\n      }\n    }, \"\\u041A\\u043E\\u0440\\u0440. \\u0434\\u0435\\u043F\\u043E\\u0437\\u0438\\u0442\\u0430\\u0440\\u0438\\u0439:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3128,\n        columnNumber: 23\n      }\n    }, getGridFormEnumLabel(\"corrDepository\", selectedInstruction.corrDepository))), (selectedInstruction.ownerName !== null || selectedInstruction.ownerDocument !== null || selectedInstruction.ownerAddress !== null) && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3132,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3133,\n        columnNumber: 23\n      }\n    }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E \\u0432\\u043B\\u0430\\u0434\\u0435\\u043B\\u044C\\u0446\\u0435:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3134,\n        columnNumber: 23\n      }\n    }, selectedInstruction.ownerName + \" \" + selectedInstruction.ownerDocument + \" \" + selectedInstruction.ownerAddress)), selectedInstruction.quantity !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3138,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3139,\n        columnNumber: 23\n      }\n    }, \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3140,\n        columnNumber: 23\n      }\n    }, selectedInstruction.quantity)), selectedInstruction.basis !== null && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3145,\n        columnNumber: 23\n      }\n    }, \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435:\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11,\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3146,\n        columnNumber: 23\n      }\n    }, selectedInstruction.basis))), /*#__PURE__*/React.createElement(Menu, {\n      anchorEl: anchorEl,\n      open: openMenu,\n      onClose: handleCloseMenu,\n      MenuListProps: {\n        'aria-labelledby': 'basic-button'\n      },\n      style: {\n        paddingLeft: \"100px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3151,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3160,\n        columnNumber: 17\n      }\n    }, createMenuItems())))), /*#__PURE__*/React.createElement(Snackbar, {\n      open: showSnackBar,\n      onClose: () => handleCloseSnackBar(),\n      autoHideDuration: 1200,\n      message: snackBarMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3167,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Modal, {\n      open: showModalCancelInstruction,\n      onClose: handleCloseModalCancelInstruction,\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3173,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: modalStyle,\n      className: classes.modal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3179,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      id: \"simple-modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3180,\n        columnNumber: 13\n      }\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0443 \\u043E\\u0442\\u043C\\u0435\\u043D\\u044B\"), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      multiline: true,\n      autoFocus: true,\n      name: \"cancelationReason\",\n      defaultValue: fieldValue[\"cancelationReason\"] >= 0 ? fieldValue[\"cancelationReason\"] : \"\",\n      onChange: handleTextChange,\n      onKeyPress: onKeyPressModalCancelInstruction,\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3181,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      onClick: () => buttonClick(\"CancelInstructionSaveButton\"),\n      style: {\n        margin: 3,\n        height: 32,\n        fontSize: 12,\n        color: \"white\",\n        backgroundColor: \"#2862F4\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3191,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u043A\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      onClick: () => buttonClick(\"CancelInstructionCancelButton\"),\n      style: {\n        margin: 3,\n        height: 32,\n        fontSize: 12,\n        color: \"white\",\n        backgroundColor: \"#E73639\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3203,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))), /*#__PURE__*/React.createElement(Modal, {\n      open: showModalEnterPin,\n      onClose: handleCloseModalEnterPin,\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3217,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: modalStyle,\n      className: classes.modal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3223,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      id: \"simple-modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3224,\n        columnNumber: 13\n      }\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041F\\u0418\\u041D \\u043A\\u043E\\u0434 \\u0420\\u0443\\u0442\\u043E\\u043A\\u0435\\u043D\\u0430\"), /*#__PURE__*/React.createElement(FormControl, {\n      variant: \"outlined\",\n      style: {\n        width: \"100%\"\n      },\n      error: wrongPin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3225,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      htmlFor: \"outlined-adornment-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3226,\n        columnNumber: 15\n      }\n    }, \"PIN\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n      type: showPin ? 'text' : 'password',\n      defaultValue: rutokenPin,\n      onChange: handlePinChange,\n      onKeyPress: onKeyPressModalEnterPin,\n      autoFocus: true,\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3234,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        \"aria-label\": \"toggle password visibility\",\n        onClick: handleClickShowPin,\n        edge: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3235,\n          columnNumber: 21\n        }\n      }, showPin ? /*#__PURE__*/React.createElement(Visibility, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3240,\n          columnNumber: 34\n        }\n      }) : /*#__PURE__*/React.createElement(VisibilityOff, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 3240,\n          columnNumber: 51\n        }\n      }))),\n      labelWidth: 25,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3227,\n        columnNumber: 15\n      }\n    })), wrongPin === true && /*#__PURE__*/React.createElement(\"p\", {\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3247,\n        columnNumber: 35\n      }\n    }, \"\\u041D\\u0435 \\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 PIN\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      onClick: () => buttonClick(\"SignInstructionSaveButton\"),\n      style: {\n        margin: 3,\n        height: 32,\n        fontSize: 12,\n        color: \"white\",\n        backgroundColor: \"#2862F4\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3248,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u043A\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      onClick: handleCloseModalEnterPin,\n      style: {\n        margin: 3,\n        height: 32,\n        fontSize: 12,\n        color: \"white\",\n        backgroundColor: \"#E73639\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3260,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n  } catch (error) {\n    console.log(\"ERROR\", error);\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      spacing: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3281,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3282,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(LinearProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3283,\n        columnNumber: 11\n      }\n    })));\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Select","NumberFormat","PropTypes","Grid","TextField","Button","Checkbox","Table","TableHead","TableBody","TableRow","TableCell","Menu","Snackbar","LinearProgress","MenuItem","Paper","Radio","RadioGroup","Tooltip","IconButton","Modal","makeStyles","GridSelect","FormControl","FormControlLabel","OutlinedInput","InputLabel","InputAdornment","Visibility","VisibilityOff","ArrowForwardIosIcon","ArrowBackIosIcon","FirstPageIcon","LastPageIcon","DescriptionIcon","ArrowDropDownIcon","ArrowDropUpIcon","ReplayIcon","ArrowUpwardRoundedIcon","Accordion","AccordionDetails","AccordionSummary","Typography","ExpandMoreIcon","swal","hotkeys","rutoken","tableToExcel","plugin","rutokenHandle","certHandle","certData","cmsData","moment","require","FloatFormat","props","inputRef","onChange","other","values","target","name","value","propTypes","func","isRequired","IntegerFormat","getModalStyle","top","left","transform","useStyles","theme","modal","position","width","backgroundColor","palette","background","paper","border","boxShadow","shadows","padding","spacing","classes","userProfile","process_id","userTask","session_id","taskID","taskType","enumData","gridFormEnumData","enumOptions","setEnumOptions","Form","setForm","gridForm","setGridForm","selectedDoc","setSelectedDoc","fieldValue","setFieldValue","docId","buttons","gridFormButtons","formType","docList","setDocList","filteredDocList","setFilteredDocList","initialDocList","setInitialDocList","page","setPage","size","setSize","selectedOptions","setSelectedOptions","sectionColor","snackBarMessage","setSnackBarMessage","showSnackBar","setShowSnackBar","modalStyle","showModalCancelInstruction","setShowModalCancelInstruction","showModalEnterPin","setShowModalEnterPin","rutokenPin","setRutokenPin","showPin","setShowPin","wrongPin","setWrongPin","updateState","setUpdateState","isSearchForm","setIsSearchForm","accordionExpanded","setAccordionExpanded","sortedColumn","setSortedColumn","sortedColumnOrder","setSortedColumnOrder","selectedInstruction","setSelectedInstruction","anchorEl","setAnchorEl","openMenu","Boolean","gridTableId","getUUID","gridFieldValue","setGridFieldValue","console","log","parsedData","JSON","parse","s","parseInt","p","sortedDocList","sort","dynamicSort","filterDocList","fetchBySize","er","callErrorToast","undefined","parsedSelectedDoc","fields","ed","userRole","newForm","editDepositor","editDepositor2","editAccFrom","editAccTo","sections","length","c","contents","edit","i","d","data","partner","depositorId","id","show","Object","keys","fieldName","eData","newEnumOptions","options","getInstructionTypeName","push","label","instructionTypeId","type","filteredRelations","checkResult","checkForPushing","enableToPush","getLostEnumName","newFields","enumI","event","handler","key","handleOpenModalCancelInstruction","handleCloseModalCancelInstruction","handleOpenModalEnterPin","handleCloseModalEnterPin","handleExpandAccordion","relations","splitedAccountName","split","allowedAccountCode","splitedAccountLabel","accCode","accPartner","handlePinChange","handleClickShowPin","ready","then","window","chrome","InstallTrigger","isExtensionInstalled","Promise","resolve","result","isPluginInstalled","loadPlugin","handleError","reason","isNaN","message","errorCodes","PIN_INCORRECT","sign","commandJson","enumerateDevices","devices","alert","firstDevice","getDeviceInfo","TOKEN_INFO_IS_LOGGED_IN","isLoggedIn","login","enumerateCertificates","CERT_CATEGORY_UNSPEC","certs","parseCertificate","tokenRemainingTime","Date","validNotAfter","getTime","now","inn","fullName","subject","rdn","setEsInn","setEsUserFullName","setEsExpiredDate","substring","instructionToSign","variables","document","filled","getCurrentFullDateTime","firstName","lastName","middleName","status","stringify","sendFieldValues","clearTabData","DATA_FORMAT_PLAIN","logout","handleCheckboxChange","checked","handleRadioGroupChange","handleTextChange","handleFloatChange","handleIntChange","stringNum","toString","replace","int","handleDateTimeChange","format","handleSelectChange","option","updateSelectedOptions","slice","noSuchOption","newOptions","depositorPartner","getDepositorPartner","issuerId","issuer","j","h","issuerOption","noIssuerOption","y","depId","uuidv1","getFieldValuesCreateDocument","getFieldValuesSaveInstruction","onExecution","executed","canceled","opened","signed","created_user_partner","getCreatedPartner","sh","getDepositorPartnerId","depositor","depositor2","getFieldValuesUpdateInstruction","docToUpdate","checkForRequieredFields","checkedSuccessfuly","required","swAllert","text","icon","ok","buttonClick","buttonName","dataItem","operDayIsOpened","createDocument","commandType","userAction","searchDoc","userId","createFormDefId","report","k","create_form","reportName","copyFields","urgent","accFrom","accTo","security","currency","quantity","basis","ownerName","ownerDocument","ownerAddress","additional_information","payment_account","payment_bank","payment_bik","payment_purpose","payment_recipient","tradingSystem","instructionType","updateDocument","notBody","user_session_id","showTransferOrder","transferOrder","instruction_id","registered_person","address","quantity_int","t","dt","security_type","registrar","transfer_order","saveBody","notificationsBody","cancel","click","currentStatus","editFormDefId","edit_form","esInn","esUserFullName","filledUser","signed_at_depositor","filled_at","docToDelete","yes","cancelationReason","documentsToCancel","xml","prop","finalxml","pom","createElement","filename","bb","Blob","setAttribute","URL","createObjectURL","dataset","downloadurl","download","href","join","draggable","classList","add","reportId","e","reportExecutions","trim","reportVars","createButton","button","index","margin","color","fontColor","height","fontSize","sectionBuilder","section","bodyBuilder","map","contentItem","contentBuilder","onKeyPressText","onKeyPressDateTime","parseDate","shrink","parseFullDateTime","selectedOption","body","menuPortal","base","zIndex","onKeyPressInt","inputComponent","onKeyPressFloat","maxWidth","radioGroupItems","groupItem","code","charCode","float","parseFloat","onKeyPressModalEnterPin","onKeyPressModalCancelInstruction","swAlert","getGridFormEnumLabel","l","getGridFormItems","getInstructionStatus","newCur","currencyBeautifier","newInt","intBeautifier","handleCloseSnackBar","getContentType","fetchFrom","fetchTo","Data","newDocList","match","contentType","searchField","toLowerCase","dataField","includeSearch","includes","instrStatus","statusSelected","fieldStatus","KeyboardArrowFirstClick","KeyboardArrowLastClick","getPageAmount","KeyboardArrowLeftClick","prevPage","KeyboardArrowRightClick","handleChangeRowsPerPage","GoToPage","handlePageChange","pagesFloat","mathRoundOfPages","Math","floor","getBackgroundColor","checkToShowSection","showSection","checkSectionOnLastChild","lastSection","nextS","getForm","maxHeight","getEnumLabel","property","sortOrder","a","b","dateA","timeInSecA","dateB","timeInSecB","statusA","statusB","labelA","labelB","sortDataByColumn","getSecType","calculateColSpan","num","handleContextMenu","preventDefault","currentTarget","handleCloseMenu","createMenuItems","columns","paddingLeft","cursor","handleTableCheckboxChange","handleGridCheckboxChange","downloadExcel","convert","getElementById","previewInstruction","instr","paddingTop","overflow","ev","marginBottom","borderColor","minWidth","corrDepository","error"],"sources":["C:/Users/SERGO/Desktop/depo/src/components/Instructions/Instructions.jsx"],"sourcesContent":["// Import material and react components\nimport React, { useState, useEffect } from 'react';\nimport Select from 'react-select';\n// import MaskedInput from 'react-text-mask';\nimport NumberFormat from 'react-number-format';\nimport PropTypes from 'prop-types';\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Menu from '@mui/material/Menu';\n// import Input from '@material-ui/core/Input';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Modal from '@material-ui/core/Modal';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridSelect from '@material-ui/core/Select';\n// PIN components\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n// Icons\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport ArrowUpwardRoundedIcon from '@mui/icons-material/ArrowUpwardRounded';\n// Accordion\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n// Import libraries\nimport swal from 'sweetalert'; // https://sweetalert.js.org/guides/\nimport hotkeys from 'hotkeys-js';\nimport * as rutoken from \"rutoken\";\nimport tableToExcel from \"@linways/table-to-excel\"; // https://github.com/linways/table-to-excel\nvar plugin;\nvar rutokenHandle, certHandle, certData, cmsData;\nvar moment = require('moment');\n\nfunction FloatFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      decimalSeparator={\".\"}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nFloatFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\nfunction IntegerFormat(props) {\n  const { inputRef, onChange, ...other } = props;\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator={\" \"}\n      isNumericString\n    />\n  );\n}\nIntegerFormat.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\n\nfunction getModalStyle() {\n  const top = 35;\n  const left = 45;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    position: 'absolute',\n    width: 500,\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #AFAFAF',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  }\n}))\nexport default (props) => {\n  // This.state\n  const classes = useStyles()\n  const [userProfile] = useState(props.userProfile)\n  const [process_id] = useState(props.userTask.process_id)\n  const [session_id] = useState(props.userTask.session_id)\n  const [taskID] = useState(props.userTask.taskID)\n  const [taskType] = useState(props.userTask.taskType)\n  const [enumData] = useState(props.userTask.enumData)\n  const [gridFormEnumData] = useState(props.userTask.gridFormEnumData)\n  const [enumOptions, setEnumOptions] = useState({})\n  const [Form, setForm] = useState(props.userTask.Form)\n  const [gridForm, setGridForm] = useState(props.userTask.gridForm)\n  const [selectedDoc, setSelectedDoc] = useState(null)\n  const [fieldValue, setFieldValue] = useState({}) // opened: false\n  const [docId] = useState(props.userTask.docId)\n  const [buttons] = useState(props.userTask.buttons)\n  const [gridFormButtons] = useState(props.userTask.gridFormButtons)\n  const [formType] = useState(props.userTask.formType)\n  const [docList, setDocList] = useState(null)\n  const [filteredDocList, setFilteredDocList] = useState(null)\n  const [initialDocList, setInitialDocList] = useState(null)\n  const [page, setPage] = useState(1)\n  const [size, setSize] = useState(10)\n  const [selectedOptions, setSelectedOptions] = useState([])\n  const [sectionColor] = useState(\"#B2E0C9\")\n  const [snackBarMessage, setSnackBarMessage] = useState(\"\")\n  const [showSnackBar, setShowSnackBar] = useState(false)\n  const [modalStyle] = useState(getModalStyle)\n  const [showModalCancelInstruction, setShowModalCancelInstruction] = useState(false)\n  const [showModalEnterPin, setShowModalEnterPin] = useState(false)\n  const [rutokenPin, setRutokenPin] = useState(\"\")\n  const [showPin, setShowPin] = useState(false)\n  const [wrongPin, setWrongPin] = useState(false)\n  const [updateState, setUpdateState] = useState(null)\n  const [isSearchForm, setIsSearchForm] = useState(null)\n  const [accordionExpanded, setAccordionExpanded] = useState(false)\n  const [sortedColumn, setSortedColumn] = useState(\"null\")\n  const [sortedColumnOrder, setSortedColumnOrder] = useState(1)\n  const [selectedInstruction, setSelectedInstruction] = useState(null)\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const openMenu = Boolean(anchorEl)\n  const [gridTableId] = useState(getUUID())\n  const [gridFieldValue, setGridFieldValue] = useState({})\n\n  // Initializing\n  useEffect(() => {\n    console.log(\"INSTR PROPS\", props)\n    if (props.userTask.docList !== \"null\" && props.userTask.docList !== null) {\n      try {\n        let parsedData = JSON.parse(props.userTask.docList)\n        console.log(\"DOCL\", parsedData)\n        let s = parseInt(props.userTask.size)\n        let p = parseInt(props.userTask.page)\n        setSize(s)\n        setPage(p)\n        setFilteredDocList(parsedData)\n        if (taskType !== \"showInstructionsTypeSelectingForm\") {\n          setIsSearchForm(true)\n        }\n        setInitialDocList(parsedData)\n        let sortedDocList = parsedData.sort(dynamicSort(\"id\", 1, \"Int\"))\n\n        if (props.userTask.selectedDoc !== \"null\") {\n          filterDocList(0, s - 1, sortedDocList, JSON.parse(props.userTask.selectedDoc))\n        }\n        else { fetchBySize(0, s - 1, sortedDocList) }\n      }\n      catch (er) {\n        props.callErrorToast(\"Ошибка сбора списка данных \" + props.userTask.taskType)\n        setFilteredDocList([])\n        setIsSearchForm(true)\n        setInitialDocList([])\n        setDocList([])\n      }\n    }\n    else { setIsSearchForm(false) }\n    if (props.userTask.selectedDoc !== \"null\" && props.userTask.selectedDoc !== undefined && props.userTask.selectedDoc !== null) {\n      let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc)\n      let fields = { ...parsedSelectedDoc }\n      if (taskType === \"showInstructionsCreationForm\") { // Creater instruction\n        let ed = props.userTask.enumData\n        if (userProfile.userRole === \"3\") { //Depositor  || userProfile.userRole === \"4\" || userProfile.userRole === \"6\" || userProfile.userRole === \"8\" Registrar, GIK, CorrDepo\n          let newForm = Form\n          let editDepositor = null\n          let editDepositor2 = null\n          let editAccFrom = null\n          let editAccTo = null\n          // 1 step check wheter both fields are allowed for input\n          for (let s = 0; s < Form.sections.length; s++) {\n            for (let c = 0; c < Form.sections[s].contents.length; c++) {\n              if (Form.sections[s].contents[c].name === \"depositor\") {\n                editDepositor = Form.sections[s].contents[c].edit\n              }\n              if (Form.sections[s].contents[c].name === \"accFrom\") { // if account from is allowed for input depositor is sender\n                editAccFrom = Form.sections[s].contents[c].edit\n              }\n              if (Form.sections[s].contents[c].name === \"depositor2\") {\n                editDepositor2 = Form.sections[s].contents[c].edit\n              }\n              if (Form.sections[s].contents[c].name === \"accTo\") { // if account to is allowed for input depositor is recipient\n                editAccTo = Form.sections[s].contents[c].edit\n              }\n            }\n          }\n          console.log(editDepositor, editAccFrom, editDepositor2, editAccTo)\n          // 2 step block field \"accTo\" for depositor who create the instruction\n          // 1 Variant both fields are allowed\n          if (editDepositor === true && editDepositor2 === true) {\n            console.log(\"2 Fields alowed\")\n            for (let s = 0; s < Form.sections.length; s++) {\n              for (let c = 0; c < Form.sections[s].contents.length; c++) {\n                // separate by allowed account From/To fields\n                if (Form.sections[s].contents[c].name === \"depositor\") {\n                  if ((editAccFrom === true && editAccTo === false) || (editAccFrom === true && editAccTo === true)) { // if depositor is SENDER\n                    newForm.sections[s].contents[c].edit = false // block field\n                    // find partner for cur depositor and insert it to field depositor don't allow him to choose another depositor\n                    // console.log(\"Block depositor\")\n                    for (let i = 0; i < ed.length; i++) {\n                      if (ed[i].name === \"depositor\") {\n                        for (let d = 0; d < ed[i].data.length; d++) {\n                          // console.log(\"Put depositor\", ed[i].data[d].id)\n                          if (parseInt(props.userProfile.partner) === ed[i].data[d].partner) {\n                            let depositorId = ed[i].data[d].id\n                            fields[\"depositor\"] = depositorId // set field from profile\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                if (Form.sections[s].contents[c].name === \"accTo\") {\n                  if (editAccFrom === true && editAccTo === false) { // if depositor is SENDER\n                    newForm.sections[s].contents[c].edit = false  // block field\n                    newForm.sections[s].contents[c].show = false // hide field\n                    // console.log(\"Block AccTo\")\n                  }\n                }\n                if (Form.sections[s].contents[c].name === \"depositor2\") {\n                  if ((editAccFrom === false && editAccTo === true) || (editAccFrom === true && editAccTo === true)) { // if depositor is RECIPIENT\n                    newForm.sections[s].contents[c].edit = false // block field\n                    // find partner for cur depositor and insert it to field depositor2 don't allow him to choose another depositor\n                    // console.log(\"Block depositor2\")\n                    for (let i = 0; i < ed.length; i++) {\n                      if (ed[i].name === \"depositor2\") {\n                        for (let d = 0; d < ed[i].data.length; d++) {\n                          // console.log(\"Put depositor\", ed[i].data[d].id)\n                          if (parseInt(props.userProfile.partner) === ed[i].data[d].partner) {\n                            let depositorId = ed[i].data[d].id\n                            fields[\"depositor2\"] = depositorId // set field from profile\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                if (Form.sections[s].contents[c].name === \"accFrom\") {\n                  if (editAccFrom === false && editAccTo === true) { // if depositor is RECIPIENT\n                    newForm.sections[s].contents[c].edit = false // block field\n                    newForm.sections[s].contents[c].show = false // hide field\n                    // console.log(\"Block AccFrom\")\n                  }\n                }\n              }\n            }\n          }\n          // 2 Variant 1 fields allowed\n          if ((editDepositor === true && editDepositor2 === false) || (editDepositor === false && editDepositor2 === true)) {\n            // console.log(\"1 Field alowed\")\n            for (let s = 0; s < Form.sections.length; s++) {\n              for (let c = 0; c < Form.sections[s].contents.length; c++) {\n                // separate by allowed account From/To fields\n                if (Form.sections[s].contents[c].name === \"depositor\") {\n                  if (editDepositor === true) {\n                    newForm.sections[s].contents[c].edit = false // block field\n                    // find partner for cur depositor and insert it to field depositor don't allow him to choose another depositor\n                    // console.log(\"Block depositor\")\n                    for (let i = 0; i < ed.length; i++) {\n                      if (ed[i].name === \"depositor\") {\n                        for (let d = 0; d < ed[i].data.length; d++) {\n                          // console.log(\"Put depositor\", ed[i].data[d].id)\n                          if (parseInt(props.userProfile.partner) === ed[i].data[d].partner) {\n                            let depositorId = ed[i].data[d].id\n                            fields[\"depositor\"] = depositorId // set field from profile\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                if (Form.sections[s].contents[c].name === \"depositor2\") {\n                  if (editDepositor2 === true) {\n                    newForm.sections[s].contents[c].edit = false // block field\n                    // find partner for cur depositor and insert it to field depositor2 don't allow him to choose another depositor\n                    // console.log(\"Block depositor2\")\n                    for (let i = 0; i < ed.length; i++) {\n                      if (ed[i].name === \"depositor2\") {\n                        for (let d = 0; d < ed[i].data.length; d++) {\n                          // console.log(\"Put depositor\", ed[i].data[d].id)\n                          if (parseInt(props.userProfile.partner) === ed[i].data[d].partner) {\n                            let depositorId = ed[i].data[d].id\n                            fields[\"depositor2\"] = depositorId // set field from profile\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n          setForm(newForm)\n        }\n      }\n      else {\n        if (Object.keys(parsedSelectedDoc).length > 0) {\n          for (let s = 0; s < Form.sections.length; s++) {\n            for (let c = 0; c < Form.sections[s].contents.length; c++) {\n              let fieldName = Form.sections[s].contents[c].name\n              fields[fieldName] = parsedSelectedDoc[fieldName]\n            }\n          }\n        }\n      }\n      console.log(\"SDOC\", parsedSelectedDoc)\n      console.log(\"INITIAL FIELDVALUES\", fields)\n      setSelectedDoc(parsedSelectedDoc)\n      setFieldValue(fields)\n    }\n    if (taskType === \"showInstructionsSearchForm\") { // Search instructions\n      if (userProfile.userRole === \"3\") { //Depositor  || userProfile.userRole === \"4\" || userProfile.userRole === \"6\" || userProfile.userRole === \"8\" Registrar, GIK, CorrDepo\n        let newForm = Form\n        // Hide field depositor\n        for (let s = 0; s < Form.sections.length; s++) {\n          for (let c = 0; c < Form.sections[s].contents.length; c++) {\n            // separate by allowed account From/To fields\n            if (Form.sections[s].contents[c].name === \"depositor\" || Form.sections[s].contents[c].name === \"depositor2\") {\n              newForm.sections[s].contents[c].show = false // hide field\n            }\n          }\n        }\n        setForm(newForm)\n      }\n    }\n    if (props.userTask.enumData !== null && props.userTask.enumData !== undefined && props.userTask.enumData !== \"null\") {\n      let eData = props.userTask.enumData\n      let newEnumOptions = {}\n      for (let i = 0; i < eData.length; i++) {\n        if (eData[i] !== null) {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Пусто\",\n            \"name\": eData[i].name\n          }]\n          if (eData[i].name === \"type\") {\n            if (props.userTask.taskType === \"showInstructionsTypeSelectingForm\") {\n              for (let d = 0; d < eData[i].data.length; d++) {\n                if (props.userProfile[getInstructionTypeName(eData[i].data[d].id)] === true) {\n                  options.push({\n                    \"value\": eData[i].data[d].id,\n                    \"label\": eData[i].data[d].label,\n                    \"name\": eData[i].name\n                  })\n                }\n              }\n            }\n            else {\n              for (let d = 0; d < eData[i].data.length; d++) {\n                options.push({\n                  \"value\": eData[i].data[d].id,\n                  \"label\": eData[i].data[d].label,\n                  \"name\": eData[i].name\n                })\n              }\n            }\n          }\n          else if (eData[i].name === \"accFrom\" || eData[i].name === \"accTo\") { // Filter allowed account types for selected instruction\n            if (props.userTask.taskType === \"showInstructionsCreationForm\" || props.userTask.taskType === \"showInstructionsViewForm\") {\n              console.log(\"CREATE TASK\")\n              // console.log(\"ACC\")\n              let parsedSelectedDoc = JSON.parse(props.userTask.selectedDoc)\n              let instructionTypeId = parsedSelectedDoc.type\n              let filteredRelations = [] // allowed account types\n              for (let i = 0; i < eData.length; i++) {\n                if (eData[i].name === \"instructionAccountRelations\") { // Find tabels that indicate allowed account types\n                  for (let d = 0; d < eData[i].data.length; d++) {\n                    if (eData[i].data[d].id === instructionTypeId) {\n                      filteredRelations.push(eData[i].data[d])\n                    }\n                  }\n                }\n              }\n              // console.log(\"filteredRelations\", filteredRelations)\n              for (let d = 0; d < eData[i].data.length; d++) {\n                // if (filteredRelations.length > 0) { // Has relations to filter accounts\n                let checkResult = checkForPushing(eData[i].data[d].label, instructionTypeId)\n                if (checkResult.enableToPush === true) {\n                  // console.log(\"PUSH ? \", eData[i].data[d].label, checkResult)\n                  options.push({\n                    \"value\": eData[i].data[d].id,\n                    \"label\": eData[i].data[d].label,\n                    \"name\": eData[i].name\n                  })\n                }\n              }\n            }\n          }\n          else if (eData[i].name === \"account\") {\n            if (props.userTask.taskType === \"showInstructionsSearchForm\") {\n              if (userProfile.userRole === \"3\") {\n                console.log(\"SEASRCH TASK\")\n                // console.log(\"Clear ACC\", parseInt(userProfile.partner))\n                for (let d = 0; d < eData[i].data.length; d++) {\n                  if (eData[i].data[d].partner === parseInt(userProfile.partner)) {\n                    options.push({\n                      \"value\": eData[i].data[d].id,\n                      \"label\": eData[i].data[d].label,\n                      \"name\": eData[i].name\n                    })\n                  }\n                }\n              }\n              else {\n                for (let d = 0; d < eData[i].data.length; d++) {\n                  options.push({\n                    \"value\": eData[i].data[d].id,\n                    \"label\": eData[i].data[d].label,\n                    \"name\": eData[i].name\n                  })\n                }\n              }\n              console.log(\"Clear ACC\", options)\n            }\n          }\n          else {\n            for (let d = 0; d < eData[i].data.length; d++) {\n              options.push({\n                \"value\": eData[i].data[d].id,\n                \"label\": eData[i].data[d].label,\n                \"name\": eData[i].name\n              })\n            }\n          }\n          newEnumOptions[eData[i].name] = options\n        }\n        else {\n          let options = [{\n            \"value\": \"\",\n            \"label\": \"Ошибка...\",\n            \"name\": getLostEnumName(i)\n          }]\n          newEnumOptions[getLostEnumName(i)] = options\n          props.callErrorToast(\"Ошибка сбора справочной информации \" + getLostEnumName(i))\n        }\n      }\n      console.log(\"EN OPTS\", newEnumOptions)\n      setEnumOptions(newEnumOptions)\n    }\n    if (gridForm !== null) {\n      let newFields = {}\n      for (let s = 0; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n          newFields[gridForm.sections[s].contents[c].name] = gridForm.sections[s].contents[c].show\n        }\n      }\n      setGridFieldValue(newFields)\n    }\n    // setUpdateState(getUUID())\n  }, [])\n  function getLostEnumName(i) {\n    let enumI = 0\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (Form.sections[s].contents[c].type === \"Enum\") {\n          if (enumI === i) {\n            return Form.sections[s].contents[c].name\n          }\n          else { enumI += 1 }\n        }\n      }\n    }\n  }\n  hotkeys('ctrl+b, enter', function (event, handler) {\n    if (handler.key === \"ctrl+b\") {\n      setAccordionExpanded(!accordionExpanded)\n    }\n  })\n\n  // CancelInstruction MODAL\n  const handleOpenModalCancelInstruction = () => {\n    setShowModalCancelInstruction(true)\n  }\n  const handleCloseModalCancelInstruction = () => {\n    setShowModalCancelInstruction(false)\n  }\n  const handleOpenModalEnterPin = () => {\n    setShowModalEnterPin(true)\n  }\n  const handleCloseModalEnterPin = () => {\n    setShowModalEnterPin(false)\n  }\n  function handleExpandAccordion() {\n    setAccordionExpanded(!accordionExpanded)\n  }\n\n  function getInstructionTypeName(id) {\n    for (let i = 0; i < props.userTask.enumData.length; i++) {\n      if (props.userTask.enumData[i].name === \"instructionTypesNames\") {\n        for (let d = 0; d < props.userTask.enumData[i].data.length; d++) {\n          if (props.userTask.enumData[i].data[d].id === id) {\n            return props.userTask.enumData[i].data[d].label\n          }\n        }\n      }\n    }\n  }\n  // filter accounts that can be selected by instruction type\n  function checkForPushing(label, instructionTypeId) {\n    // console.log(\"CHK\", label, instructionTypeId)\n    let checkResult = {\n      enableToPush: false,\n      // allowedAccountCode: null\n    }\n    for (let i = 0; i < props.userTask.enumData.length; i++) {\n      if (props.userTask.enumData[i].name === \"instructionAccountRelations\") { // 1) Push accounts related to Instruction type\n        let relations = props.userTask.enumData[i].data\n        for (let d = 0; d < relations.length; d++) {\n          if (relations[d].id === instructionTypeId) { // find allowed account types\n            let splitedAccountName = relations[d].label.split(\"-\")\n            let allowedAccountCode = splitedAccountName[1]\n            let splitedAccountLabel = label.split(\"-\")\n            let accCode = splitedAccountLabel[1]\n            let accPartner = splitedAccountLabel[2]\n            // console.log(allowedAccountCode, accCode)\n            if (accCode === allowedAccountCode) {\n              // if (userProfile.userRole === \"2\" || userProfile.userRole === \"3\" || userProfile.userRole === \"4\" || userProfile.userRole === \"8\") {\n              // Operator, Broker, Registrar, CorrDepo\n              if (userProfile.userRole === \"1\" || userProfile.userRole === \"5\" || userProfile.userRole === \"7\") { // Admin, Accountant, CD\n                // console.log(\"ALOLOWED All\", accCode)\n                checkResult.enableToPush = true\n                // checkResult[\"allowedAccountCode\"] = allowedAccountCode\n                break\n              }\n              else { // Other users\n                if (accPartner === userProfile.partner) {// Depositor, Registrar, corrDepo, GIK, ...\n                  // console.log(\"ALOLOWED\", accCode, accPartner, userProfile.partner)\n                  checkResult.enableToPush = true\n                  // checkResult[\"allowedAccountCode\"] = allowedAccountCode\n                  break\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return checkResult\n  }\n  // RuToken functions\n  function handlePinChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    setRutokenPin(event.target.value)\n    console.log(\"PIN\", event.target.value)\n  }\n  function handleClickShowPin() {\n    setShowPin(!showPin)\n  }\n  rutoken.ready\n    // Проверка установки расширение 'Адаптера Рутокен Плагина' в Google Chrome\n    .then(function () {\n      if (window.chrome || typeof InstallTrigger !== 'undefined') {\n        return rutoken.isExtensionInstalled()\n      } else {\n        return Promise.resolve(true)\n      }\n    })\n    // Проверка установки Рутокен Плагина\n    .then(function (result) {\n      if (result) {\n        return rutoken.isPluginInstalled()\n      } else {\n        // alert(\"Не удаётся найти расширение 'Адаптер Рутокен Плагина'\");\n      }\n    })\n    // Загрузка плагина\n    .then(function (result) {\n      if (result) {\n        return rutoken.loadPlugin()\n      } else {\n        // alert(\"Не удаётся найти Плагин\");\n      }\n    })\n    //Можно начинать работать с плагином\n    .then(function (result) {\n      if (!result) {\n        return // alert(\"Не удаётся загрузить Плагин\")\n      } else {\n        plugin = result\n        return Promise.resolve()\n      }\n    })\n\n  // catch errors while signing docs\n  function handleError(reason) {\n    if (isNaN(reason.message)) {\n      console.log(reason);\n    } else {\n      var errorCodes = plugin.errorCodes;\n      switch (parseInt(reason.message)) {\n        case errorCodes.PIN_INCORRECT:\n          // alert(\"Неверный PIN\");\n          setWrongPin(true)\n          break;\n        default:\n          console.log(\"Неизвестная ошибка\");\n      }\n    }\n  }\n  // Sign transfer order with rutoken\n  function sign(commandJson) {\n    try {\n      if (plugin !== undefined) {\n        // Перебор подключенных Рутокенов\n        plugin.enumerateDevices()\n          .then(function (devices) {\n            if (devices.length > 0) {\n              return Promise.resolve(devices[0]);\n            } else {\n              alert(\"Рутокен не обнаружен\");\n            }\n          })\n          // Проверка залогиненности\n          .then(function (firstDevice) {\n            rutokenHandle = firstDevice;\n            return plugin.getDeviceInfo(rutokenHandle, plugin.TOKEN_INFO_IS_LOGGED_IN);\n          })\n          // Логин на первый токен в списке устройств PIN-кодом по умолчанию\n          .then(function (isLoggedIn) {\n            if (isLoggedIn) {\n              return Promise.resolve();\n            } else {\n              return plugin.login(rutokenHandle, rutokenPin);\n            }\n          })\n          // Перебор пользовательских сертификатов на токене\n          .then(function () {\n            return plugin.enumerateCertificates(rutokenHandle, plugin.CERT_CATEGORY_UNSPEC);\n          })\n          .then(function (certs) {\n            if (certs.length > 0) {\n              certHandle = certs[0];\n              return plugin.parseCertificate(rutokenHandle, certs[0]);\n            } else {\n              alert(\"Сертификат на Рутокен не обнаружен\");\n            }\n          })\n          // Подписание данных из текстового поля на первом найденом сертификате\n          .then(function (certs) {\n            certData = certs\n            // console.log(\"RUTDATA\", certData)\n            let tokenRemainingTime = new Date(certData.validNotAfter).getTime() - Date.now()\n            if (tokenRemainingTime > 0) {\n              if (certHandle.length > 0) {\n                var options = {};\n\n                let inn = \"\"\n                let fullName = \"\"\n                for (let i = 0; i < certData.subject.length; i++) {\n                  if (certData.subject[i].rdn === \"serialNumber\") {\n                    inn = certData.subject[i].value\n                  }\n                  if (certData.subject[i].rdn === \"commonName\") {\n                    fullName = certData.subject[i].value\n                  }\n                }\n                props.setEsInn(inn)\n                props.setEsUserFullName(fullName)\n                props.setEsExpiredDate(certData.validNotAfter.substring(0, certData.validNotAfter.length - 1))\n                let instructionToSign = commandJson.variables.document.value\n                if (selectedDoc.filled === undefined || selectedDoc.filled === null || selectedDoc.filled === false) { // Depositor\n                  instructionToSign[\"filled\"] = true\n                  instructionToSign[\"filled_at\"] = props.getCurrentFullDateTime()\n                  instructionToSign[\"filledUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName\n                  instructionToSign[\"signed_depositor_inn\"] = inn\n                  instructionToSign[\"signed_depositor_full_name\"] = fullName\n                  instructionToSign[\"signed_at_depositor\"] = props.getCurrentFullDateTime()\n                  commandJson.variables.status.value = \"filled\"\n                }\n                else { // Depository\n                  instructionToSign[\"onExecution\"] = true\n                  instructionToSign[\"onExecutionUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName\n                  instructionToSign[\"signed_cd_inn\"] = inn\n                  instructionToSign[\"signed_cd_full_name\"] = fullName\n                  instructionToSign[\"signed_at_cd\"] = props.getCurrentFullDateTime()\n                  commandJson.variables.status.value = \"onExecution\"\n                }\n                commandJson.variables.document.value = JSON.stringify(instructionToSign)\n                console.log(\"SIGN\", instructionToSign, commandJson.variables.document)\n                handleCloseModalEnterPin()\n                // swAllert(\"Поручение успешно подписано!\", \"success\")\n                props.sendFieldValues(commandJson)\n                props.clearTabData(commandJson.process_id)\n                return plugin.sign(rutokenHandle, certHandle, \"textToSign\", plugin.DATA_FORMAT_PLAIN, options);\n              } else {\n                alert(\"Сертификат на Рутокен не обнаружен\")\n              }\n            }\n            else {\n              plugin.logout(rutokenHandle)\n              props.callErrorToast(\"Рутокен просрочен\", \"warning\")\n            }\n          })\n          // Закрытие сессии\n          .then(function () {\n            plugin.logout(rutokenHandle)\n          }, handleError)\n      }\n      else { props.callErrorToast(\"Вставьте рутокен, либо установите расширение для вашего браузера\", \"warning\") }\n    }\n    catch (er) {\n      console.log(\"Rutoken ERR\")\n    }\n  }\n  // Input handlers\n  const handleCheckboxChange = (event) => {\n    setFieldValue({ ...fieldValue, [event.target.name]: event.target.checked })\n    // console.log(\"Check change\", event.target.checked)\n  }\n  // Radio group handler\n  const handleRadioGroupChange = (event) => {\n    setFieldValue({ ...fieldValue, [event.target.name]: event.target.value })\n  }\n  function handleTextChange(event) {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    fieldValue[event.target.name] = event.target.value\n    setFieldValue(fieldValue)\n    // console.log(\"FIELDVALUE\", fieldValue)\n  }\n\n  // Float input handler\n  const handleFloatChange = (event) => {\n    // console.log(\"FLOAT CHANGE\", event.target.name, event.target.value)\n    setFieldValue({ ...fieldValue, [event.target.name]: event.target.value })\n  }\n  // Integer input handler\n  const handleIntChange = (event) => {\n    // console.log(\"EVENT\", event.target.name, event.target.value)\n    let stringNum = event.target.value.toString().replace(/ /g, '')\n    let int = parseInt(stringNum)\n    setFieldValue({ ...fieldValue, [event.target.name]: int })\n  }\n  // // Float input handler\n  // const handleFloatChange = (event) => {\n  //   let stringNum = event.target.value.toString().replace(/ /g, '');\n  //   let float = parseFloat(stringNum)\n  //   setFieldValue({ ...fieldValue, [event.target.name]: float })\n  //   console.log(\"FLOAT CHANGE\", event.target.name, fieldValue)\n  // }\n  function handleDateTimeChange(event) {\n    // let fullDate = props.parseDate(event.target.value)\n    // var hours = new Date().getHours()\n    // var minutes = new Date().getMinutes()\n    // var seconds = new Date().getSeconds()\n    // var convertedDate = fullDate + \" \" + hours + \":\" + minutes + \":\" + seconds + \".123456\"\n    // fieldValue[event.target.name] = convertedDate\n    // setFieldValue(fieldValue)\n    fieldValue[event.target.name] = moment(event.target.value).format(\"YYYY-MM-DDTHH:mm:ss\")\n    setFieldValue(fieldValue)\n    console.log(\"DATE CHANGE\", fieldValue[event.target.name], event.target.value)\n  }\n  // Handler of select copmponet changes\n  function handleSelectChange(option) {\n    fieldValue[option.name] = option.value\n    console.log(\"OPT\", option.name, option.value)\n    var updateSelectedOptions = selectedOptions.slice()\n    let noSuchOption = true\n    for (let i = 0; i < updateSelectedOptions.length; i++) {\n      if (option.name === updateSelectedOptions[i].name) {\n        updateSelectedOptions[i] = option\n        noSuchOption = false\n        setSelectedOptions(updateSelectedOptions)\n        break\n      }\n      else {\n        noSuchOption = true\n      }\n    }\n    if (noSuchOption === true) {\n      updateSelectedOptions.push(option)\n      setSelectedOptions(updateSelectedOptions)\n    }\n    if (option.name === \"depositor\") {\n      let newOptions = []\n      let depositorPartner = getDepositorPartner(option.value) // find depositor partner id\n      if (taskType === \"showInstructionsCreationForm\" || taskType === \"showInstructionsViewForm\") {\n        // Первый депонент выбран нужно отфильтровать поле \"Со счета\" и отобразить счета только выбранного депонента\n\n        // console.log(\"PARTNER\", depositorPartner)\n        for (let i = 0; i < enumData.length; i++) {\n          if (enumData[i].name === \"accFrom\") {\n            for (let d = 0; d < enumData[i].data.length; d++) {\n              let checkResult = checkForPushing(enumData[i].data[d].label, fieldValue[\"type\"])\n              console.log(\"PUSH?\", enumData[i].data[d].label, fieldValue[\"type\"])\n              if (checkResult.enableToPush === true) {\n                if (enumData[i].data[d].partner === depositorPartner) { // compare depositor partner and account partner\n                  newOptions.push({\n                    \"value\": enumData[i].data[d].id,\n                    \"label\": enumData[i].data[d].label,\n                    \"name\": enumData[i].name\n                  })\n                }\n              }\n            }\n          }\n        }\n        console.log(\"NEW ENUMS\", newOptions)\n        enumOptions[\"accFrom\"] = newOptions\n        setEnumOptions(enumOptions)\n      }\n      else if (taskType === \"showInstructionsSearchForm\") {\n        // депонент выбран нужно отфильтровать поле \"Счет\" и отобразить счета только выбранного депонента\n        // console.log(\"PARTNER\", depositorPartner)\n        for (let i = 0; i < enumData.length; i++) {\n          if (enumData[i].name === \"account\") {\n            for (let d = 0; d < enumData[i].data.length; d++) {\n              if (enumData[i].data[d].partner === depositorPartner) { // compare depositor partner and account partner\n                newOptions.push({\n                  \"value\": enumData[i].data[d].id,\n                  \"label\": enumData[i].data[d].label,\n                  \"name\": enumData[i].name\n                })\n              }\n            }\n          }\n        }\n        enumOptions[\"account\"] = newOptions\n        setEnumOptions(enumOptions)\n      }\n    }\n    else if (option.name === \"depositor2\" && (taskType === \"showInstructionsCreationForm\" || taskType === \"showInstructionsViewForm\")) {\n      // Второй депонент выбран нужно отфильтровать поле \"На счет\" и отобразить счета только выбранного депонента\n      let newOptions = []\n      let depositorPartner = getDepositorPartner(option.value) // find depositor partner id\n      // console.log(\"PARTNER\", depositorPartner)\n\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === \"accTo\") {\n          for (let d = 0; d < enumData[i].data.length; d++) {\n            if (enumData[i].data[d].partner === depositorPartner) { // compare depositor partner and account partner\n              let checkResult = checkForPushing(enumData[i].data[d].label, fieldValue[\"type\"])\n              // console.log(\"PUSH\", enumData[i].data[d].label)\n              if (checkResult.enableToPush === true) {\n                newOptions.push({\n                  \"value\": enumData[i].data[d].id,\n                  \"label\": enumData[i].data[d].label,\n                  \"name\": enumData[i].name\n                })\n              }\n            }\n          }\n        }\n      }\n      // console.log(\"NEW ENUMS\", newOptions)\n      enumOptions[\"accTo\"] = newOptions\n      setEnumOptions(enumOptions)\n    }\n    else if (option.name === \"security\" && (taskType === \"showInstructionsCreationForm\" || taskType === \"showInstructionsViewForm\")) {\n      // выбрана ценная бумага нужно найти эмитента и отобразить\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === \"security\") {\n          for (let d = 0; d < enumData[i].data.length; d++) {\n            if (enumData[i].data[d].id === option.value) {\n              let issuerId = enumData[i].data[d].issuer\n              fieldValue[\"issuer\"] = issuerId\n              for (let j = 0; j < enumData.length; j++) {\n                if (enumData[j].name === \"issuer\") {\n                  // console.log(\"issuerID\", issuerId)\n                  for (let h = 0; h < enumData[j].data.length; h++) {\n                    if (enumData[j].data[h].id === issuerId) {\n                      let issuerOption = {\n                        value: issuerId,\n                        name: \"issuer\",\n                        label: enumData[j].data[h].label\n                      }\n                      console.log(\"issuerOption\", issuerOption)\n                      let noIssuerOption = true\n                      for (let y = 0; y < updateSelectedOptions.length; y++) {\n                        if (updateSelectedOptions[y].name === \"issuer\") {\n                          updateSelectedOptions[y] = issuerOption\n                          noIssuerOption = false\n                          setSelectedOptions(updateSelectedOptions)\n                          break\n                        }\n                        else {\n                          noIssuerOption = true\n                        }\n                      }\n                      if (noIssuerOption === true) {\n                        updateSelectedOptions.push(issuerOption)\n                        setSelectedOptions(updateSelectedOptions)\n                        // console.log(\"NO Issuer\", updateSelectedOptions)\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      // console.log(\"NEW ENUMS\", newOptions)\n      // enumOptions[\"issuer\"] = newOptions\n      // setEnumOptions(enumOptions)\n    }\n    setFieldValue(fieldValue)\n  }\n  function getDepositorPartner(depId) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === \"depositor\") {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === depId) {\n            return enumData[i].data[d].partner\n          }\n        }\n      }\n    }\n  }\n  // Returns random id\n  function getUUID() {\n    const uuidv1 = require(\"uuid/v1\")\n    return uuidv1()\n  }\n  // Collecting all field values and return as attributes\n  function getFieldValuesCreateDocument() {\n    let fields = {}\n    for (let key in fieldValue) {\n      if (fieldValue[key] !== null && fieldValue[key] !== \"\" && fieldValue[key] !== \"NaN-NaN-NaN\") {\n        fields[key] = fieldValue[key]\n      }\n    }\n    return (fields)\n  }\n  function getFieldValuesSaveInstruction() {\n    let fields = {}\n    for (let key in fieldValue) {\n      if (fieldValue[key] !== null && fieldValue[key] !== \"\" && fieldValue[key] !== \"NaN-NaN-NaN\" && key !== \"id\") {\n        fields[key] = fieldValue[key]\n      }\n    }\n    fields.filled = false\n    fields.onExecution = false\n    fields.executed = false\n    fields.canceled = false\n    fields.opened = false\n    fields.signed = false\n    fields.created_user_partner = getCreatedPartner()\n    return (fields)\n  }\n  function getCreatedPartner() {\n    let partner = parseInt(userProfile.partner)\n    if (userProfile.userRole === \"3\") { // Depositor\n      partner = parseInt(userProfile.partner)\n    }\n    else {\n      let editDepositor = null\n      let editDepositor2 = null\n      let editAccFrom = null\n      let editAccTo = null\n      // 1 step check wheter both fields are allowed for input\n      for (let s = 0; s < Form.sections.length; s++) {\n        for (let c = 0; c < Form.sections[s].contents.length; c++) {\n          let ed = Form.sections[s].contents[c].edit\n          let sh = Form.sections[s].contents[c].show\n          if (Form.sections[s].contents[c].name === \"depositor\") {\n            editDepositor = (ed === true && sh === true) ? true : false\n          }\n          if (Form.sections[s].contents[c].name === \"accFrom\") { // if account from is allowed for input depositor is sender\n            editAccFrom = (ed === true && sh === true) ? true : false\n          }\n          if (Form.sections[s].contents[c].name === \"depositor2\") {\n            editDepositor2 = (ed === true && sh === true) ? true : false\n          }\n          if (Form.sections[s].contents[c].name === \"accTo\") { // if account to is allowed for input depositor is recipient\n            editAccTo = (ed === true && sh === true) ? true : false\n          }\n        }\n      }\n      console.log(editDepositor, editAccFrom, editDepositor2, editAccTo)\n      // 1 Variant Depositor is sender\n      if (editDepositor === true && editAccFrom === true) {\n        partner = getDepositorPartnerId(fieldValue.depositor)\n        console.log(\"SENDER P\", partner)\n      }\n      // 2 Depositor is recipient\n      if (editDepositor2 === true && editAccTo === true) {\n        partner = getDepositorPartnerId(fieldValue.depositor2)\n        console.log(\"RECIPIENT P\", partner)\n      }\n    }\n    return partner\n  }\n  function getDepositorPartnerId(id) {\n    for (let i = 0; i < enumData.length; i++) {\n      if (enumData[i].name === \"depositor\") {\n        for (let d = 0; d < enumData[i].data.length; d++) {\n          if (enumData[i].data[d].id === id) {\n            return enumData[i].data[d].partner\n          }\n        }\n      }\n    }\n  }\n  // Collect data to update doc\n  function getFieldValuesUpdateInstruction() {\n    let docToUpdate = selectedDoc\n    // docToUpdate[\"created_at\"] = selectedDoc.created_at\n    // docToUpdate[\"id\"] = selectedDoc.id\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name\n        if (Form.sections[s].contents[c].type === \"Bool\" && (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null)) {\n          docToUpdate[fieldName] = false\n        }\n        else {\n          docToUpdate[fieldName] = fieldValue[fieldName]\n        }\n      }\n    }\n    return docToUpdate\n  }\n  function checkForRequieredFields() {\n    let checkedSuccessfuly = null\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        let fieldName = Form.sections[s].contents[c].name\n        if (Form.sections[s].contents[c].required === true) {\n          if (fieldValue[fieldName] === undefined || fieldValue[fieldName] === null ||\n            fieldValue[fieldName] === \"NaN.NaN.NaN\" || fieldValue[fieldName] === \"\") {\n            checkedSuccessfuly = false\n            swAllert(\"Внимание заполните поле \\\"\" + Form.sections[s].contents[c].label + \"\\\"\", \"warning\")\n            return checkedSuccessfuly\n          }\n          else {\n            checkedSuccessfuly = true\n          }\n        }\n        else {\n          checkedSuccessfuly = true\n        }\n      }\n    }\n    return checkedSuccessfuly\n  }\n  function swAllert(text, icon) {\n    return (\n      swal({\n        text: text,\n        icon: icon,\n        buttons: { ok: \"Ок\" },\n      })\n    )\n  }\n  // Main button click handler\n  function buttonClick(buttonName, dataItem) {\n    // console.log(\"Button\", buttonName)\n    if (buttonName === \"findDocument\") {\n      if (accordionExpanded === false) {\n        setAccordionExpanded(true)\n      }\n      else {\n        filterDocList(0, size - 1, initialDocList, fieldValue)\n      }\n    }\n    else if (buttonName === \"createDocument\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт вы не можете создавать поручения!\",\n          icon: \"warning\",\n          buttons: { ok: \"Ок\" }\n        })\n      }\n      else {\n        const createDocument = getFieldValuesCreateDocument()\n        const commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          variables: {\n            userAction: { value: \"createDocument\" },\n            selectedDoc: { value: JSON.stringify(createDocument) },\n            searchDoc: { value: JSON.stringify(fieldValue) },\n            userId: { value: userProfile.userId },\n            userRole: { value: userProfile.userRole }\n          }\n        }\n        console.log(\"button createDocument: \", commandJson)\n        let checkResult = checkForRequieredFields()\n        if (checkResult === true) {\n          props.sendFieldValues(commandJson)\n          props.clearTabData(process_id)\n        }\n      }\n    }\n    // else if(buttonName === \"selectSample\"){\n    //   if(props.operDayIsOpened === false){\n    //     swal({\n    //       text: \"Операционный день закрыт вы не можете создавать поручения!\",\n    //       icon: \"warning\",\n    //       buttons: {ok: \"Ок\"}\n    //     })\n    //   }\n    //   else{\n    //     const commandJson = \n    //     {\n    //       commandType: \"completeTask\",\n    //       session_id: session_id,\n    //       process_id: process_id,\n    //       taskID: taskID,\n    //       variables: {\n    //         userAction: {value: \"selectSample\"},\n    //         searchDoc: {value: JSON.stringify(fieldValue)}\n    //       }\n    //     }\n    //     console.log(\"button selectSample: \", commandJson)\n    //     props.sendFieldValues(commandJson)\n    //     props.clearTabData(process_id)\n    //   }\n    // }\n    else if (buttonName === \"selectInstruction\") {\n      let createFormDefId = null\n      let report = null\n      for (let k = 0; k < enumData.length; k++) {\n        if (enumData[k].name === \"type\") {\n          for (let d = 0; d < enumData[k].data.length; d++) {\n            if (dataItem.type === enumData[k].data[d].id) {\n              createFormDefId = enumData[k].data[d].create_form\n              report = enumData[k].data[d].reportName\n            }\n          }\n        }\n      }\n      let copyFields = {}\n      copyFields.type = dataItem.type\n      copyFields.urgent = dataItem.urgent\n      copyFields.depositor = dataItem.depositor\n      copyFields.accFrom = dataItem.accFrom\n      copyFields.depositor2 = dataItem.depositor2\n      copyFields.accTo = dataItem.accTo\n      copyFields.issuer = dataItem.issuer\n      copyFields.security = dataItem.security\n      copyFields.currency = dataItem.currency\n      copyFields.quantity = dataItem.quantity\n      copyFields.basis = dataItem.basis\n      copyFields.ownerName = dataItem.ownerName\n      copyFields.ownerDocument = dataItem.ownerDocument\n      copyFields.ownerAddress = dataItem.ownerAddress\n      copyFields.additional_information = dataItem.additional_information\n      copyFields.payment_account = dataItem.payment_account\n      copyFields.payment_bank = dataItem.payment_bank\n      copyFields.payment_bik = dataItem.payment_bik\n      copyFields.payment_purpose = dataItem.payment_purpose\n      copyFields.payment_recipient = dataItem.payment_recipient\n      copyFields.tradingSystem = dataItem.tradingSystem\n\n      // for(let s=0; s<Form.sections.length; s++){\n      //   for(let c=0; c<Form.sections[s].contents.length; c++){\n      //     let fieldName = Form.sections[s].contents[c].name\n      //     if(Form.sections[s].contents[c].show === true){\n      //       copyFields[fieldName] = dataItem[fieldName]\n      //     }\n      //   }\n      // }\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"createInstruction\" },\n          selectedDoc: { value: JSON.stringify(copyFields) },\n          instructionType: { value: fieldValue[\"type\"] },\n          createFormDefId: { value: createFormDefId },\n          reportName: { value: report },\n          searchDoc: { value: JSON.stringify(fieldValue) }\n        }\n      }\n      console.log(\"button selectInstruction: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"editDocument\") {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"editDocument\" },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole }\n        }\n      }\n      console.log(\"button editDocument: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"updateDocument\") {\n      const updateDocument = getFieldValuesUpdateInstruction()\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"updateDocument\" },\n          document: { value: JSON.stringify(updateDocument) },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole }\n        }\n      }\n      console.log(\"button updateDocument: \", commandJson)\n      let checkResult = checkForRequieredFields()\n      if (checkResult === true) {\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"createInstruction\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт вы не можете создавать поручения!\",\n          icon: \"warning\",\n          buttons: { ok: \"Ок\" }\n        })\n      }\n      else {\n        let createFormDefId = null\n        let report = null\n        for (let k = 0; k < enumData.length; k++) {\n          if (enumData[k].name === \"type\") {\n            for (let d = 0; d < enumData[k].data.length; d++) {\n              if (fieldValue[\"type\"] === enumData[k].data[d].id) {\n                createFormDefId = enumData[k].data[d].create_form\n                report = enumData[k].data[d].reportName\n              }\n            }\n          }\n        }\n        const commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          variables: {\n            userAction: { value: \"createInstruction\" },\n            userId: { value: userProfile.userId },\n            userRole: { value: userProfile.userRole },\n            selectedDoc: { value: JSON.stringify({ type: fieldValue[\"type\"] }) },\n            instructionType: { value: fieldValue[\"type\"] },\n            createFormDefId: { value: createFormDefId },\n            reportName: { value: report }\n          }\n        }\n        console.log(\"button createInstruction: \", commandJson)\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"saveInstruction\") {\n      const createDocument = getFieldValuesSaveInstruction()\n      let notBody = {\n        variables:\n        {\n          user_session_id: { value: session_id },\n          userAction: { value: \"getNotificationsCount\" }\n        }\n      }\n      let showTransferOrder = true\n      let transferOrder = {\n        instruction_id: \"null\",\n        registered_person: fieldValue[\"ownerName\"],\n        address: fieldValue[\"ownerAddress\"],\n        security: fieldValue[\"security\"],\n        issuer: fieldValue[\"issuer\"],\n        quantity_int: fieldValue[\"quantity\"],\n        basis: fieldValue[\"basis\"]\n      }\n      for (let t = 0; t < enumData.length; t++) {\n        // if (enumData[t].name === \"issuer\") {\n        //   for (let dt = 0; dt < enumData[t].data.length; dt++) {\n        //     if (fieldValue[\"issuer\"] === enumData[t].data[dt].id) {\n        //       transferOrder[\"registrar\"] = enumData[t].data[dt].registrar\n        //     }\n        //   }\n        // }\n        if (enumData[t].name === \"security\") {\n          for (let dt = 0; dt < enumData[t].data.length; dt++) {\n            if (fieldValue[\"security\"] === enumData[t].data[dt].id) {\n              transferOrder[\"security_type\"] = enumData[t].data[dt].security_type\n              transferOrder[\"registrar\"] = enumData[t].data[dt].registrar\n            }\n          }\n        }\n        if (enumData[t].name === \"type\") {\n          for (let dt = 0; dt < enumData[t].data.length; dt++) {\n            if (fieldValue[\"type\"] === enumData[t].data[dt].id) {\n              showTransferOrder = enumData[t].data[dt].transfer_order\n            }\n          }\n        }\n      }\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"saveInstruction\" },\n          saveBody: { value: JSON.stringify(createDocument) },\n          selectedDoc: { value: JSON.stringify(createDocument) },\n          notificationsBody: { value: JSON.stringify(notBody) },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole },\n          // reportName: {value: reportName},\n          showTransferOrder: { value: showTransferOrder },\n          transferOrder: { value: JSON.stringify(transferOrder) }\n        }\n      }\n      if (fieldValue[\"urgent\"] === true) {\n        swal({\n          text: \"ВНИМАНИЕ поручения со статусом \\\"СРОЧНОЕ\\\" будет тарифицироваться в соответствии с тарифами ЦД на срочные поручения, хотите продолжить?\",\n          icon: \"warning\",\n          buttons: { ok: \"Ок\", cancel: \"Отмена\" },\n          // dangerMode: true,\n        })\n          .then((click) => {\n            if (click === \"ok\") {\n              let checkResult = checkForRequieredFields()\n              if (checkResult === true) {\n                props.sendFieldValues(commandJson)\n                props.clearTabData(process_id)\n              }\n            }\n          })\n      }\n      else {\n        let checkResult = checkForRequieredFields()\n        // console.log(\"PASSED\", checkResult)\n        if (checkResult === true) {\n          props.sendFieldValues(commandJson)\n          props.clearTabData(process_id)\n        }\n      }\n      console.log(\"button saveInstruction: \", commandJson)\n    }\n    else if (buttonName === \"viewInstruction\") {\n      let currentStatus = \"saved\"\n      let notBody = {\n        variables:\n        {\n          user_session_id: { value: session_id },\n          userAction: { value: \"getNotificationsCount\" }\n        }\n      }\n      if (dataItem.filled === true) {\n        currentStatus = \"filled\"\n        if (dataItem.onExecution === true) {\n          currentStatus = \"onExecution\"\n          if (dataItem.executed === true) {\n            currentStatus = \"executed\"\n          }\n          else {\n            if (dataItem.canceled === true) {\n              currentStatus = \"canceled\"\n            }\n          }\n        }\n        else {\n          if (dataItem.canceled === true) {\n            currentStatus = \"canceled\"\n          }\n        }\n      }\n\n      let editFormDefId = null\n      let report = null\n      for (let k = 0; k < enumData.length; k++) {\n        if (enumData[k].name === \"type\") {\n          for (let d = 0; d < enumData[k].data.length; d++) {\n            if (dataItem.type === enumData[k].data[d].id) {\n              editFormDefId = enumData[k].data[d].edit_form\n              report = enumData[k].data[d].reportName\n            }\n          }\n        }\n      }\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          notificationsBody: { value: JSON.stringify(notBody) },\n          userAction: { value: \"viewInstruction\" },\n          userId: { value: userProfile.userId },\n          docId: { value: dataItem.id },\n          instructionType: { value: dataItem.type },\n          status: { value: currentStatus },\n          editFormDefId: { value: editFormDefId },\n          reportName: { value: report },\n          searchDoc: { value: JSON.stringify(fieldValue) },\n        }\n      }\n      console.log(\"button viewInstruction: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"sendToCD\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт дождитесь открытия операционного дня!\",\n          icon: \"warning\",\n          buttons: { ok: \"Ок\" }\n        })\n      }\n      else {\n        if (props.esInn === null) {\n          handleOpenModalEnterPin()\n        }\n        else {\n          let updateDocument = getFieldValuesUpdateInstruction()\n          updateDocument[\"filled\"] = true\n          updateDocument[\"filled_at\"] = props.getCurrentFullDateTime()\n          updateDocument[\"filledUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName\n          updateDocument[\"signed_depositor_inn\"] = props.esInn\n          updateDocument[\"signed_depositor_full_name\"] = props.esUserFullName\n          updateDocument[\"signed_at_depositor\"] = props.getCurrentFullDateTime()\n          const commandJson =\n          {\n            commandType: \"completeTask\",\n            session_id: session_id,\n            process_id: process_id,\n            taskID: taskID,\n            variables: {\n              userAction: { value: \"updateDocument\" },\n              userId: { value: userProfile.userId },\n              userRole: { value: userProfile.userRole },\n              document: { value: JSON.stringify(updateDocument) },\n              status: { value: \"filled\" }\n            }\n          }\n          // console.log(buttonName, commandJson)\n          props.sendFieldValues(commandJson)\n          props.clearTabData(process_id)\n        }\n      }\n    }\n    else if (buttonName === \"sendToCDWithoutES\") {\n      const updateDocument = getFieldValuesUpdateInstruction()\n      updateDocument.filled = true\n      updateDocument.filledUser = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName\n      updateDocument.signed_at_depositor = props.getCurrentFullDateTime()\n      updateDocument.filled_at = props.getCurrentFullDateTime()\n      const commandJson = {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"updateDocument\" },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole },\n          document: { value: JSON.stringify(updateDocument) },\n          status: { value: \"filled\" }\n        }\n      }\n      console.log(\"button sendToCDWithoutES: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"SignInstructionSaveButton\") {\n      const updateDocument = getFieldValuesUpdateInstruction()\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"updateDocument\" },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole },\n          document: { value: updateDocument },\n          status: { value: \"\" }\n        }\n      }\n      console.log(\"button signInstruction: \", commandJson)\n      sign(commandJson)\n    }\n    else if (buttonName === \"deleteDocument\") {\n      let docToDelete = selectedDoc.id\n      let commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        userId: userProfile.userId,\n        userRole: userProfile.userRole,\n        variables: {\n          userAction: { value: \"deleteDocument\" },\n          document: { value: docToDelete.toString() }\n        }\n      }\n      console.log(\"deleteDocument:\", commandJson)\n      swal({\n        text: \"ВНИМАНИЕ! Вы действительно удалить это поручение?\",\n        icon: \"warning\",\n        buttons: { yes: \"Да\", cancel: \"Отмена\" },\n      })\n        .then((click) => {\n          if (click === \"yes\") {\n            props.sendFieldValues(commandJson)\n            props.clearTabData(process_id)\n          }\n        })\n    }\n    else if (buttonName === \"onExecution\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт дождитесь открытия операционного дня!\",\n          icon: \"warning\",\n          buttons: { ok: \"Ок\" }\n        })\n      }\n      else {\n        if (props.esInn === null) {\n          handleOpenModalEnterPin()\n        }\n        else {\n          let updateDocument = getFieldValuesUpdateInstruction()\n          updateDocument[\"onExecution\"] = true\n          updateDocument[\"onExecutionUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName\n          updateDocument[\"onExecutionDate\"] = props.getCurrentFullDateTime()\n          updateDocument[\"signed_cd_inn\"] = props.esInn\n          updateDocument[\"signed_cd_full_name\"] = props.esUserFullName\n          updateDocument[\"signed_at_cd\"] = props.getCurrentFullDateTime()\n          const commandJson =\n          {\n            commandType: \"completeTask\",\n            session_id: session_id,\n            process_id: process_id,\n            taskID: taskID,\n            variables: {\n              userAction: { value: \"updateDocument\" },\n              userId: { value: userProfile.userId },\n              userRole: { value: userProfile.userRole },\n              document: { value: JSON.stringify(updateDocument) },\n              status: { value: \"onExecution\" }\n            }\n          }\n          console.log(\"onExecution:\", commandJson, updateDocument)\n          props.sendFieldValues(commandJson)\n          props.clearTabData(process_id)\n        }\n      }\n    }\n    else if (buttonName === \"Execute\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт дождитесь открытия операционного дня!\",\n          icon: \"warning\",\n          buttons: { ok: \"Ок\" }\n        })\n      }\n      else {\n        const updateDocument = getFieldValuesUpdateInstruction()\n        updateDocument[\"executed\"] = true\n        updateDocument[\"executedUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName\n        updateDocument[\"executedDate\"] = props.getCurrentFullDateTime()\n        const commandJson =\n        {\n          commandType: \"completeTask\",\n          session_id: session_id,\n          process_id: process_id,\n          taskID: taskID,\n          variables: {\n            userAction: { value: \"updateDocument\" },\n            userId: { value: userProfile.userId },\n            userRole: { value: userProfile.userRole },\n            document: { value: JSON.stringify(updateDocument) },\n            status: { value: \"executed\" }\n          }\n        }\n        console.log(\"button Execute: \", commandJson)\n        props.sendFieldValues(commandJson)\n        props.clearTabData(process_id)\n      }\n    }\n    else if (buttonName === \"CancelInstruction\") {\n      if (props.operDayIsOpened === false) {\n        swal({\n          text: \"Операционный день закрыт дождитесь открытия операционного дня!\",\n          icon: \"warning\",\n          buttons: { ok: \"Ок\" }\n        })\n      }\n      else {\n        handleOpenModalCancelInstruction()\n      }\n    }\n    else if (buttonName === \"CancelInstructionSaveButton\") {\n      handleCloseModalCancelInstruction()\n      const updateDocument = getFieldValuesUpdateInstruction()\n      updateDocument[\"canceled\"] = true\n      updateDocument[\"canceledUser\"] = userProfile.firstName + \" \" + userProfile.lastName + \" \" + userProfile.middleName\n      updateDocument[\"cancelationReason\"] = fieldValue.cancelationReason\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"cancelInstruction\" },\n          userId: { value: userProfile.userId },\n          userRole: { value: userProfile.userRole },\n          selectedDoc: { value: JSON.stringify(updateDocument) },\n          documentsToCancel: { value: JSON.stringify([{ id: selectedDoc.id }]) },\n          cancelationReason: { value: fieldValue.cancelationReason },\n          status: { value: \"canceled\" }\n        }\n      }\n      console.log(\"button CancelInstructionSaveButton: \", commandJson, selectedDoc)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"CancelInstructionCancelButton\") {\n      handleCloseModalCancelInstruction()\n      fieldValue[\"cancelationReason\"] = null\n      setFieldValue(fieldValue)\n      console.log(\"FIELDS\", fieldValue)\n    }\n    else if (buttonName === \"uploadToXML\") {\n      // Create xml\n      let xml = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?><InstructionsList xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" xmlns:xsd=\\\"http://www.w3.org/2001/XMLSchema\\\"><instructions>\"\n      for (let i = 0; i < filteredDocList.length; i++) {\n        xml += \"<instruction>\"\n        for (let prop in filteredDocList[i]) {\n          xml += \"<\" + prop + \">\"\n          xml += filteredDocList[i][prop]\n          xml += \"</\" + prop + \">\"\n        }\n        xml += \"</instruction>\"\n      }\n      xml += \"</instructions></InstructionsList>\"\n      let finalxml = xml.replace(/<\\/?[0-9]{1,}>/g, '').toString()\n\n      // Download xml\n      let pom = document.createElement('a')\n      let filename = \"UploadInstructions.xml\"\n      let bb = new Blob([finalxml], { type: 'text/plain' })\n\n      pom.setAttribute('href', window.URL.createObjectURL(bb))\n      pom.setAttribute('download', filename)\n\n      pom.dataset.downloadurl = ['text/plain', pom.download, pom.href].join(':')\n      pom.draggable = true\n      pom.classList.add('dragout')\n      pom.click()\n    }\n    else if (buttonName === \"showInstructionReport\") {\n      let reportName = null\n      for (let k = 0; k < enumData.length; k++) {\n        if (enumData[k].name === \"type\") {\n          for (let d = 0; d < enumData[k].data.length; d++) {\n            if (selectedDoc.type === enumData[k].data[d].id) {\n              let reportId = enumData[k].data[d].report\n              for (let e = 0; e < enumData.length; e++) {\n                if (enumData[e].name === \"instructionReports\") {\n                  for (let t = 0; t < enumData[e].data.length; t++) {\n                    if (reportId === enumData[e].data[t].id) {\n                      reportName = enumData[e].data[t].reportName\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      let reportExecutions = {\n        \"reportUnitUri\": \"/reports/interactive/\" + reportName,\n        \"async\": true,\n        \"interactive\": true,\n        \"freshData\": false,\n        \"saveDataSnapshot\": false,\n        \"outputFormat\": \"pdf\", // html xlsx pdf docx\n        \"parameters\": {\n          \"reportParameter\": [\n            { name: \"id\", value: [selectedDoc.id.toString()] },\n            { name: \"first_n\", value: [userProfile.firstName.trim()] },\n            { name: \"last_n\", value: [userProfile.lastName.trim()] },\n            { name: \"middle_n\", value: [userProfile.middleName.trim()] }\n          ]\n        }\n      }\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        session_id: session_id,\n        process_id: process_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"showInstructionReport\" },\n          docId: { value: selectedDoc.id.toString() },\n          instructionType: { value: selectedDoc.type },\n          reportName: { value: reportName },\n          reportVars: { value: \"?id=\" + selectedDoc.id + \"&first_n=\" + userProfile.firstName.trim() + \"&last_n=\" + userProfile.lastName.trim() + \"&middle_n=\" + userProfile.middleName.trim() },\n          reportExecutions: { value: JSON.stringify(reportExecutions) }\n\n        }\n      }\n      console.log(\"button showInstructionReport: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"updateDocList\") {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"updateDocList\" },\n        }\n      }\n      console.log(\"button updateDocList: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"cancel\") {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"cancel\" },\n        }\n      }\n      console.log(\"button cancel: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"back\") {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"back\" },\n        }\n      }\n      console.log(\"button back: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n    else if (buttonName === \"test\") {\n      const commandJson =\n      {\n        commandType: \"completeTask\",\n        process_id: process_id,\n        session_id: session_id,\n        taskID: taskID,\n        variables: {\n          userAction: { value: \"test\" },\n        }\n      }\n      console.log(\"button back: \", commandJson)\n      props.sendFieldValues(commandJson)\n      props.clearTabData(process_id)\n    }\n\n    else {\n      console.log(\"button: \", buttonName)\n    }\n  }\n  // Returns Button component\n  function createButton(button, index) {\n    return (\n      <Button variant=\"outlined\"\n        name={button.name}\n        key={index}\n        onClick={() => buttonClick(button.name)}\n        style={{\n          margin: 3,\n          color: button.fontColor,\n          backgroundColor: button.backgroundColor,\n          height: 32,\n          fontSize: 12\n        }}\n        value={button.name}\n      >\n        {button.label}\n      </Button>\n    )\n  }\n  // Create sections with labels and call bodyBuilder function\n  function sectionBuilder(section, index) {\n    return (\n      <Table size=\"small\" key={index + \"table\"}>\n        <TableHead>\n          <TableRow style={{ height: 30 }}>\n            <TableCell\n              key={index = \"head\"}\n              style={{\n                color: \"black\",\n                fontSize: 14,\n                backgroundColor: sectionColor,\n                width: \"100%\"\n              }}>\n              {section.label}\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        {bodyBuilder(section)}\n      </Table>\n    )\n  }\n  // Create body of each section and call contentBuilder function\n  function bodyBuilder(section) {\n    return (\n      <Table size=\"small\">\n        <TableBody>\n          {section.contents.map((contentItem, index) => (\n            contentItem.show === true &&\n            <TableRow key={index} style={{ height: 30 }}>\n              <TableCell\n                key={index + \"cell1\"}\n                align=\"left\"\n                style={{ width: \"40%\" }}>\n                {contentItem.label}\n              </TableCell>\n              <TableCell\n                key={index + \"cell2\"}\n                align=\"left\"\n                style={{ width: \"60%\", height: 30 }}\n              >{contentBuilder(contentItem)}\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    )\n  }\n  // Create component by it's type\n  function contentBuilder(contentItem) {\n    if (contentItem.type === \"Text\") {\n      return (\n        <TextField\n          onKeyPress={onKeyPressText}\n          multiline={!isSearchForm}\n          onBlur={handleTextChange}\n          name={contentItem.name}\n          style={{ width: \"100%\" }}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          defaultValue={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n        />\n      )\n    }\n    else if (contentItem.type === \"DateTime\") {\n      return (\n        <TextField\n          onKeyPress={onKeyPressDateTime}\n          type=\"date\"\n          name={contentItem.name}\n          onBlur={handleDateTimeChange}\n          style={{ width: \"100%\" }}\n          defaultValue={(fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null) ? props.parseDate(fieldValue[contentItem.name]) : \"\"}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputLabelProps={{\n            shrink: true,\n          }}\n        />\n      )\n    }\n    else if (contentItem.type === \"FullDateTime\") {\n      return (\n        <TextField\n          name={contentItem.name}\n          onBlur={handleDateTimeChange}\n          style={{ width: \"100%\" }}\n          value={(fieldValue[contentItem.name] !== undefined && fieldValue[contentItem.name] !== null) ? props.parseFullDateTime(fieldValue[contentItem.name], \"T\") : \"\"}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputLabelProps={{\n            shrink: true\n          }}\n        />\n      )\n    }\n    else if (contentItem.type === \"Enum\") {\n      let selectedOption = {\n        \"value\": \"\",\n        \"label\": \"Пусто\",\n        \"name\": contentItem.name\n      }\n      if (fieldValue[contentItem.name] !== undefined) {\n\n        for (let i = 0; i < enumOptions[contentItem.name].length; i++) {\n          // console.log(\"F SEL\", contentItem.name, fieldValue[contentItem.name])\n          if (fieldValue[contentItem.name] === enumOptions[contentItem.name][i].value) {\n            // console.log(\"F SEL\", contentItem.name, fieldValue[contentItem.name])\n            selectedOption = enumOptions[contentItem.name][i]\n            break\n          }\n        }\n      }\n      if (selectedOptions.length !== 0) {\n        for (let i = 0; i < selectedOptions.length; i++) {\n          if (contentItem.name === selectedOptions[i].name) {\n            selectedOption = selectedOptions[i]\n          }\n        }\n      }\n      return (\n        <Select\n          name={contentItem.name}\n          value={selectedOption}\n          onChange={handleSelectChange}\n          options={enumOptions[contentItem.name]}\n          isDisabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          menuPortalTarget={document.body}\n          styles={{ menuPortal: base => ({ ...base, zIndex: 9999 }) }}\n        />\n      )\n    }\n    else if (contentItem.type === \"Int\") {\n      return (\n        <TextField\n          onKeyPress={onKeyPressInt}\n          name={contentItem.name}\n          // defaultValue = {(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name]: \"\"}\n          // onBlur={handleIntChange}\n          // value={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n          value={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n          onChange={handleIntChange}\n          style={{ width: \"100%\" }}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputProps={{ inputComponent: IntegerFormat }}\n        />\n      )\n    }\n    else if (contentItem.type === \"Float\") {\n      return (\n        <TextField\n          onKeyPress={onKeyPressFloat}\n          name={contentItem.name}\n          // onBlur={handleFloatChange}\n          // value={fieldValue[contentItem.name]}\n          value={(fieldValue[contentItem.name] !== undefined) ? fieldValue[contentItem.name] : \"\"}\n          onChange={handleFloatChange}\n          style={{ width: \"100%\" }}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          InputProps={{ inputComponent: FloatFormat }}\n        />\n      )\n    }\n    else if (contentItem.type === \"Bool\") {\n      return (\n        <Checkbox\n          style={{ maxWidth: 20, height: 15, color: (formType === \"view\" || contentItem.edit === false) ? \"grey\" : \"green\" }}\n          name={contentItem.name}\n          onChange={handleCheckboxChange}\n          disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n          checked={(fieldValue[contentItem.name] === \"True\" || fieldValue[contentItem.name] === true) ? true : false}\n        />\n      )\n    }\n    else if (contentItem.type === \"RadioGroup\") {\n      let radioGroupItems = []\n      for (let i = 0; i < enumData.length; i++) {\n        if (enumData[i].name === contentItem.name) {\n          radioGroupItems = enumData[i].data\n        }\n      }\n      return (\n        <RadioGroup\n          name={contentItem.name}\n          value={fieldValue[contentItem.name]}\n          onChange={handleRadioGroupChange}\n        >\n          {radioGroupItems.map(groupItem => {\n            return (\n              <FormControlLabel\n                value={groupItem.id}\n                label={groupItem.label}\n                control={<Radio style={{ height: \"5px\", color: \"green\" }} />}\n                disabled={(formType === \"view\" || contentItem.edit === false) ? true : false}\n              />\n            )\n          })}\n\n        </RadioGroup>\n      )\n    }\n  }\n  // Key press handlers for some fields\n  function onKeyPressText(event) {\n    let code = event.charCode\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleTextChange(event)\n          buttonClick(\"findDocument\", null)\n        }\n      }\n    }\n  }\n  function onKeyPressDateTime(event) {\n    let code = event.charCode\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          handleDateTimeChange(event)\n          buttonClick(\"findDocument\", null)\n        }\n      }\n    }\n  }\n  function onKeyPressInt(event) {\n    let code = event.charCode\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          // console.log(\"CODE\", code)\n          let stringNum = event.target.value.toString().replace(/ /g, '')\n          let int = parseInt(stringNum)\n          fieldValue[event.target.name] = int\n          setFieldValue(fieldValue)\n          filterDocList(0, size - 1, initialDocList, fieldValue)\n        }\n      }\n    }\n  }\n  function onKeyPressFloat(event) {\n    let code = event.charCode\n    if (code === 13) {\n      for (let i = 0; i < buttons.length; i++) {\n        if (buttons[i].name === \"findDocument\") {\n          let stringNum = event.target.value.toString().replace(/ /g, '')\n          let float = parseFloat(stringNum)\n          fieldValue[event.target.name] = float\n          setFieldValue(fieldValue)\n          filterDocList(0, size - 1, initialDocList, fieldValue)\n        }\n      }\n    }\n  }\n  function onKeyPressModalEnterPin(event) {\n    let code = event.charCode\n    if (code === 13) {\n      buttonClick(\"SignInstructionSaveButton\", null)\n    }\n  }\n  function onKeyPressModalCancelInstruction(event) {\n    let code = event.charCode\n    if (code === 13) {\n      buttonClick(\"CancelInstructionSaveButton\", null)\n    }\n  }\n\n  // custom allerts\n  function swAlert(text, icon) {\n    return (\n      swal({\n        text: text,\n        icon: icon,\n        buttons: { ok: \"Ок\" }\n      })\n    )\n  }\n  function getGridFormEnumLabel(name, value) {\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i] !== null) {\n        if (name === gridFormEnumData[i].name) {\n          for (let l = 0; l < gridFormEnumData[i].data.length; l++) {\n            if (gridFormEnumData[i].data[l].id === parseInt(value)) {\n              return gridFormEnumData[i].data[l].label\n            }\n          }\n        }\n      }\n    }\n  }\n  // Create grid form components\n  function getGridFormItems(value, type, dataItem, name) {\n    if (type === \"Enum\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        return getGridFormEnumLabel(name, value)\n      }\n    }\n    else if (type === \"Bool\") {\n      return (\n        <Checkbox\n          style={{ maxWidth: 20, height: 15, color: value === false ? \"red\" : \"green\" }}\n          checked={(value === false || value === null || value === undefined) ? false : true}\n        />\n      )\n    }\n    else if (type === \"DateTime\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        return props.parseFullDateTime(value, \" \")\n        // return moment(value).format('YYYY-MM-DD HH:MM')\n      }\n    }\n    else if (type === \"Text\") {\n      if (name === \"instructionStatus\") {\n        return getInstructionStatus(dataItem)\n      }\n      else {\n        if (value === null || value === \"\" || value === undefined) {\n          return \"-\"\n        }\n        else {\n          return (<td>{value}</td>)\n        }\n      }\n    }\n    else if (type === \"Float\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        let newCur = props.currencyBeautifier(value)\n        return newCur\n      }\n    }\n    else if (type === \"Int\") {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        let newInt = props.intBeautifier(value)\n        return newInt\n      }\n    }\n    else {\n      if (value === null || value === \"\" || value === undefined) {\n        return \"-\"\n      }\n      else {\n        return (<td>{value}</td>)\n      }\n    }\n\n  }\n  function getInstructionStatus(dataItem) {\n    let status = \"\"\n    if (dataItem[\"filled\"] === true) {\n      status = \"Введено\"\n    }\n    if (dataItem[\"onExecution\"] === true) {\n      status = \"На исполнении\"\n    }\n    if (dataItem[\"executed\"] === true) {\n      status = \"Исполнено\"\n    }\n    if (dataItem[\"canceled\"] === true) {\n      status = \"Отменено\"\n    }\n    return status\n  }\n  function handleCloseSnackBar() {\n    setShowSnackBar(false)\n  }\n  function getContentType(key) {\n    for (let s = 0; s < Form.sections.length; s++) {\n      for (let c = 0; c < Form.sections[s].contents.length; c++) {\n        if (key === Form.sections[s].contents[c].name) {\n          return Form.sections[s].contents[c].type\n        }\n      }\n    }\n  }\n  // filter docList by filled parameters\n  function filterDocList(fetchFrom, fetchTo, Data, fields) {\n    var newDocList = []\n    if (Object.keys(fields).length === 0) {\n      newDocList = Data\n    }\n    else {\n      for (let i = 0; i < Data.length; i++) {\n        let match = false\n        for (let key in fields) {\n          if (fields[key] === null || fields[key] === \"\" || fields[key] === undefined) {\n            match = true\n          }\n          else {\n            // if(Data[i][key] !== null){\n            let contentType = getContentType(key)\n            if (contentType === \"Text\") {\n              if (Data[i][key] !== null) {\n                try {\n                  let searchField = fields[key].toLowerCase().trim()\n                  let dataField = Data[i][key].toLowerCase()\n                  let includeSearch = dataField.includes(searchField)\n                  if (includeSearch === true) {\n                    match = true\n                  }\n                  else {\n                    match = false\n                    break\n                  }\n                }\n                catch (er) {\n                  console.log(\"ERR\", er)\n                  match = true\n                }\n              }\n              else {\n                match = false\n                break\n              }\n            }\n            else if (contentType === \"Int\" || contentType === \"Float\") {\n              if (Data[i][key] !== null) {\n                if (fields[key] >= 0 || fields[key] < 0) {\n                  let searchField = fields[key].toString()\n                  let dataField = Data[i][key].toString()\n                  let includeSearch = dataField.includes(searchField)\n                  if (includeSearch === true) {\n                    match = true\n                  }\n                  else {\n                    match = false\n                    break\n                  }\n                }\n                else { match = true }\n              }\n              else {\n                match = false\n                break\n              }\n            }\n            else if (contentType === \"Enum\") {\n              if (key === \"depositor\") {\n                // console.log(\"DEPOSITOR\", fields[key], Data[i][\"depositor2\"])\n                if (fields[key] === Data[i][key] || fields[key] === Data[i][\"depositor2\"]) {\n                  match = true\n                }\n                else {\n                  match = false\n                  break\n                }\n              }\n              else if (key === \"account\") {\n                if (fields[key] === Data[i][\"accFrom\"] || fields[key] === Data[i][\"accTo\"]) {\n                  match = true\n                }\n                else {\n                  match = false\n                  break\n                }\n              }\n              else {\n                if (fields[key] === Data[i][key]) {\n                  match = true\n                }\n                else {\n                  match = false\n                  break\n                }\n              }\n\n            }\n            else if (contentType === \"DateTime\") {\n              if (Data[i][key] !== null) {\n                let searchField = props.parseDate(fields[key])\n                let dataField = props.parseDate(Data[i][key])\n                // console.log(\"DATES\", searchField, dataField, searchField.includes(dataField))\n                if (searchField === \"NaN-NaN-NaN\" || searchField === \"Invalid date\") {\n                  match = true\n                }\n                else {\n                  if (searchField.includes(dataField) === true) {\n                    match = true\n                  }\n                  else {\n                    match = false\n                    break\n                  }\n                }\n              }\n              else {\n                match = false\n                break\n              }\n            }\n            else if (contentType === \"Bool\") {\n              if (key === \"filled\" || key === \"onExecution\" || key === \"executed\" || key === \"canceled\") {\n                let instrStatus = \"\"\n                let statusSelected = false\n                let fieldStatus = \"\"\n                // Check fields\n                if (fields[\"filled\"] === true) {\n                  fieldStatus = \"filled\"\n                  statusSelected = true\n                }\n                if (fields[\"onExecution\"] === true) {\n                  fieldStatus = \"onExecution\"\n                  statusSelected = true\n                }\n                if (fields[\"executed\"] === true) {\n                  fieldStatus = \"executed\"\n                  statusSelected = true\n                }\n                if (fields[\"canceled\"] === true) {\n                  fieldStatus = \"canceled\"\n                  statusSelected = true\n                }\n                if (statusSelected === true) {\n                  // Check Instruction\n                  if (Data[i][\"filled\"] === true) {\n                    instrStatus = \"filled\"\n                  }\n                  if (Data[i][\"onExecution\"] === true) {\n                    instrStatus = \"onExecution\"\n                  }\n                  if (Data[i][\"executed\"] === true) {\n                    instrStatus = \"executed\"\n                  }\n                  if (Data[i][\"canceled\"] === true) {\n                    instrStatus = \"canceled\"\n                  }\n                  // Check whether statuses are equal\n                  if (fieldStatus === instrStatus) {\n                    match = true\n                  }\n                  else {\n                    match = false\n                    break\n                  }\n                }\n                else {\n                  match = true\n                }\n              }\n              else {\n                if (Data[i][key] === null || fields[key] === Data[i][key]) {\n                  match = true\n                }\n                else {\n                  match = false\n                  break\n                }\n              }\n            }\n            // }\n            // else{\n            //   match = false\n            //   break\n            // }\n          }\n        }\n        if (match === true) {\n          newDocList.push(Data[i])\n        }\n      }\n    }\n    setFilteredDocList(newDocList)\n    fetchBySize(fetchFrom, fetchTo, newDocList)\n  }\n  // get rows amount of filtered docList by size\n  function fetchBySize(fetchFrom, fetchTo, Data) {\n    let newDocList = []\n    for (let i = fetchFrom; i <= fetchTo; i++) {\n      if (Data[i] !== undefined) {\n        newDocList.push(Data[i])\n      }\n    }\n    setDocList(newDocList)\n    // setUpdateState(getUUID())\n  }\n  // Pagination functions\n  function KeyboardArrowFirstClick() {\n    if (page !== 1) {\n      setPage(1)\n      fetchBySize(0, size - 1, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowLastClick() {\n    if (page !== getPageAmount()) {\n      setPage(getPageAmount())\n      fetchBySize((getPageAmount() - 1) * size, filteredDocList.length, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на последней странице!\")\n      setShowSnackBar(true)\n    }\n  }\n\n  function KeyboardArrowLeftClick(page) {\n    if (page !== 1) {\n      var prevPage = page - 1\n      setPage(prevPage)\n      let fetchFrom = ((prevPage - 1) * size) //10\n      let fetchTo = (size * prevPage) - 1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n    else {\n      setSnackBarMessage(\"Вы на первой странице!\")\n      setShowSnackBar(true)\n    }\n  }\n  function KeyboardArrowRightClick(page) {\n    if (docList.length < size - 1) {\n      // console.log(\"NO DATA\")\n      setSnackBarMessage(\"Больше нет данных!\")\n      setShowSnackBar(true)\n    }\n    else {\n      setPage(page + 1)\n      let fetchFrom = (size * page)\n      let fetchTo = ((page + 1) * size) - 1\n      fetchBySize(fetchFrom, fetchTo, filteredDocList)\n    }\n\n  }\n  function handleChangeRowsPerPage(event) {\n    setSize(event.target.value)\n    setPage(1)\n    fetchBySize(0, event.target.value - 1, filteredDocList)\n  }\n  function GoToPage() {\n    let fetchFrom = (page * size - 1) - size\n    let fetchTo = page * size - 1\n    fetchBySize(fetchFrom, fetchTo, filteredDocList)\n  }\n  function handlePageChange(event) {\n    setPage(event.target.value)\n  }\n  function handleCloseSnackBar() {\n    setShowSnackBar(false)\n  }\n  function getPageAmount() {\n    let pagesFloat = (filteredDocList.length) / size\n    let mathRoundOfPages = Math.floor(pagesFloat)\n    if (pagesFloat > mathRoundOfPages) {\n      return mathRoundOfPages + 1\n    }\n    else {\n      return mathRoundOfPages\n    }\n  }\n  function getBackgroundColor(signed, urgent) {\n    if (signed !== undefined) {\n      if (signed === true) {\n        return \"white\"\n      }\n      else {\n        if (urgent === true) {\n          return \"#EFB2B2\"\n        }\n        else {\n          return \"#FCEAD3\"\n        }\n      }\n    }\n    else return \"white\"\n  }\n  function checkToShowSection(section) {\n    let showSection = false\n    for (let i = 0; i < section.contents.length; i++) {\n      if (section.contents[i].show === true) {\n        showSection = true\n        break\n      }\n    }\n    return showSection\n  }\n  function checkSectionOnLastChild(i) {\n    let lastSection = true\n    if (i === gridForm.sections.length - 1) { // The last section\n      return true\n    }\n    else {\n      let nextS = i + 1\n      // console.log(\"IT\", i, gridForm.sections[nextS])\n      for (let s = nextS; s < gridForm.sections.length; s++) {\n        for (let c = 0; c < gridForm.sections[s].contents.length; c++) { // Check next section\n          if (gridForm.sections[s].contents[c].show === true) {\n            lastSection = false\n            break\n          }\n        }\n      }\n    }\n    return lastSection\n  }\n\n  function getForm() {\n    return (\n      <Grid container direction=\"row\" justify=\"flex-start\" spacing={1}>\n        <Grid item xs={isSearchForm === true ? 12 : 9}>\n          <Paper>\n            {isSearchForm === false &&\n              <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                <TableHead>\n                  <TableRow style={{ maxHeight: 25 }}>\n                    <TableCell style={{ fontSize: 16, color: \"black\" }}>{Form.label}</TableCell>\n                  </TableRow>\n                </TableHead>\n              </Grid>\n            }\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n              {Form.sections.map((section, index) => {\n                let showSection = checkToShowSection(section)\n                if (showSection === true) {\n                  return sectionBuilder(section, index)\n                }\n              })}\n            </Grid>\n\n          </Paper>\n        </Grid>\n      </Grid>\n    )\n  }\n  function getEnumLabel(name, id) {\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i].name === name) {\n        for (let d = 0; d < gridFormEnumData[i].data.length; d++) {\n          if (gridFormEnumData[i].data[d].id === id) {\n            return gridFormEnumData[i].data[d].label\n          }\n        }\n      }\n    }\n  }\n  function dynamicSort(property, sortOrder, type) {\n    // if (type === \"DateTime\" || type === \"Bool\") {\n    //   sortOrder = sortOrder * -1\n    // }\n    // console.log(\"SORT\", property, sortOrder, type)\n    if (type === \"DateTime\") {\n      sortOrder = sortOrder * -1\n      return function (a, b) {\n        if (a[property] !== null && b[property] !== null) {\n          let dateA = new Date(a[property].substring(0, 19))\n          let timeInSecA = dateA.getTime() / 1000\n          // console.log(\"timeInSecA\", timeInSecA)\n          let dateB = new Date(b[property].substring(0, 19))\n          let timeInSecB = dateB.getTime() / 1000\n          // console.log(\"timeInSecB\", timeInSecB)\n          var result = (timeInSecA < timeInSecB) ? -1 : (timeInSecA > timeInSecB) ? 1 : 0\n          return result * sortOrder\n        }\n        else {\n          if (a[property] === null) {\n            return -1 * sortOrder\n          }\n          return 1 * sortOrder\n        }\n      }\n    }\n    else if (type === \"Int\" || type === \"Text\" || type === \"Float\") {\n      if (property === \"instructionStatus\") {\n        return function (a, b) {\n          // console.log(\"A\", a)\n          let statusA = getInstructionStatus(a)\n          let statusB = getInstructionStatus(b)\n          var result = (statusA < statusB) ? -1 : (statusA > statusB) ? 1 : 0\n          return result * sortOrder\n        }\n      }\n      else {\n        return function (a, b) {\n          var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0\n          return result * -1 * sortOrder\n        }\n      }\n\n    }\n    else if (type === \"Bool\" || type === \"BoolCustom\") {\n      sortOrder = sortOrder * -1\n      return function (a, b) {\n        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0\n        return result * sortOrder\n      }\n    }\n    else if (type === \"Enum\") {\n      return function (a, b) {\n        let labelA = getEnumLabel(property, a[property])\n        // console.log(\"A\", property, a[property], labelA)\n        let labelB = getEnumLabel(property, b[property])\n        // console.log(\"labelB\", labelB, property, b)\n        var result = (labelA < labelB) ? -1 : (labelA > labelB) ? 1 : 0\n        return result * sortOrder\n      }\n    }\n  }\n  function sortDataByColumn(name, type) {\n    let sortOrder = 1\n    if (sortedColumn === name) {\n      sortOrder = sortedColumnOrder * -1\n    }\n    setSortedColumnOrder(sortOrder)\n    setSortedColumn(name)\n    let sortedDocList = filteredDocList.sort(dynamicSort(name, sortOrder, type))\n    setPage(1)\n    let fetchFrom = 0\n    let fetchTo = size - 1\n    setFilteredDocList(sortedDocList)\n    fetchBySize(fetchFrom, fetchTo, sortedDocList)\n  }\n  function getSecType(id) {\n    let type = 1\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i] !== null) {\n        if (gridFormEnumData[i].name === \"security\") {\n          for (let d = 0; d < gridFormEnumData[i].data.length; d++) {\n            if (gridFormEnumData[i].data[d].id === id) {\n              type = gridFormEnumData[i].data[d].type\n            }\n          }\n        }\n      }\n    }\n    for (let i = 0; i < gridFormEnumData.length; i++) {\n      if (gridFormEnumData[i] !== null) {\n        if (gridFormEnumData[i].name === \"securityTypes\") {\n          for (let d = 0; d < gridFormEnumData[i].data.length; d++) {\n            if (gridFormEnumData[i].data[d].id === type) {\n              return gridFormEnumData[i].data[d].label\n            }\n          }\n        }\n      }\n    }\n  }\n  function calculateColSpan(contents) {\n    let num = 0\n    for (let i = 0; i < contents.length; i++) {\n      if (contents[i].show === true) {\n        num += 1\n      }\n    }\n    return num\n  }\n  const handleContextMenu = (event) => {\n    if (userProfile.userRole === \"1\") {\n      event.preventDefault()\n      setAnchorEl(event.currentTarget)\n    }\n  }\n  const handleCloseMenu = () => {\n    setAnchorEl(null)\n    // console.log(\"CLOSE\", fieldValue)\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        gridForm.sections[s].contents[c].show = gridFieldValue[gridForm.sections[s].contents[c].name]\n      }\n    }\n    console.log(\"nForm\", gridForm)\n    setGridForm(gridForm)\n    setUpdateState(getUUID())\n  }\n  function createMenuItems() {\n    let columns = []\n    columns.push(\n      <tr>\n        <td\n          style={{ paddingLeft: 5, cursor: \"pointer\" }}\n          name={\"selectAll\"}\n          onClick={() => handleTableCheckboxChange(\"selectAll\")}\n        >\n          Выбрать все\n        </td>\n        <td>\n          <Checkbox\n            style={{ maxWidth: 20, height: 15, color: \"green\" }}\n            name={\"selectAll\"}\n            onChange={handleGridCheckboxChange}\n            checked={(gridFieldValue[\"selectAll\"] === false || gridFieldValue[\"selectAll\"] === null || gridFieldValue[\"selectAll\"] === undefined) ? false : true}\n          />\n        </td>\n      </tr>\n    )\n    for (let s = 0; s < gridForm.sections.length; s++) {\n      for (let c = 0; c < gridForm.sections[s].contents.length; c++) {\n        let name = gridForm.sections[s].contents[c].name\n        columns.push(\n          <tr>\n            <td\n              style={{ paddingLeft: 5, cursor: \"pointer\", background: gridFieldValue[name] === true ? \"#E2E2E2\" : \"white\" }}\n              name={name}\n              onClick={() => handleTableCheckboxChange(name)}\n            >\n              {gridForm.sections[s].contents[c].label}\n            </td>\n            <td>\n              <Checkbox\n                style={{ maxWidth: 20, height: 15, color: \"green\" }}\n                name={name}\n                onChange={handleGridCheckboxChange}\n                checked={(gridFieldValue[name] === false || gridFieldValue[name] === null || gridFieldValue[name] === undefined) ? false : true}\n              />\n            </td>\n          </tr>\n        )\n      }\n    }\n    return columns\n  }\n  function downloadExcel() {\n    tableToExcel.convert(document.getElementById(gridTableId))\n  }\n  const handleGridCheckboxChange = (event) => {\n    // console.log(\"CHBX\", event.target.name, event.target.checked)\n    if (event.target.name === \"selectAll\") {\n      let newFields = { [event.target.name]: event.target.checked }\n      for (let key in gridFieldValue) {\n        newFields[key] = !gridFieldValue[event.target.name]\n      }\n      // console.log(\"selectAll\", newFields)\n      setGridFieldValue(newFields)\n    }\n    else {\n      setGridFieldValue({ ...gridFieldValue, [event.target.name]: event.target.checked })\n    }\n  }\n  const handleTableCheckboxChange = (name) => {\n    // console.log(\"TD CHBX\", name)\n    if (name === \"selectAll\") {\n      let newFields = { ...gridFieldValue }\n      for (let key in newFields) {\n        newFields[key] = !gridFieldValue[name]\n      }\n      setGridFieldValue(newFields)\n    }\n    else {\n      setGridFieldValue({ ...gridFieldValue, [name]: !gridFieldValue[name] })\n    }\n  }\n  function previewInstruction(instr) {\n    // console.log(\"SELECTED INSTR\", instr)\n    setSelectedInstruction(instr)\n  }\n  try {\n    return (\n      <Grid>\n        {isSearchForm !== null &&\n          isSearchForm === true\n          ?\n          <Grid container direction=\"row\" justify=\"flex-start\" spacing={1}>\n            <Grid item xs={9}>\n              <Accordion expanded={accordionExpanded} onChange={() => handleExpandAccordion()}>\n                <AccordionSummary\n                  expandIcon={<ExpandMoreIcon />}\n                >\n                  <Typography>{Form.label}</Typography>\n                </AccordionSummary>\n                <AccordionDetails>\n                  {getForm()}\n                </AccordionDetails>\n              </Accordion>\n            </Grid>\n          </Grid>\n          :\n          getForm()\n        }\n        <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"flex-start\">\n          {buttons.map((button, index) => {\n            return createButton(button, index)\n          })}\n          {taskType !== \"showInstructionsGIKSearchForm\" &&\n\n            <>\n              <Button\n                component=\"a\"\n                href=\"../Инструкция Рутокен.docx\"\n                download\n                variant=\"outlined\"\n                style={{\n                  margin: 3,\n                  backgroundColor: \"#13611B\",\n                  color: \"white\",\n                  height: 32,\n                  fontSize: 12\n                }}\n                onClick={() => buttonClick(\"downloadES\")}\n                startIcon={<DescriptionIcon />}\n              >Инструкция ЭЦП\n              </Button>\n              <Button\n                component=\"a\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href=\"https://www.rutoken.ru/support/download/rutoken-plugin/\"\n                download\n                variant=\"outlined\"\n                style={{\n                  margin: 3,\n                  backgroundColor: \"#13611B\",\n                  color: \"white\",\n                  height: 32,\n                  fontSize: 12\n                }}\n              >Плагин\n              </Button>\n              <Button\n                component=\"a\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href=\"https://www.rutoken.ru/support/download/windows/\"\n                download\n                variant=\"outlined\"\n                style={{\n                  margin: 3,\n                  backgroundColor: \"#13611B\",\n                  color: \"white\",\n                  height: 32,\n                  fontSize: 12\n                }}\n              >Драйвер\n              </Button>\n            </>\n          }\n        </Grid>\n        {isSearchForm === true &&\n          <ReplayIcon style={{ paddingTop: 3, cursor: \"pointer\" }} onClick={() => buttonClick(\"updateDocList\")} />\n        }\n        {/* Create grid table with data from doclist */}\n        {docList !== null &&\n          <Grid container direction=\"row\" justify=\"flex-start\" spacing={0}>\n            <Grid item sm={\"auto\"}>\n              <Paper>\n                <div style={{ height: \"500px\", overflow: \"auto\" }}>\n                  <table size=\"small\" class=\"main-table-style\" id={gridTableId}>\n                    <thead class=\"thead-style\" style={{ position: \"sticky\", top: 0 }}>\n                      {/* 1st Row Sections Labels */}\n                      <tr>\n                        <td class=\"td-head-first-child\" colSpan=\"1\" onContextMenu={(ev) => handleContextMenu(ev)}></td>\n                        {gridForm.sections.map((section, index) => {\n                          let showSection = checkToShowSection(section)\n                          if (showSection === true) {\n                            let lastSection = checkSectionOnLastChild(index)\n                            return (\n                              <td\n                                class={lastSection === true ? \"td-head-last-child\" : \"td-head-style\"}\n                                colSpan={calculateColSpan(section.contents)}\n                                onContextMenu={(ev) => handleContextMenu(ev)}\n                              >\n                                {section.label}\n                              </td>\n                            )\n                          }\n                        })}\n                      </tr>\n                      {/* 2nd Row Sections Contents labels */}\n                      <tr>\n                        <td\n                          class=\"td-head-style-2row\"\n                          rowSpan=\"2\"\n                          style={{ \"minWidth\": \"65px\" }}\n                          onContextMenu={(ev) => handleContextMenu(ev)}\n                        >\n                          Действие\n                        </td>\n                        {gridForm.sections.map(section =>\n                          section.contents.map(contentItem => {\n                            if (contentItem.show === true) {\n                              return (\n                                <td\n                                  class=\"td-head-style-2row\"\n                                  rowSpan=\"2\"\n                                  onClick={() => sortDataByColumn(contentItem.name, contentItem.type)}\n                                  onContextMenu={(ev) => handleContextMenu(ev)}\n                                >\n                                  {contentItem.label}{sortedColumn === contentItem.name ? sortedColumnOrder === 1 ? <ArrowDropDownIcon style={{ marginBottom: -8 }} /> : <ArrowDropUpIcon style={{ marginBottom: -8 }} /> : \"\"}\n                                </td>\n                              )\n                            }\n                          })\n                        )}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {Object.keys(docList).length !== 0 &&\n                        docList.map(dataItem => (\n                          <tr style={{ \"height\": 30, \"backgroundColor\": getBackgroundColor(dataItem.opened, dataItem.urgent), cursor: \"pointer\" }}>\n                            <td style={{ \"width\": 34, \"border-bottom\": \"1px solid grey\" }}>\n                              {gridFormButtons !== \"null\" &&\n                                gridFormButtons.map(button =>\n                                  <Button\n                                    key={button.name}\n                                    name={button.name}\n                                    variant=\"outlined\"\n                                    value={button.name}\n                                    onClick={() => buttonClick(button.name, dataItem)}\n                                    style={{\n                                      margin: 1,\n                                      height: 24,\n                                      fontSize: 10,\n                                      maxWidth: 32,\n                                      backgroundColor: button.backgroundColor,\n                                      borderColor: \"darkgreen\",\n                                      color: \"darkgreen\"\n                                    }}\n                                  >{button.label}\n                                  </Button>\n                                )}\n                            </td>\n                            {gridForm.sections.map(section => {\n                              return (\n                                section.contents.map(contentItem => {\n                                  if (contentItem.show === true) {\n                                    return (\n                                      <td class=\"td-body-style\" style={{ color: (selectedInstruction !== null ? (selectedInstruction.id === dataItem.id ? \"blue\" : \"black\") : \"black\") }} onClick={() => previewInstruction(dataItem)}>\n                                        {getGridFormItems(dataItem[contentItem.name], contentItem.type, dataItem, contentItem.name)}\n                                      </td>\n                                    )\n                                  }\n                                })\n                              )\n                            })}\n                          </tr>\n                        )\n                        )}\n                    </tbody>\n                  </table>\n                </div>\n                <tfoot>\n                  <tr>\n                    <td style={{ paddingLeft: \"3px\" }}>\n                      <Button\n                        variant=\"outlined\"\n                        style={{ background: \"#047535\", color: \"white\", height: 28 }}\n                        onClick={() => downloadExcel()}\n                      >В EXCEL\n                      </Button>\n                    </td>\n                    <td style={{ paddingLeft: \"20px\" }}>\n                      <div style={{ minWidth: 90, color: \"black\" }}>Кол-во записей</div>\n                    </td>\n                    <td style={{ paddingLeft: \"3px\" }}>\n                      <FormControl\n                        variant=\"outlined\"\n                        style={{ minWidth: 30 }}\n                      >\n                        <GridSelect\n                          onChange={handleChangeRowsPerPage}\n                          style={{ height: 25, color: \"black\" }}\n                          value={size}\n                        >\n                          <MenuItem value={10}>10</MenuItem>\n                          <MenuItem value={20}>20</MenuItem>\n                          <MenuItem value={50}>50</MenuItem>\n                          <MenuItem value={100}>100</MenuItem>\n                          <MenuItem value={200}>200</MenuItem>\n                          <MenuItem value={500}>500</MenuItem>\n                          <MenuItem value={500}>1000</MenuItem>\n                        </GridSelect>\n                      </FormControl>\n                    </td>\n                    <td>\n                      <Tooltip title=\"На первую страницу\">\n                        <IconButton onClick={() => KeyboardArrowFirstClick()}>\n                          <FirstPageIcon style={{ fontSize: \"large\", color: \"black\" }} />\n                        </IconButton>\n                      </Tooltip>\n                    </td>\n                    <td>\n                      <Tooltip title=\"На предыдущюю страницу\">\n                        <IconButton onClick={() => KeyboardArrowLeftClick(page)}>\n                          <ArrowBackIosIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                        </IconButton>\n                      </Tooltip>\n                    </td>\n                    <td style={{ color: \"black\", fontSize: 16 }}>\n                      <input style={{ maxWidth: 25 }} value={page} onChange={handlePageChange}></input>\n                    </td>\n                    <td style={{ paddingLeft: \"3px\" }}>\n                      <Tooltip title=\"Перейти на указанную страницу\">\n                        <Button\n                          onClick={() => GoToPage()}\n                          variant=\"outlined\"\n                          style={{\n                            height: 22,\n                            backgroundColor: \"#D1D6D6\",\n                            fontSize: 12\n                          }}\n                        >перейти\n                        </Button>\n                      </Tooltip>\n                    </td>\n                    <td>\n                      <Tooltip title=\"На следующюю страницу\">\n                        <IconButton onClick={() => KeyboardArrowRightClick(page)}>\n                          <ArrowForwardIosIcon style={{ fontSize: \"medium\", color: \"black\" }} />\n                        </IconButton>\n                      </Tooltip>\n                    </td>\n                    <td>\n                      <Tooltip title=\"На последнюю страницу\">\n                        <IconButton onClick={() => KeyboardArrowLastClick()}>\n                          <LastPageIcon style={{ fontSize: \"large\", color: \"black\" }} />\n                        </IconButton>\n                      </Tooltip>\n                    </td>\n                    <td class=\"pagination-rows-amount-style\">Стр. {page} из {getPageAmount()}</td>\n                    <td style={{ paddingLeft: \"30px\" }}>\n                      <div style={{ minWidth: 90, color: \"black\" }}>Общее кол-во {filteredDocList !== null ? filteredDocList.length : 0}</div>\n                    </td>\n                  </tr>\n                </tfoot>\n              </Paper>\n              {selectedInstruction !== null &&\n                <table size=\"small\" style={{ width: \"100%\" }}>\n                  {selectedInstruction.depositor !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Депонент(Со счёта):</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"depositor\", selectedInstruction.depositor)}</td>\n                    </tr>\n                  }\n                  {selectedInstruction.accFrom !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Со счёта:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"accFrom\", selectedInstruction.accFrom)}</td>\n                    </tr>\n                  }\n                  {selectedInstruction.depositor2 !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Депонент(На счёт):</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"depositor2\", selectedInstruction.depositor2)}</td>\n                    </tr>\n                  }\n                  {selectedInstruction.accTo !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>На счёт:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"accTo\", selectedInstruction.accTo)}</td>\n                    </tr>\n                  }\n                  {selectedInstruction.security !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Ценная бумага:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"security\", selectedInstruction.security) + \" \" + getSecType(selectedInstruction.security)}</td>\n                    </tr>\n\n                  }\n                  {selectedInstruction.currency !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Валюта:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"currency\", selectedInstruction.currency)}</td>\n                    </tr>\n\n                  }\n                  {selectedInstruction.security !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Эмитент:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"issuer\", selectedInstruction.issuer)}</td>\n                    </tr>\n                  }\n                  {selectedInstruction.tradingSystem !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Торговая система:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"tradingSystem\", selectedInstruction.tradingSystem)}</td>\n                    </tr>\n                  }\n                  {selectedInstruction.corrDepository !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Корр. депозитарий:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{getGridFormEnumLabel(\"corrDepository\", selectedInstruction.corrDepository)}</td>\n                    </tr>\n                  }\n                  {(selectedInstruction.ownerName !== null || selectedInstruction.ownerDocument !== null || selectedInstruction.ownerAddress !== null) &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Данные о владельце:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{selectedInstruction.ownerName + \" \" + selectedInstruction.ownerDocument + \" \" + selectedInstruction.ownerAddress}</td>\n                    </tr>\n                  }\n                  {selectedInstruction.quantity !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Количество:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{selectedInstruction.quantity}</td>\n                    </tr>\n                  }\n                  {selectedInstruction.basis !== null &&\n                    <tr>\n                      <td style={{ fontSize: 11 }}>Основание:</td>\n                      <td style={{ fontSize: 11, border: \"1px solid black\" }}>{selectedInstruction.basis}</td>\n                    </tr>\n                  }\n                </table>\n              }\n              <Menu\n                anchorEl={anchorEl}\n                open={openMenu}\n                onClose={handleCloseMenu}\n                MenuListProps={{\n                  'aria-labelledby': 'basic-button',\n                }}\n                style={{ paddingLeft: \"100px\" }}\n              >\n                <table>\n                  {createMenuItems()}\n                </table>\n              </Menu>\n            </Grid>\n          </Grid>\n        }\n        <Snackbar\n          open={showSnackBar}\n          onClose={() => handleCloseSnackBar()}\n          autoHideDuration={1200}\n          message={snackBarMessage}\n        />\n        <Modal\n          open={showModalCancelInstruction}\n          onClose={handleCloseModalCancelInstruction}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        >\n          <div style={modalStyle} className={classes.modal}>\n            <h3 id=\"simple-modal-title\">Введите причину отмены</h3>\n            <TextField\n              variant=\"outlined\"\n              multiline\n              autoFocus\n              name=\"cancelationReason\"\n              defaultValue={(fieldValue[\"cancelationReason\"] >= 0) ? fieldValue[\"cancelationReason\"] : \"\"}\n              onChange={handleTextChange}\n              onKeyPress={onKeyPressModalCancelInstruction}\n              style={{ width: \"100%\" }}\n            />\n            <Button\n              variant=\"contained\"\n              onClick={() => buttonClick(\"CancelInstructionSaveButton\")}\n              style={{\n                margin: 3,\n                height: 32,\n                fontSize: 12,\n                color: \"white\",\n                backgroundColor: \"#2862F4\"\n              }}\n            >Ок\n            </Button>\n            <Button\n              variant=\"contained\"\n              onClick={() => buttonClick(\"CancelInstructionCancelButton\")}\n              style={{\n                margin: 3,\n                height: 32,\n                fontSize: 12,\n                color: \"white\",\n                backgroundColor: \"#E73639\"\n              }}\n            >Отмена\n            </Button>\n          </div>\n        </Modal>\n        <Modal\n          open={showModalEnterPin}\n          onClose={handleCloseModalEnterPin}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        >\n          <div style={modalStyle} className={classes.modal}>\n            <h3 id=\"simple-modal-title\">Введите ПИН код Рутокена</h3>\n            <FormControl variant=\"outlined\" style={{ width: \"100%\" }} error={wrongPin}>\n              <InputLabel htmlFor=\"outlined-adornment-password\">PIN</InputLabel>\n              <OutlinedInput\n                type={showPin ? 'text' : 'password'}\n                defaultValue={rutokenPin}\n                onChange={handlePinChange}\n                onKeyPress={onKeyPressModalEnterPin}\n                autoFocus\n                endAdornment={\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"toggle password visibility\"\n                      onClick={handleClickShowPin}\n                      edge=\"end\"\n                    >\n                      {showPin ? <Visibility /> : <VisibilityOff />}\n                    </IconButton>\n                  </InputAdornment>\n                }\n                labelWidth={25}\n              />\n            </FormControl>\n            {wrongPin === true && <p color=\"red\">Не верный PIN</p>}\n            <Button\n              variant=\"contained\"\n              onClick={() => buttonClick(\"SignInstructionSaveButton\")}\n              style={{\n                margin: 3,\n                height: 32,\n                fontSize: 12,\n                color: \"white\",\n                backgroundColor: \"#2862F4\"\n              }}\n            >Ок\n            </Button>\n            <Button\n              variant=\"contained\"\n              onClick={handleCloseModalEnterPin}\n              style={{\n                margin: 3,\n                height: 32,\n                fontSize: 12,\n                color: \"white\",\n                backgroundColor: \"#E73639\"\n              }}\n            >Отмена\n            </Button>\n          </div>\n        </Modal>\n\n      </Grid>\n    )\n  }\n  catch (error) {\n    console.log(\"ERROR\", error)\n    return (\n      <Grid container direction=\"row\" justify=\"center\" spacing={0}>\n        <Grid item xs={12}>\n          <LinearProgress />\n        </Grid>\n      </Grid>\n    )\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}